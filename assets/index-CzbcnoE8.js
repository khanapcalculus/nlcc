var gT=Object.defineProperty;var mT=(e,t,n)=>t in e?gT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Es=(e,t,n)=>mT(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const r of u.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var N5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ap(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o8={exports:{}},Ld={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT=Symbol.for("react.transitional.element"),yT=Symbol.for("react.fragment");function f8(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var l in t)l!=="key"&&(n[l]=t[l])}else n=t;return t=n.ref,{$$typeof:pT,type:e,key:a,ref:t!==void 0?t:null,props:n}}Ld.Fragment=yT;Ld.jsx=f8;Ld.jsxs=f8;o8.exports=Ld;var k=o8.exports,h8={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp=Symbol.for("react.transitional.element"),vT=Symbol.for("react.portal"),ST=Symbol.for("react.fragment"),_T=Symbol.for("react.strict_mode"),bT=Symbol.for("react.profiler"),ET=Symbol.for("react.consumer"),TT=Symbol.for("react.context"),CT=Symbol.for("react.forward_ref"),AT=Symbol.for("react.suspense"),xT=Symbol.for("react.memo"),d8=Symbol.for("react.lazy"),O5=Symbol.iterator;function DT(e){return e===null||typeof e!="object"?null:(e=O5&&e[O5]||e["@@iterator"],typeof e=="function"?e:null)}var g8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m8=Object.assign,p8={};function jr(e,t,n){this.props=e,this.context=t,this.refs=p8,this.updater=n||g8}jr.prototype.isReactComponent={};jr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function y8(){}y8.prototype=jr.prototype;function ip(e,t,n){this.props=e,this.context=t,this.refs=p8,this.updater=n||g8}var sp=ip.prototype=new y8;sp.constructor=ip;m8(sp,jr.prototype);sp.isPureReactComponent=!0;var R5=Array.isArray,Se={H:null,A:null,T:null,S:null,V:null},v8=Object.prototype.hasOwnProperty;function up(e,t,n,a,l,u){return n=u.ref,{$$typeof:lp,type:e,key:t,ref:n!==void 0?n:null,props:u}}function MT(e,t){return up(e.type,t,void 0,void 0,void 0,e.props)}function rp(e){return typeof e=="object"&&e!==null&&e.$$typeof===lp}function NT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var U5=/\/+/g;function Gg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NT(""+e.key):t.toString(36)}function z5(){}function OT(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(z5,z5):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Qu(e,t,n,a,l){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(u){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case lp:case vT:r=!0;break;case d8:return r=e._init,Qu(r(e._payload),t,n,a,l)}}if(r)return l=l(e),r=a===""?"."+Gg(e,0):a,R5(l)?(n="",r!=null&&(n=r.replace(U5,"$&/")+"/"),Qu(l,t,n,"",function(g){return g})):l!=null&&(rp(l)&&(l=MT(l,n+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(U5,"$&/")+"/")+r)),t.push(l)),1;r=0;var o=a===""?".":a+":";if(R5(e))for(var f=0;f<e.length;f++)a=e[f],u=o+Gg(a,f),r+=Qu(a,t,n,u,l);else if(f=DT(e),typeof f=="function")for(e=f.call(e),f=0;!(a=e.next()).done;)a=a.value,u=o+Gg(a,f++),r+=Qu(a,t,n,u,l);else if(u==="object"){if(typeof e.then=="function")return Qu(OT(e),t,n,a,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function lh(e,t,n){if(e==null)return e;var a=[],l=0;return Qu(e,a,"","",function(u){return t.call(n,u,l++)}),a}function RT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var w5=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function UT(){}Dt.Children={map:lh,forEach:function(e,t,n){lh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return lh(e,function(){t++}),t},toArray:function(e){return lh(e,function(t){return t})||[]},only:function(e){if(!rp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Dt.Component=jr;Dt.Fragment=ST;Dt.Profiler=bT;Dt.PureComponent=ip;Dt.StrictMode=_T;Dt.Suspense=AT;Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Se;Dt.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Se.H.useMemoCache(e)}};Dt.cache=function(e){return function(){return e.apply(null,arguments)}};Dt.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=m8({},e.props),l=e.key,u=void 0;if(t!=null)for(r in t.ref!==void 0&&(u=void 0),t.key!==void 0&&(l=""+t.key),t)!v8.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(a[r]=t[r]);var r=arguments.length-2;if(r===1)a.children=n;else if(1<r){for(var o=Array(r),f=0;f<r;f++)o[f]=arguments[f+2];a.children=o}return up(e.type,l,void 0,void 0,u,a)};Dt.createContext=function(e){return e={$$typeof:TT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:ET,_context:e},e};Dt.createElement=function(e,t,n){var a,l={},u=null;if(t!=null)for(a in t.key!==void 0&&(u=""+t.key),t)v8.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(l[a]=t[a]);var r=arguments.length-2;if(r===1)l.children=n;else if(1<r){for(var o=Array(r),f=0;f<r;f++)o[f]=arguments[f+2];l.children=o}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)l[a]===void 0&&(l[a]=r[a]);return up(e,u,void 0,void 0,null,l)};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(e){return{$$typeof:CT,render:e}};Dt.isValidElement=rp;Dt.lazy=function(e){return{$$typeof:d8,_payload:{_status:-1,_result:e},_init:RT}};Dt.memo=function(e,t){return{$$typeof:xT,type:e,compare:t===void 0?null:t}};Dt.startTransition=function(e){var t=Se.T,n={};Se.T=n;try{var a=e(),l=Se.S;l!==null&&l(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(UT,w5)}catch(u){w5(u)}finally{Se.T=t}};Dt.unstable_useCacheRefresh=function(){return Se.H.useCacheRefresh()};Dt.use=function(e){return Se.H.use(e)};Dt.useActionState=function(e,t,n){return Se.H.useActionState(e,t,n)};Dt.useCallback=function(e,t){return Se.H.useCallback(e,t)};Dt.useContext=function(e){return Se.H.useContext(e)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(e,t){return Se.H.useDeferredValue(e,t)};Dt.useEffect=function(e,t,n){var a=Se.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return a.useEffect(e,t)};Dt.useId=function(){return Se.H.useId()};Dt.useImperativeHandle=function(e,t,n){return Se.H.useImperativeHandle(e,t,n)};Dt.useInsertionEffect=function(e,t){return Se.H.useInsertionEffect(e,t)};Dt.useLayoutEffect=function(e,t){return Se.H.useLayoutEffect(e,t)};Dt.useMemo=function(e,t){return Se.H.useMemo(e,t)};Dt.useOptimistic=function(e,t){return Se.H.useOptimistic(e,t)};Dt.useReducer=function(e,t,n){return Se.H.useReducer(e,t,n)};Dt.useRef=function(e){return Se.H.useRef(e)};Dt.useState=function(e){return Se.H.useState(e)};Dt.useSyncExternalStore=function(e,t,n){return Se.H.useSyncExternalStore(e,t,n)};Dt.useTransition=function(){return Se.H.useTransition()};Dt.version="19.1.0";h8.exports=Dt;var tt=h8.exports;const Ie=ap(tt);var S8={exports:{}},Yd={},_8={exports:{}},b8={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,$){var X=Q.length;Q.push($);t:for(;0<X;){var et=X-1>>>1,rt=Q[et];if(0<l(rt,$))Q[et]=$,Q[X]=rt,X=et;else break t}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var $=Q[0],X=Q.pop();if(X!==$){Q[0]=X;t:for(var et=0,rt=Q.length,ot=rt>>>1;et<ot;){var Et=2*(et+1)-1,Ot=Q[Et],me=Et+1,Qt=Q[me];if(0>l(Ot,X))me<rt&&0>l(Qt,Ot)?(Q[et]=Qt,Q[me]=X,et=me):(Q[et]=Ot,Q[Et]=X,et=Et);else if(me<rt&&0>l(Qt,X))Q[et]=Qt,Q[me]=X,et=me;else break t}}return $}function l(Q,$){var X=Q.sortIndex-$.sortIndex;return X!==0?X:Q.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var r=Date,o=r.now();e.unstable_now=function(){return r.now()-o}}var f=[],g=[],m=1,b=null,v=3,p=!1,_=!1,A=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function E(Q){for(var $=n(g);$!==null;){if($.callback===null)a(g);else if($.startTime<=Q)a(g),$.sortIndex=$.expirationTime,t(f,$);else break;$=n(g)}}function M(Q){if(A=!1,E(Q),!_)if(n(f)!==null)_=!0,O||(O=!0,q());else{var $=n(g);$!==null&&at(M,$.startTime-Q)}}var O=!1,w=-1,N=5,Y=-1;function z(){return x?!0:!(e.unstable_now()-Y<N)}function j(){if(x=!1,O){var Q=e.unstable_now();Y=Q;var $=!0;try{t:{_=!1,A&&(A=!1,T(w),w=-1),p=!0;var X=v;try{e:{for(E(Q),b=n(f);b!==null&&!(b.expirationTime>Q&&z());){var et=b.callback;if(typeof et=="function"){b.callback=null,v=b.priorityLevel;var rt=et(b.expirationTime<=Q);if(Q=e.unstable_now(),typeof rt=="function"){b.callback=rt,E(Q),$=!0;break e}b===n(f)&&a(f),E(Q)}else a(f);b=n(f)}if(b!==null)$=!0;else{var ot=n(g);ot!==null&&at(M,ot.startTime-Q),$=!1}}break t}finally{b=null,v=X,p=!1}$=void 0}}finally{$?q():O=!1}}}var q;if(typeof S=="function")q=function(){S(j)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ut=I.port2;I.port1.onmessage=j,q=function(){ut.postMessage(null)}}else q=function(){C(j,0)};function at(Q,$){w=C(function(){Q(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var X=v;v=$;try{return Q()}finally{v=X}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(Q,$){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var X=v;v=Q;try{return $()}finally{v=X}},e.unstable_scheduleCallback=function(Q,$,X){var et=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?et+X:et):X=et,Q){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=X+rt,Q={id:m++,callback:$,priorityLevel:Q,startTime:X,expirationTime:rt,sortIndex:-1},X>et?(Q.sortIndex=X,t(g,Q),n(f)===null&&Q===n(g)&&(A?(T(w),w=-1):A=!0,at(M,X-et))):(Q.sortIndex=rt,t(f,Q),_||p||(_=!0,O||(O=!0,q()))),Q},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(Q){var $=v;return function(){var X=v;v=$;try{return Q.apply(this,arguments)}finally{v=X}}}})(b8);_8.exports=b8;var Fc=_8.exports,E8={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT=tt;function T8(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function vi(){}var Bn={d:{f:vi,r:function(){throw Error(T8(522))},D:vi,C:vi,L:vi,m:vi,X:vi,S:vi,M:vi},p:0,findDOMNode:null},wT=Symbol.for("react.portal");function GT(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wT,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Jc=zT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Vd(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Bn;Ln.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(T8(299));return GT(e,t,null,n)};Ln.flushSync=function(e){var t=Jc.T,n=Bn.p;try{if(Jc.T=null,Bn.p=2,e)return e()}finally{Jc.T=t,Bn.p=n,Bn.d.f()}};Ln.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Bn.d.C(e,t))};Ln.prefetchDNS=function(e){typeof e=="string"&&Bn.d.D(e)};Ln.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=Vd(n,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,u=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Bn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:l,fetchPriority:u}):n==="script"&&Bn.d.X(e,{crossOrigin:a,integrity:l,fetchPriority:u,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ln.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Vd(t.as,t.crossOrigin);Bn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Bn.d.M(e)};Ln.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=Vd(n,t.crossOrigin);Bn.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ln.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Vd(t.as,t.crossOrigin);Bn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Bn.d.m(e)};Ln.requestFormReset=function(e){Bn.d.r(e)};Ln.unstable_batchedUpdates=function(e,t){return e(t)};Ln.useFormState=function(e,t,n){return Jc.H.useFormState(e,t,n)};Ln.useFormStatus=function(){return Jc.H.useHostTransitionStatus()};Ln.version="19.1.0";function C8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C8)}catch(e){console.error(e)}}C8(),E8.exports=Ln;var HT=E8.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nn=Fc,A8=tt,BT=HT;function K(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x8(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function D8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function G5(e){if(Bo(e)!==e)throw Error(K(188))}function LT(e){var t=e.alternate;if(!t){if(t=Bo(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,a=t;;){var l=n.return;if(l===null)break;var u=l.alternate;if(u===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===n)return G5(l),e;if(u===a)return G5(l),t;u=u.sibling}throw Error(K(188))}if(n.return!==a.return)n=l,a=u;else{for(var r=!1,o=l.child;o;){if(o===n){r=!0,n=l,a=u;break}if(o===a){r=!0,a=l,n=u;break}o=o.sibling}if(!r){for(o=u.child;o;){if(o===n){r=!0,n=u,a=l;break}if(o===a){r=!0,a=u,n=l;break}o=o.sibling}if(!r)throw Error(K(189))}}if(n.alternate!==a)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function M8(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=M8(e),t!==null)return t;e=e.sibling}return null}var ye=Object.assign,YT=Symbol.for("react.element"),ih=Symbol.for("react.transitional.element"),Kc=Symbol.for("react.portal"),Iu=Symbol.for("react.fragment"),N8=Symbol.for("react.strict_mode"),q2=Symbol.for("react.profiler"),VT=Symbol.for("react.provider"),O8=Symbol.for("react.consumer"),Rl=Symbol.for("react.context"),cp=Symbol.for("react.forward_ref"),K2=Symbol.for("react.suspense"),Q2=Symbol.for("react.suspense_list"),op=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),k2=Symbol.for("react.activity"),jT=Symbol.for("react.memo_cache_sentinel"),H5=Symbol.iterator;function zc(e){return e===null||typeof e!="object"?null:(e=H5&&e[H5]||e["@@iterator"],typeof e=="function"?e:null)}var XT=Symbol.for("react.client.reference");function Z2(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===XT?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Iu:return"Fragment";case q2:return"Profiler";case N8:return"StrictMode";case K2:return"Suspense";case Q2:return"SuspenseList";case k2:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Kc:return"Portal";case Rl:return(e.displayName||"Context")+".Provider";case O8:return(e._context.displayName||"Context")+".Consumer";case cp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case op:return t=e.displayName||null,t!==null?t:Z2(e.type)||"Memo";case Ti:t=e._payload,e=e._init;try{return Z2(e(t))}catch{}}return null}var Qc=Array.isArray,_t=A8.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Wt=BT.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rs={pending:!1,data:null,method:null,action:null},F2=[],$u=-1;function rl(e){return{current:e}}function pn(e){0>$u||(e.current=F2[$u],F2[$u]=null,$u--)}function _e(e,t){$u++,F2[$u]=e.current,e.current=t}var el=rl(null),go=rl(null),Gi=rl(null),kh=rl(null);function Zh(e,t){switch(_e(Gi,t),_e(go,e),_e(el,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?j6(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=j6(t),e=Z9(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pn(el),_e(el,e)}function Er(){pn(el),pn(go),pn(Gi)}function J2(e){e.memoizedState!==null&&_e(kh,e);var t=el.current,n=Z9(t,e.type);t!==n&&(_e(go,e),_e(el,n))}function Fh(e){go.current===e&&(pn(el),pn(go)),kh.current===e&&(pn(kh),Co._currentValue=Rs)}var W2=Object.prototype.hasOwnProperty,fp=nn.unstable_scheduleCallback,Hg=nn.unstable_cancelCallback,qT=nn.unstable_shouldYield,KT=nn.unstable_requestPaint,nl=nn.unstable_now,QT=nn.unstable_getCurrentPriorityLevel,R8=nn.unstable_ImmediatePriority,U8=nn.unstable_UserBlockingPriority,Jh=nn.unstable_NormalPriority,kT=nn.unstable_LowPriority,z8=nn.unstable_IdlePriority,ZT=nn.log,FT=nn.unstable_setDisableYieldValue,Lo=null,ca=null;function Oi(e){if(typeof ZT=="function"&&FT(e),ca&&typeof ca.setStrictMode=="function")try{ca.setStrictMode(Lo,e)}catch{}}var oa=Math.clz32?Math.clz32:PT,JT=Math.log,WT=Math.LN2;function PT(e){return e>>>=0,e===0?32:31-(JT(e)/WT|0)|0}var sh=256,uh=4194304;function xs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jd(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var l=0,u=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var o=a&134217727;return o!==0?(a=o&~u,a!==0?l=xs(a):(r&=o,r!==0?l=xs(r):n||(n=o&~e,n!==0&&(l=xs(n))))):(o=a&~u,o!==0?l=xs(o):r!==0?l=xs(r):n||(n=a&~e,n!==0&&(l=xs(n)))),l===0?0:t!==0&&t!==l&&!(t&u)&&(u=l&-l,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:l}function Yo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function IT(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w8(){var e=sh;return sh<<=1,!(sh&4194048)&&(sh=256),e}function G8(){var e=uh;return uh<<=1,!(uh&62914560)&&(uh=4194304),e}function Bg(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $T(e,t,n,a,l,u){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,f=e.expirationTimes,g=e.hiddenUpdates;for(n=r&~n;0<n;){var m=31-oa(n),b=1<<m;o[m]=0,f[m]=-1;var v=g[m];if(v!==null)for(g[m]=null,m=0;m<v.length;m++){var p=v[m];p!==null&&(p.lane&=-536870913)}n&=~b}a!==0&&H8(e,a,0),u!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=u&~(r&~t))}function H8(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-oa(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function B8(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-oa(n),l=1<<a;l&t|e[a]&t&&(e[a]|=t),n&=~l}}function hp(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function dp(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function L8(){var e=Wt.p;return e!==0?e:(e=window.event,e===void 0?32:a7(e.type))}function tC(e,t){var n=Wt.p;try{return Wt.p=e,t()}finally{Wt.p=n}}var Ii=Math.random().toString(36).slice(2),On="__reactFiber$"+Ii,Jn="__reactProps$"+Ii,Xr="__reactContainer$"+Ii,P2="__reactEvents$"+Ii,eC="__reactListeners$"+Ii,nC="__reactHandles$"+Ii,B5="__reactResources$"+Ii,jo="__reactMarker$"+Ii;function gp(e){delete e[On],delete e[Jn],delete e[P2],delete e[eC],delete e[nC]}function tr(e){var t=e[On];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[On]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=K6(e);e!==null;){if(n=e[On])return n;e=K6(e)}return t}e=n,n=e.parentNode}return null}function qr(e){if(e=e[On]||e[Xr]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function kc(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(K(33))}function or(e){var t=e[B5];return t||(t=e[B5]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function dn(e){e[jo]=!0}var Y8=new Set,V8={};function Fs(e,t){Tr(e,t),Tr(e+"Capture",t)}function Tr(e,t){for(V8[e]=t,e=0;e<t.length;e++)Y8.add(t[e])}var aC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),L5={},Y5={};function lC(e){return W2.call(Y5,e)?!0:W2.call(L5,e)?!1:aC.test(e)?Y5[e]=!0:(L5[e]=!0,!1)}function Dh(e,t,n){if(lC(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function rh(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Cl(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var Lg,V5;function ku(e){if(Lg===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Lg=t&&t[1]||"",V5=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lg+e+V5}var Yg=!1;function Vg(e,t){if(!e||Yg)return"";Yg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var b=function(){throw Error()};if(Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(p){var v=p}Reflect.construct(e,[],b)}else{try{b.call()}catch(p){v=p}e.call(b.prototype)}}else{try{throw Error()}catch(p){v=p}(b=e())&&typeof b.catch=="function"&&b.catch(function(){})}}catch(p){if(p&&v&&typeof p.stack=="string")return[p.stack,v.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=a.DetermineComponentFrameRoot(),r=u[0],o=u[1];if(r&&o){var f=r.split(`
`),g=o.split(`
`);for(l=a=0;a<f.length&&!f[a].includes("DetermineComponentFrameRoot");)a++;for(;l<g.length&&!g[l].includes("DetermineComponentFrameRoot");)l++;if(a===f.length||l===g.length)for(a=f.length-1,l=g.length-1;1<=a&&0<=l&&f[a]!==g[l];)l--;for(;1<=a&&0<=l;a--,l--)if(f[a]!==g[l]){if(a!==1||l!==1)do if(a--,l--,0>l||f[a]!==g[l]){var m=`
`+f[a].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=a&&0<=l);break}}}finally{Yg=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ku(n):""}function iC(e){switch(e.tag){case 26:case 27:case 5:return ku(e.type);case 16:return ku("Lazy");case 13:return ku("Suspense");case 19:return ku("SuspenseList");case 0:case 15:return Vg(e.type,!1);case 11:return Vg(e.type.render,!1);case 1:return Vg(e.type,!0);case 31:return ku("Activity");default:return""}}function j5(e){try{var t="";do t+=iC(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Aa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function j8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sC(e){var t=j8(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(r){a=""+r,u.call(this,r)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wh(e){e._valueTracker||(e._valueTracker=sC(e))}function X8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=j8(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Ph(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var uC=/[\n"\\]/g;function Ma(e){return e.replace(uC,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function I2(e,t,n,a,l,u,r,o){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Aa(t)):e.value!==""+Aa(t)&&(e.value=""+Aa(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?$2(e,r,Aa(t)):n!=null?$2(e,r,Aa(n)):a!=null&&e.removeAttribute("value"),l==null&&u!=null&&(e.defaultChecked=!!u),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Aa(o):e.removeAttribute("name")}function q8(e,t,n,a,l,u,r,o){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null))return;n=n!=null?""+Aa(n):"",t=t!=null?""+Aa(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r)}function $2(e,t,n){t==="number"&&Ph(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function fr(e,t,n,a){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Aa(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function K8(e,t,n){if(t!=null&&(t=""+Aa(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Aa(n):""}function Q8(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(K(92));if(Qc(a)){if(1<a.length)throw Error(K(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Aa(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function Cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function X5(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||rC.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function k8(e,t,n){if(t!=null&&typeof t!="object")throw Error(K(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var l in t)a=t[l],t.hasOwnProperty(l)&&n[l]!==a&&X5(e,l,a)}else for(var u in t)t.hasOwnProperty(u)&&X5(e,u,t[u])}function mp(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mh(e){return oC.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var tm=null;function pp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var er=null,hr=null;function q5(e){var t=qr(e);if(t&&(e=t.stateNode)){var n=e[Jn]||null;t:switch(e=t.stateNode,t.type){case"input":if(I2(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ma(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var l=a[Jn]||null;if(!l)throw Error(K(90));I2(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&X8(a)}break t;case"textarea":K8(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&fr(e,!!n.multiple,t,!1)}}}var jg=!1;function Z8(e,t,n){if(jg)return e(t,n);jg=!0;try{var a=e(t);return a}finally{if(jg=!1,(er!==null||hr!==null)&&(Pd(),er&&(t=er,e=hr,hr=er=null,q5(t),e)))for(t=0;t<e.length;t++)q5(e[t])}}function mo(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Jn]||null;if(a===null)return null;n=a[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Vl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),em=!1;if(Vl)try{var wc={};Object.defineProperty(wc,"passive",{get:function(){em=!0}}),window.addEventListener("test",wc,wc),window.removeEventListener("test",wc,wc)}catch{em=!1}var Ri=null,yp=null,Nh=null;function F8(){if(Nh)return Nh;var e,t=yp,n=t.length,a,l="value"in Ri?Ri.value:Ri.textContent,u=l.length;for(e=0;e<n&&t[e]===l[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===l[u-a];a++);return Nh=l.slice(e,1<a?1-a:void 0)}function Oh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ch(){return!0}function K5(){return!1}function Wn(e){function t(n,a,l,u,r){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=u,this.target=r,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(u):u[o]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ch:K5,this.isPropagationStopped=K5,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ch)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ch)},persist:function(){},isPersistent:ch}),t}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xd=Wn(Js),Xo=ye({},Js,{view:0,detail:0}),fC=Wn(Xo),Xg,qg,Gc,qd=ye({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gc&&(Gc&&e.type==="mousemove"?(Xg=e.screenX-Gc.screenX,qg=e.screenY-Gc.screenY):qg=Xg=0,Gc=e),Xg)},movementY:function(e){return"movementY"in e?e.movementY:qg}}),Q5=Wn(qd),hC=ye({},qd,{dataTransfer:0}),dC=Wn(hC),gC=ye({},Xo,{relatedTarget:0}),Kg=Wn(gC),mC=ye({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),pC=Wn(mC),yC=ye({},Js,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vC=Wn(yC),SC=ye({},Js,{data:0}),k5=Wn(SC),_C={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=EC[e])?!!t[e]:!1}function vp(){return TC}var CC=ye({},Xo,{key:function(e){if(e.key){var t=_C[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vp,charCode:function(e){return e.type==="keypress"?Oh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AC=Wn(CC),xC=ye({},qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z5=Wn(xC),DC=ye({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vp}),MC=Wn(DC),NC=ye({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),OC=Wn(NC),RC=ye({},qd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UC=Wn(RC),zC=ye({},Js,{newState:0,oldState:0}),wC=Wn(zC),GC=[9,13,27,32],Sp=Vl&&"CompositionEvent"in window,Wc=null;Vl&&"documentMode"in document&&(Wc=document.documentMode);var HC=Vl&&"TextEvent"in window&&!Wc,J8=Vl&&(!Sp||Wc&&8<Wc&&11>=Wc),F5=" ",J5=!1;function W8(e,t){switch(e){case"keyup":return GC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nr=!1;function BC(e,t){switch(e){case"compositionend":return P8(t);case"keypress":return t.which!==32?null:(J5=!0,F5);case"textInput":return e=t.data,e===F5&&J5?null:e;default:return null}}function LC(e,t){if(nr)return e==="compositionend"||!Sp&&W8(e,t)?(e=F8(),Nh=yp=Ri=null,nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J8&&t.locale!=="ko"?null:t.data;default:return null}}var YC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YC[e.type]:t==="textarea"}function I8(e,t,n,a){er?hr?hr.push(a):hr=[a]:er=a,t=md(t,"onChange"),0<t.length&&(n=new Xd("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Pc=null,po=null;function VC(e){K9(e,0)}function Kd(e){var t=kc(e);if(X8(t))return e}function P5(e,t){if(e==="change")return t}var $8=!1;if(Vl){var Qg;if(Vl){var kg="oninput"in document;if(!kg){var I5=document.createElement("div");I5.setAttribute("oninput","return;"),kg=typeof I5.oninput=="function"}Qg=kg}else Qg=!1;$8=Qg&&(!document.documentMode||9<document.documentMode)}function $5(){Pc&&(Pc.detachEvent("onpropertychange",tS),po=Pc=null)}function tS(e){if(e.propertyName==="value"&&Kd(po)){var t=[];I8(t,po,e,pp(e)),Z8(VC,t)}}function jC(e,t,n){e==="focusin"?($5(),Pc=t,po=n,Pc.attachEvent("onpropertychange",tS)):e==="focusout"&&$5()}function XC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kd(po)}function qC(e,t){if(e==="click")return Kd(t)}function KC(e,t){if(e==="input"||e==="change")return Kd(t)}function QC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ga=typeof Object.is=="function"?Object.is:QC;function yo(e,t){if(ga(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!W2.call(t,l)||!ga(e[l],t[l]))return!1}return!0}function t6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function e6(e,t){var n=t6(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=t6(n)}}function eS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nS(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ph(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ph(e.document)}return t}function _p(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var kC=Vl&&"documentMode"in document&&11>=document.documentMode,ar=null,nm=null,Ic=null,am=!1;function n6(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;am||ar==null||ar!==Ph(a)||(a=ar,"selectionStart"in a&&_p(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ic&&yo(Ic,a)||(Ic=a,a=md(nm,"onSelect"),0<a.length&&(t=new Xd("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ar)))}function Ts(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lr={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},Zg={},aS={};Vl&&(aS=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function Ws(e){if(Zg[e])return Zg[e];if(!lr[e])return e;var t=lr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in aS)return Zg[e]=t[n];return e}var lS=Ws("animationend"),iS=Ws("animationiteration"),sS=Ws("animationstart"),ZC=Ws("transitionrun"),FC=Ws("transitionstart"),JC=Ws("transitioncancel"),uS=Ws("transitionend"),rS=new Map,lm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lm.push("scrollEnd");function Ka(e,t){rS.set(e,t),Fs(t,[e])}var a6=new WeakMap;function Na(e,t){if(typeof e=="object"&&e!==null){var n=a6.get(e);return n!==void 0?n:(t={value:e,source:t,stack:j5(t)},a6.set(e,t),t)}return{value:e,source:t,stack:j5(t)}}var Ca=[],ir=0,bp=0;function Qd(){for(var e=ir,t=bp=ir=0;t<e;){var n=Ca[t];Ca[t++]=null;var a=Ca[t];Ca[t++]=null;var l=Ca[t];Ca[t++]=null;var u=Ca[t];if(Ca[t++]=null,a!==null&&l!==null){var r=a.pending;r===null?l.next=l:(l.next=r.next,r.next=l),a.pending=l}u!==0&&cS(n,l,u)}}function kd(e,t,n,a){Ca[ir++]=e,Ca[ir++]=t,Ca[ir++]=n,Ca[ir++]=a,bp|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Ep(e,t,n,a){return kd(e,t,n,a),Ih(e)}function Kr(e,t){return kd(e,null,null,t),Ih(e)}function cS(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var l=!1,u=e.return;u!==null;)u.childLanes|=n,a=u.alternate,a!==null&&(a.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(l=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,l&&t!==null&&(l=31-oa(n),e=u.hiddenUpdates,a=e[l],a===null?e[l]=[t]:a.push(t),t.lane=n|536870912),u):null}function Ih(e){if(50<ro)throw ro=0,Am=null,Error(K(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var sr={};function WC(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(e,t,n,a){return new WC(e,t,n,a)}function Tp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hl(e,t){var n=e.alternate;return n===null?(n=ra(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function oS(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Rh(e,t,n,a,l,u){var r=0;if(a=e,typeof e=="function")Tp(e)&&(r=1);else if(typeof e=="string")r=IA(e,n,el.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case k2:return e=ra(31,n,t,l),e.elementType=k2,e.lanes=u,e;case Iu:return Us(n.children,l,u,t);case N8:r=8,l|=24;break;case q2:return e=ra(12,n,t,l|2),e.elementType=q2,e.lanes=u,e;case K2:return e=ra(13,n,t,l),e.elementType=K2,e.lanes=u,e;case Q2:return e=ra(19,n,t,l),e.elementType=Q2,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case VT:case Rl:r=10;break t;case O8:r=9;break t;case cp:r=11;break t;case op:r=14;break t;case Ti:r=16,a=null;break t}r=29,n=Error(K(130,e===null?"null":typeof e,"")),a=null}return t=ra(r,n,t,l),t.elementType=e,t.type=a,t.lanes=u,t}function Us(e,t,n,a){return e=ra(7,e,a,t),e.lanes=n,e}function Fg(e,t,n){return e=ra(6,e,null,t),e.lanes=n,e}function Jg(e,t,n){return t=ra(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ur=[],rr=0,$h=null,td=0,xa=[],Da=0,zs=null,Ul=1,zl="";function Ds(e,t){ur[rr++]=td,ur[rr++]=$h,$h=e,td=t}function fS(e,t,n){xa[Da++]=Ul,xa[Da++]=zl,xa[Da++]=zs,zs=e;var a=Ul;e=zl;var l=32-oa(a)-1;a&=~(1<<l),n+=1;var u=32-oa(t)+l;if(30<u){var r=l-l%5;u=(a&(1<<r)-1).toString(32),a>>=r,l-=r,Ul=1<<32-oa(t)+l|n<<l|a,zl=u+e}else Ul=1<<u|n<<l|a,zl=e}function Cp(e){e.return!==null&&(Ds(e,1),fS(e,1,0))}function Ap(e){for(;e===$h;)$h=ur[--rr],ur[rr]=null,td=ur[--rr],ur[rr]=null;for(;e===zs;)zs=xa[--Da],xa[Da]=null,zl=xa[--Da],xa[Da]=null,Ul=xa[--Da],xa[Da]=null}var Hn=null,Oe=null,Jt=!1,ws=null,Ia=!1,im=Error(K(519));function Vs(e){var t=Error(K(418,""));throw vo(Na(t,e)),im}function l6(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[On]=e,t[Jn]=a,n){case"dialog":Ht("cancel",t),Ht("close",t);break;case"iframe":case"object":case"embed":Ht("load",t);break;case"video":case"audio":for(n=0;n<bo.length;n++)Ht(bo[n],t);break;case"source":Ht("error",t);break;case"img":case"image":case"link":Ht("error",t),Ht("load",t);break;case"details":Ht("toggle",t);break;case"input":Ht("invalid",t),q8(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Wh(t);break;case"select":Ht("invalid",t);break;case"textarea":Ht("invalid",t),Q8(t,a.value,a.defaultValue,a.children),Wh(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||k9(t.textContent,n)?(a.popover!=null&&(Ht("beforetoggle",t),Ht("toggle",t)),a.onScroll!=null&&Ht("scroll",t),a.onScrollEnd!=null&&Ht("scrollend",t),a.onClick!=null&&(t.onclick=t0),t=!0):t=!1,t||Vs(e)}function i6(e){for(Hn=e.return;Hn;)switch(Hn.tag){case 5:case 13:Ia=!1;return;case 27:case 3:Ia=!0;return;default:Hn=Hn.return}}function Hc(e){if(e!==Hn)return!1;if(!Jt)return i6(e),Jt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Rm(e.type,e.memoizedProps)),n=!n),n&&Oe&&Vs(e),i6(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Oe=Xa(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Oe=null}}else t===27?(t=Oe,$i(e.type)?(e=wm,wm=null,Oe=e):Oe=t):Oe=Hn?Xa(e.stateNode.nextSibling):null;return!0}function qo(){Oe=Hn=null,Jt=!1}function s6(){var e=ws;return e!==null&&(Zn===null?Zn=e:Zn.push.apply(Zn,e),ws=null),e}function vo(e){ws===null?ws=[e]:ws.push(e)}var sm=rl(null),Ps=null,wl=null;function Ai(e,t,n){_e(sm,t._currentValue),t._currentValue=n}function Bl(e){e._currentValue=sm.current,pn(sm)}function um(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function rm(e,t,n,a){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var u=l.dependencies;if(u!==null){var r=l.child;u=u.firstContext;t:for(;u!==null;){var o=u;u=l;for(var f=0;f<t.length;f++)if(o.context===t[f]){u.lanes|=n,o=u.alternate,o!==null&&(o.lanes|=n),um(u.return,n,e),a||(r=null);break t}u=o.next}}else if(l.tag===18){if(r=l.return,r===null)throw Error(K(341));r.lanes|=n,u=r.alternate,u!==null&&(u.lanes|=n),um(r,n,e),r=null}else r=l.child;if(r!==null)r.return=l;else for(r=l;r!==null;){if(r===e){r=null;break}if(l=r.sibling,l!==null){l.return=r.return,r=l;break}r=r.return}l=r}}function Ko(e,t,n,a){e=null;for(var l=t,u=!1;l!==null;){if(!u){if(l.flags&524288)u=!0;else if(l.flags&262144)break}if(l.tag===10){var r=l.alternate;if(r===null)throw Error(K(387));if(r=r.memoizedProps,r!==null){var o=l.type;ga(l.pendingProps.value,r.value)||(e!==null?e.push(o):e=[o])}}else if(l===kh.current){if(r=l.alternate,r===null)throw Error(K(387));r.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Co):e=[Co])}l=l.return}e!==null&&rm(t,e,n,a),t.flags|=262144}function ed(e){for(e=e.firstContext;e!==null;){if(!ga(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function js(e){Ps=e,wl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Rn(e){return hS(Ps,e)}function oh(e,t){return Ps===null&&js(e),hS(e,t)}function hS(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},wl===null){if(e===null)throw Error(K(308));wl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wl=wl.next=t;return n}var PC=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},IC=nn.unstable_scheduleCallback,$C=nn.unstable_NormalPriority,$e={$$typeof:Rl,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xp(){return{controller:new PC,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&IC($C,function(){e.controller.abort()})}var $c=null,cm=0,Ar=0,dr=null;function tA(e,t){if($c===null){var n=$c=[];cm=0,Ar=Jp(),dr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return cm++,t.then(u6,u6),t}function u6(){if(--cm===0&&$c!==null){dr!==null&&(dr.status="fulfilled");var e=$c;$c=null,Ar=0,dr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function eA(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var r6=_t.S;_t.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&tA(e,t),r6!==null&&r6(e,t)};var Gs=rl(null);function Dp(){var e=Gs.current;return e!==null?e:ge.pooledCache}function Uh(e,t){t===null?_e(Gs,Gs.current):_e(Gs,t.pool)}function dS(){var e=Dp();return e===null?null:{parent:$e._currentValue,pool:e}}var ko=Error(K(460)),gS=Error(K(474)),Zd=Error(K(542)),om={then:function(){}};function c6(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fh(){}function mS(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(fh,fh),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,f6(e),e;default:if(typeof t.status=="string")t.then(fh,fh);else{if(e=ge,e!==null&&100<e.shellSuspendCounter)throw Error(K(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=a}},function(a){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,f6(e),e}throw to=t,ko}}var to=null;function o6(){if(to===null)throw Error(K(459));var e=to;return to=null,e}function f6(e){if(e===ko||e===Zd)throw Error(K(483))}var Ci=!1;function Mp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ae&2){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,t=Ih(e),cS(e,null,n),t}return kd(e,a,t,n),Ih(e)}function eo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,B8(e,n)}}function Wg(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?l=u=r:u=u.next=r,n=n.next}while(n!==null);u===null?l=u=t:u=u.next=t}else l=u=t;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var hm=!1;function no(){if(hm){var e=dr;if(e!==null)throw e}}function ao(e,t,n,a){hm=!1;var l=e.updateQueue;Ci=!1;var u=l.firstBaseUpdate,r=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var f=o,g=f.next;f.next=null,r===null?u=g:r.next=g,r=f;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==r&&(o===null?m.firstBaseUpdate=g:o.next=g,m.lastBaseUpdate=f))}if(u!==null){var b=l.baseState;r=0,m=g=f=null,o=u;do{var v=o.lane&-536870913,p=v!==o.lane;if(p?(Kt&v)===v:(a&v)===v){v!==0&&v===Ar&&(hm=!0),m!==null&&(m=m.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var _=e,A=o;v=t;var x=n;switch(A.tag){case 1:if(_=A.payload,typeof _=="function"){b=_.call(x,b,v);break t}b=_;break t;case 3:_.flags=_.flags&-65537|128;case 0:if(_=A.payload,v=typeof _=="function"?_.call(x,b,v):_,v==null)break t;b=ye({},b,v);break t;case 2:Ci=!0}}v=o.callback,v!==null&&(e.flags|=64,p&&(e.flags|=8192),p=l.callbacks,p===null?l.callbacks=[v]:p.push(v))}else p={lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(g=m=p,f=b):m=m.next=p,r|=v;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;p=o,o=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);m===null&&(f=b),l.baseState=f,l.firstBaseUpdate=g,l.lastBaseUpdate=m,u===null&&(l.shared.lanes=0),ki|=r,e.lanes=r,e.memoizedState=b}}function pS(e,t){if(typeof e!="function")throw Error(K(191,e));e.call(t)}function yS(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)pS(n[e],t)}var xr=rl(null),nd=rl(0);function h6(e,t){e=ql,_e(nd,e),_e(xr,t),ql=e|t.baseLanes}function dm(){_e(nd,ql),_e(xr,xr.current)}function Np(){ql=nd.current,pn(xr),pn(nd)}var Ki=0,Nt=null,ue=null,ke=null,ad=!1,gr=!1,Xs=!1,ld=0,So=0,mr=null,nA=0;function He(){throw Error(K(321))}function Op(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ga(e[n],t[n]))return!1;return!0}function Rp(e,t,n,a,l,u){return Ki=u,Nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_t.H=e===null||e.memoizedState===null?FS:JS,Xs=!1,u=n(a,l),Xs=!1,gr&&(u=SS(t,n,a,l)),vS(e),u}function vS(e){_t.H=id;var t=ue!==null&&ue.next!==null;if(Ki=0,ke=ue=Nt=null,ad=!1,So=0,mr=null,t)throw Error(K(300));e===null||gn||(e=e.dependencies,e!==null&&ed(e)&&(gn=!0))}function SS(e,t,n,a){Nt=e;var l=0;do{if(gr&&(mr=null),So=0,gr=!1,25<=l)throw Error(K(301));if(l+=1,ke=ue=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}_t.H=cA,u=t(n,a)}while(gr);return u}function aA(){var e=_t.H,t=e.useState()[0];return t=typeof t.then=="function"?Zo(t):t,e=e.useState()[0],(ue!==null?ue.memoizedState:null)!==e&&(Nt.flags|=1024),t}function Up(){var e=ld!==0;return ld=0,e}function zp(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function wp(e){if(ad){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ad=!1}Ki=0,ke=ue=Nt=null,gr=!1,So=ld=0,mr=null}function Qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Nt.memoizedState=ke=e:ke=ke.next=e,ke}function Ze(){if(ue===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=ke===null?Nt.memoizedState:ke.next;if(t!==null)ke=t,ue=e;else{if(e===null)throw Nt.alternate===null?Error(K(467)):Error(K(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},ke===null?Nt.memoizedState=ke=e:ke=ke.next=e}return ke}function Gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var t=So;return So+=1,mr===null&&(mr=[]),e=mS(mr,e,t),t=Nt,(ke===null?t.memoizedState:ke.next)===null&&(t=t.alternate,_t.H=t===null||t.memoizedState===null?FS:JS),e}function Fd(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===Rl)return Rn(e)}throw Error(K(438,String(e)))}function Hp(e){var t=null,n=Nt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Nt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Gp(),Nt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=jT;return t.index++,n}function jl(e,t){return typeof t=="function"?t(e):t}function zh(e){var t=Ze();return Bp(t,ue,e)}function Bp(e,t,n){var a=e.queue;if(a===null)throw Error(K(311));a.lastRenderedReducer=n;var l=e.baseQueue,u=a.pending;if(u!==null){if(l!==null){var r=l.next;l.next=u.next,u.next=r}t.baseQueue=l=u,a.pending=null}if(u=e.baseState,l===null)e.memoizedState=u;else{t=l.next;var o=r=null,f=null,g=t,m=!1;do{var b=g.lane&-536870913;if(b!==g.lane?(Kt&b)===b:(Ki&b)===b){var v=g.revertLane;if(v===0)f!==null&&(f=f.next={lane:0,revertLane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),b===Ar&&(m=!0);else if((Ki&v)===v){g=g.next,v===Ar&&(m=!0);continue}else b={lane:0,revertLane:g.revertLane,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null},f===null?(o=f=b,r=u):f=f.next=b,Nt.lanes|=v,ki|=v;b=g.action,Xs&&n(u,b),u=g.hasEagerState?g.eagerState:n(u,b)}else v={lane:b,revertLane:g.revertLane,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null},f===null?(o=f=v,r=u):f=f.next=v,Nt.lanes|=b,ki|=b;g=g.next}while(g!==null&&g!==t);if(f===null?r=u:f.next=o,!ga(u,e.memoizedState)&&(gn=!0,m&&(n=dr,n!==null)))throw n;e.memoizedState=u,e.baseState=r,e.baseQueue=f,a.lastRenderedState=u}return l===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Pg(e){var t=Ze(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var a=n.dispatch,l=n.pending,u=t.memoizedState;if(l!==null){n.pending=null;var r=l=l.next;do u=e(u,r.action),r=r.next;while(r!==l);ga(u,t.memoizedState)||(gn=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,a]}function _S(e,t,n){var a=Nt,l=Ze(),u=Jt;if(u){if(n===void 0)throw Error(K(407));n=n()}else n=t();var r=!ga((ue||l).memoizedState,n);r&&(l.memoizedState=n,gn=!0),l=l.queue;var o=TS.bind(null,a,l,e);if(Fo(2048,8,o,[e]),l.getSnapshot!==t||r||ke!==null&&ke.memoizedState.tag&1){if(a.flags|=2048,Dr(9,Jd(),ES.bind(null,a,l,n,t),null),ge===null)throw Error(K(349));u||Ki&124||bS(a,t,n)}return n}function bS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Nt.updateQueue,t===null?(t=Gp(),Nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ES(e,t,n,a){t.value=n,t.getSnapshot=a,CS(t)&&AS(e)}function TS(e,t,n){return n(function(){CS(t)&&AS(e)})}function CS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ga(e,n)}catch{return!0}}function AS(e){var t=Kr(e,2);t!==null&&ha(t,e,2)}function gm(e){var t=Qn();if(typeof e=="function"){var n=e;if(e=n(),Xs){Oi(!0);try{n()}finally{Oi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:e},t}function xS(e,t,n,a){return e.baseState=n,Bp(e,ue,typeof a=="function"?a:jl)}function lA(e,t,n,a,l){if(Wd(e))throw Error(K(485));if(e=t.action,e!==null){var u={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){u.listeners.push(r)}};_t.T!==null?n(!0):u.isTransition=!1,a(u),n=t.pending,n===null?(u.next=t.pending=u,DS(t,u)):(u.next=n.next,t.pending=n.next=u)}}function DS(e,t){var n=t.action,a=t.payload,l=e.state;if(t.isTransition){var u=_t.T,r={};_t.T=r;try{var o=n(l,a),f=_t.S;f!==null&&f(r,o),d6(e,t,o)}catch(g){mm(e,t,g)}finally{_t.T=u}}else try{u=n(l,a),d6(e,t,u)}catch(g){mm(e,t,g)}}function d6(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){g6(e,t,a)},function(a){return mm(e,t,a)}):g6(e,t,n)}function g6(e,t,n){t.status="fulfilled",t.value=n,MS(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,DS(e,n)))}function mm(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,MS(t),t=t.next;while(t!==a)}e.action=null}function MS(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function NS(e,t){return t}function m6(e,t){if(Jt){var n=ge.formState;if(n!==null){t:{var a=Nt;if(Jt){if(Oe){e:{for(var l=Oe,u=Ia;l.nodeType!==8;){if(!u){l=null;break e}if(l=Xa(l.nextSibling),l===null){l=null;break e}}u=l.data,l=u==="F!"||u==="F"?l:null}if(l){Oe=Xa(l.nextSibling),a=l.data==="F!";break t}}Vs(a)}a=!1}a&&(t=n[0])}}return n=Qn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:NS,lastRenderedState:t},n.queue=a,n=QS.bind(null,Nt,a),a.dispatch=n,a=gm(!1),u=jp.bind(null,Nt,!1,a.queue),a=Qn(),l={state:t,dispatch:null,action:e,pending:null},a.queue=l,n=lA.bind(null,Nt,l,u,n),l.dispatch=n,a.memoizedState=e,[t,n,!1]}function p6(e){var t=Ze();return OS(t,ue,e)}function OS(e,t,n){if(t=Bp(e,t,NS)[0],e=zh(jl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Zo(t)}catch(r){throw r===ko?Zd:r}else a=t;t=Ze();var l=t.queue,u=l.dispatch;return n!==t.memoizedState&&(Nt.flags|=2048,Dr(9,Jd(),iA.bind(null,l,n),null)),[a,u,e]}function iA(e,t){e.action=t}function y6(e){var t=Ze(),n=ue;if(n!==null)return OS(t,n,e);Ze(),t=t.memoizedState,n=Ze();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Dr(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Nt.updateQueue,t===null&&(t=Gp(),Nt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Jd(){return{destroy:void 0,resource:void 0}}function RS(){return Ze().memoizedState}function wh(e,t,n,a){var l=Qn();a=a===void 0?null:a,Nt.flags|=e,l.memoizedState=Dr(1|t,Jd(),n,a)}function Fo(e,t,n,a){var l=Ze();a=a===void 0?null:a;var u=l.memoizedState.inst;ue!==null&&a!==null&&Op(a,ue.memoizedState.deps)?l.memoizedState=Dr(t,u,n,a):(Nt.flags|=e,l.memoizedState=Dr(1|t,u,n,a))}function v6(e,t){wh(8390656,8,e,t)}function US(e,t){Fo(2048,8,e,t)}function zS(e,t){return Fo(4,2,e,t)}function wS(e,t){return Fo(4,4,e,t)}function GS(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function HS(e,t,n){n=n!=null?n.concat([e]):null,Fo(4,4,GS.bind(null,t,e),n)}function Lp(){}function BS(e,t){var n=Ze();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Op(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function LS(e,t){var n=Ze();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Op(t,a[1]))return a[0];if(a=e(),Xs){Oi(!0);try{e()}finally{Oi(!1)}}return n.memoizedState=[a,t],a}function Yp(e,t,n){return n===void 0||Ki&1073741824?e.memoizedState=t:(e.memoizedState=n,e=M9(),Nt.lanes|=e,ki|=e,n)}function YS(e,t,n,a){return ga(n,t)?n:xr.current!==null?(e=Yp(e,n,a),ga(e,t)||(gn=!0),e):Ki&42?(e=M9(),Nt.lanes|=e,ki|=e,t):(gn=!0,e.memoizedState=n)}function VS(e,t,n,a,l){var u=Wt.p;Wt.p=u!==0&&8>u?u:8;var r=_t.T,o={};_t.T=o,jp(e,!1,t,n);try{var f=l(),g=_t.S;if(g!==null&&g(o,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=eA(f,a);lo(e,t,m,fa(e))}else lo(e,t,a,fa(e))}catch(b){lo(e,t,{then:function(){},status:"rejected",reason:b},fa())}finally{Wt.p=u,_t.T=r}}function sA(){}function pm(e,t,n,a){if(e.tag!==5)throw Error(K(476));var l=jS(e).queue;VS(e,l,t,Rs,n===null?sA:function(){return XS(e),n(a)})}function jS(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Rs,baseState:Rs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:Rs},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function XS(e){var t=jS(e).next.queue;lo(e,t,{},fa())}function Vp(){return Rn(Co)}function qS(){return Ze().memoizedState}function KS(){return Ze().memoizedState}function uA(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=fa();e=Hi(n);var a=Bi(t,e,n);a!==null&&(ha(a,t,n),eo(a,t,n)),t={cache:xp()},e.payload=t;return}t=t.return}}function rA(e,t,n){var a=fa();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Wd(e)?kS(t,n):(n=Ep(e,t,n,a),n!==null&&(ha(n,e,a),ZS(n,t,a)))}function QS(e,t,n){var a=fa();lo(e,t,n,a)}function lo(e,t,n,a){var l={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wd(e))kS(t,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var r=t.lastRenderedState,o=u(r,n);if(l.hasEagerState=!0,l.eagerState=o,ga(o,r))return kd(e,t,l,0),ge===null&&Qd(),!1}catch{}finally{}if(n=Ep(e,t,l,a),n!==null)return ha(n,e,a),ZS(n,t,a),!0}return!1}function jp(e,t,n,a){if(a={lane:2,revertLane:Jp(),action:a,hasEagerState:!1,eagerState:null,next:null},Wd(e)){if(t)throw Error(K(479))}else t=Ep(e,n,a,2),t!==null&&ha(t,e,2)}function Wd(e){var t=e.alternate;return e===Nt||t!==null&&t===Nt}function kS(e,t){gr=ad=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ZS(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,B8(e,n)}}var id={readContext:Rn,use:Fd,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He},FS={readContext:Rn,use:Fd,useCallback:function(e,t){return Qn().memoizedState=[e,t===void 0?null:t],e},useContext:Rn,useEffect:v6,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,wh(4194308,4,GS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wh(4194308,4,e,t)},useInsertionEffect:function(e,t){wh(4,2,e,t)},useMemo:function(e,t){var n=Qn();t=t===void 0?null:t;var a=e();if(Xs){Oi(!0);try{e()}finally{Oi(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Qn();if(n!==void 0){var l=n(t);if(Xs){Oi(!0);try{n(t)}finally{Oi(!1)}}}else l=t;return a.memoizedState=a.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},a.queue=e,e=e.dispatch=rA.bind(null,Nt,e),[a.memoizedState,e]},useRef:function(e){var t=Qn();return e={current:e},t.memoizedState=e},useState:function(e){e=gm(e);var t=e.queue,n=QS.bind(null,Nt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Lp,useDeferredValue:function(e,t){var n=Qn();return Yp(n,e,t)},useTransition:function(){var e=gm(!1);return e=VS.bind(null,Nt,e.queue,!0,!1),Qn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Nt,l=Qn();if(Jt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),ge===null)throw Error(K(349));Kt&124||bS(a,t,n)}l.memoizedState=n;var u={value:n,getSnapshot:t};return l.queue=u,v6(TS.bind(null,a,u,e),[e]),a.flags|=2048,Dr(9,Jd(),ES.bind(null,a,u,n,t),null),n},useId:function(){var e=Qn(),t=ge.identifierPrefix;if(Jt){var n=zl,a=Ul;n=(a&~(1<<32-oa(a)-1)).toString(32)+n,t="«"+t+"R"+n,n=ld++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=nA++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Vp,useFormState:m6,useActionState:m6,useOptimistic:function(e){var t=Qn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=jp.bind(null,Nt,!0,n),n.dispatch=t,[e,t]},useMemoCache:Hp,useCacheRefresh:function(){return Qn().memoizedState=uA.bind(null,Nt)}},JS={readContext:Rn,use:Fd,useCallback:BS,useContext:Rn,useEffect:US,useImperativeHandle:HS,useInsertionEffect:zS,useLayoutEffect:wS,useMemo:LS,useReducer:zh,useRef:RS,useState:function(){return zh(jl)},useDebugValue:Lp,useDeferredValue:function(e,t){var n=Ze();return YS(n,ue.memoizedState,e,t)},useTransition:function(){var e=zh(jl)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:Zo(e),t]},useSyncExternalStore:_S,useId:qS,useHostTransitionStatus:Vp,useFormState:p6,useActionState:p6,useOptimistic:function(e,t){var n=Ze();return xS(n,ue,e,t)},useMemoCache:Hp,useCacheRefresh:KS},cA={readContext:Rn,use:Fd,useCallback:BS,useContext:Rn,useEffect:US,useImperativeHandle:HS,useInsertionEffect:zS,useLayoutEffect:wS,useMemo:LS,useReducer:Pg,useRef:RS,useState:function(){return Pg(jl)},useDebugValue:Lp,useDeferredValue:function(e,t){var n=Ze();return ue===null?Yp(n,e,t):YS(n,ue.memoizedState,e,t)},useTransition:function(){var e=Pg(jl)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:Zo(e),t]},useSyncExternalStore:_S,useId:qS,useHostTransitionStatus:Vp,useFormState:y6,useActionState:y6,useOptimistic:function(e,t){var n=Ze();return ue!==null?xS(n,ue,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Hp,useCacheRefresh:KS},pr=null,_o=0;function hh(e){var t=_o;return _o+=1,pr===null&&(pr=[]),mS(pr,e,t)}function Bc(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function dh(e,t){throw t.$$typeof===YT?Error(K(525)):(e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function S6(e){var t=e._init;return t(e._payload)}function WS(e){function t(C,T){if(e){var S=C.deletions;S===null?(C.deletions=[T],C.flags|=16):S.push(T)}}function n(C,T){if(!e)return null;for(;T!==null;)t(C,T),T=T.sibling;return null}function a(C){for(var T=new Map;C!==null;)C.key!==null?T.set(C.key,C):T.set(C.index,C),C=C.sibling;return T}function l(C,T){return C=Hl(C,T),C.index=0,C.sibling=null,C}function u(C,T,S){return C.index=S,e?(S=C.alternate,S!==null?(S=S.index,S<T?(C.flags|=67108866,T):S):(C.flags|=67108866,T)):(C.flags|=1048576,T)}function r(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function o(C,T,S,E){return T===null||T.tag!==6?(T=Fg(S,C.mode,E),T.return=C,T):(T=l(T,S),T.return=C,T)}function f(C,T,S,E){var M=S.type;return M===Iu?m(C,T,S.props.children,E,S.key):T!==null&&(T.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ti&&S6(M)===T.type)?(T=l(T,S.props),Bc(T,S),T.return=C,T):(T=Rh(S.type,S.key,S.props,null,C.mode,E),Bc(T,S),T.return=C,T)}function g(C,T,S,E){return T===null||T.tag!==4||T.stateNode.containerInfo!==S.containerInfo||T.stateNode.implementation!==S.implementation?(T=Jg(S,C.mode,E),T.return=C,T):(T=l(T,S.children||[]),T.return=C,T)}function m(C,T,S,E,M){return T===null||T.tag!==7?(T=Us(S,C.mode,E,M),T.return=C,T):(T=l(T,S),T.return=C,T)}function b(C,T,S){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Fg(""+T,C.mode,S),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ih:return S=Rh(T.type,T.key,T.props,null,C.mode,S),Bc(S,T),S.return=C,S;case Kc:return T=Jg(T,C.mode,S),T.return=C,T;case Ti:var E=T._init;return T=E(T._payload),b(C,T,S)}if(Qc(T)||zc(T))return T=Us(T,C.mode,S,null),T.return=C,T;if(typeof T.then=="function")return b(C,hh(T),S);if(T.$$typeof===Rl)return b(C,oh(C,T),S);dh(C,T)}return null}function v(C,T,S,E){var M=T!==null?T.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return M!==null?null:o(C,T,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ih:return S.key===M?f(C,T,S,E):null;case Kc:return S.key===M?g(C,T,S,E):null;case Ti:return M=S._init,S=M(S._payload),v(C,T,S,E)}if(Qc(S)||zc(S))return M!==null?null:m(C,T,S,E,null);if(typeof S.then=="function")return v(C,T,hh(S),E);if(S.$$typeof===Rl)return v(C,T,oh(C,S),E);dh(C,S)}return null}function p(C,T,S,E,M){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return C=C.get(S)||null,o(T,C,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ih:return C=C.get(E.key===null?S:E.key)||null,f(T,C,E,M);case Kc:return C=C.get(E.key===null?S:E.key)||null,g(T,C,E,M);case Ti:var O=E._init;return E=O(E._payload),p(C,T,S,E,M)}if(Qc(E)||zc(E))return C=C.get(S)||null,m(T,C,E,M,null);if(typeof E.then=="function")return p(C,T,S,hh(E),M);if(E.$$typeof===Rl)return p(C,T,S,oh(T,E),M);dh(T,E)}return null}function _(C,T,S,E){for(var M=null,O=null,w=T,N=T=0,Y=null;w!==null&&N<S.length;N++){w.index>N?(Y=w,w=null):Y=w.sibling;var z=v(C,w,S[N],E);if(z===null){w===null&&(w=Y);break}e&&w&&z.alternate===null&&t(C,w),T=u(z,T,N),O===null?M=z:O.sibling=z,O=z,w=Y}if(N===S.length)return n(C,w),Jt&&Ds(C,N),M;if(w===null){for(;N<S.length;N++)w=b(C,S[N],E),w!==null&&(T=u(w,T,N),O===null?M=w:O.sibling=w,O=w);return Jt&&Ds(C,N),M}for(w=a(w);N<S.length;N++)Y=p(w,C,N,S[N],E),Y!==null&&(e&&Y.alternate!==null&&w.delete(Y.key===null?N:Y.key),T=u(Y,T,N),O===null?M=Y:O.sibling=Y,O=Y);return e&&w.forEach(function(j){return t(C,j)}),Jt&&Ds(C,N),M}function A(C,T,S,E){if(S==null)throw Error(K(151));for(var M=null,O=null,w=T,N=T=0,Y=null,z=S.next();w!==null&&!z.done;N++,z=S.next()){w.index>N?(Y=w,w=null):Y=w.sibling;var j=v(C,w,z.value,E);if(j===null){w===null&&(w=Y);break}e&&w&&j.alternate===null&&t(C,w),T=u(j,T,N),O===null?M=j:O.sibling=j,O=j,w=Y}if(z.done)return n(C,w),Jt&&Ds(C,N),M;if(w===null){for(;!z.done;N++,z=S.next())z=b(C,z.value,E),z!==null&&(T=u(z,T,N),O===null?M=z:O.sibling=z,O=z);return Jt&&Ds(C,N),M}for(w=a(w);!z.done;N++,z=S.next())z=p(w,C,N,z.value,E),z!==null&&(e&&z.alternate!==null&&w.delete(z.key===null?N:z.key),T=u(z,T,N),O===null?M=z:O.sibling=z,O=z);return e&&w.forEach(function(q){return t(C,q)}),Jt&&Ds(C,N),M}function x(C,T,S,E){if(typeof S=="object"&&S!==null&&S.type===Iu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ih:t:{for(var M=S.key;T!==null;){if(T.key===M){if(M=S.type,M===Iu){if(T.tag===7){n(C,T.sibling),E=l(T,S.props.children),E.return=C,C=E;break t}}else if(T.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ti&&S6(M)===T.type){n(C,T.sibling),E=l(T,S.props),Bc(E,S),E.return=C,C=E;break t}n(C,T);break}else t(C,T);T=T.sibling}S.type===Iu?(E=Us(S.props.children,C.mode,E,S.key),E.return=C,C=E):(E=Rh(S.type,S.key,S.props,null,C.mode,E),Bc(E,S),E.return=C,C=E)}return r(C);case Kc:t:{for(M=S.key;T!==null;){if(T.key===M)if(T.tag===4&&T.stateNode.containerInfo===S.containerInfo&&T.stateNode.implementation===S.implementation){n(C,T.sibling),E=l(T,S.children||[]),E.return=C,C=E;break t}else{n(C,T);break}else t(C,T);T=T.sibling}E=Jg(S,C.mode,E),E.return=C,C=E}return r(C);case Ti:return M=S._init,S=M(S._payload),x(C,T,S,E)}if(Qc(S))return _(C,T,S,E);if(zc(S)){if(M=zc(S),typeof M!="function")throw Error(K(150));return S=M.call(S),A(C,T,S,E)}if(typeof S.then=="function")return x(C,T,hh(S),E);if(S.$$typeof===Rl)return x(C,T,oh(C,S),E);dh(C,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,T!==null&&T.tag===6?(n(C,T.sibling),E=l(T,S),E.return=C,C=E):(n(C,T),E=Fg(S,C.mode,E),E.return=C,C=E),r(C)):n(C,T)}return function(C,T,S,E){try{_o=0;var M=x(C,T,S,E);return pr=null,M}catch(w){if(w===ko||w===Zd)throw w;var O=ra(29,w,null,C.mode);return O.lanes=E,O.return=C,O}finally{}}}var Mr=WS(!0),PS=WS(!1),za=rl(null),al=null;function xi(e){var t=e.alternate;_e(tn,tn.current&1),_e(za,e),al===null&&(t===null||xr.current!==null||t.memoizedState!==null)&&(al=e)}function IS(e){if(e.tag===22){if(_e(tn,tn.current),_e(za,e),al===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(al=e)}}else Di()}function Di(){_e(tn,tn.current),_e(za,za.current)}function Gl(e){pn(za),al===e&&(al=null),pn(tn)}var tn=rl(0);function sd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||zm(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ig(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ym={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=fa(),l=Hi(a);l.payload=t,n!=null&&(l.callback=n),t=Bi(e,l,a),t!==null&&(ha(t,e,a),eo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=fa(),l=Hi(a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Bi(e,l,a),t!==null&&(ha(t,e,a),eo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fa(),a=Hi(n);a.tag=2,t!=null&&(a.callback=t),t=Bi(e,a,n),t!==null&&(ha(t,e,n),eo(t,e,n))}};function _6(e,t,n,a,l,u,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,u,r):t.prototype&&t.prototype.isPureReactComponent?!yo(n,a)||!yo(l,u):!0}function b6(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ym.enqueueReplaceState(t,t.state,null)}function qs(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=ye({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}var ud=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function $S(e){ud(e)}function t9(e){console.error(e)}function e9(e){ud(e)}function rd(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function E6(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function vm(e,t,n){return n=Hi(n),n.tag=3,n.payload={element:null},n.callback=function(){rd(e,t)},n}function n9(e){return e=Hi(e),e.tag=3,e}function a9(e,t,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var u=a.value;e.payload=function(){return l(u)},e.callback=function(){E6(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){E6(t,n,a),typeof l!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var o=a.stack;this.componentDidCatch(a.value,{componentStack:o!==null?o:""})})}function oA(e,t,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Ko(t,n,l,!0),n=za.current,n!==null){switch(n.tag){case 13:return al===null?xm():n.alternate===null&&Re===0&&(Re=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===om?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),c2(e,a,l)),!1;case 22:return n.flags|=65536,a===om?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),c2(e,a,l)),!1}throw Error(K(435,n.tag))}return c2(e,a,l),xm(),!1}if(Jt)return t=za.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=l,a!==im&&(e=Error(K(422),{cause:a}),vo(Na(e,n)))):(a!==im&&(t=Error(K(423),{cause:a}),vo(Na(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,a=Na(a,n),l=vm(e.stateNode,a,l),Wg(e,l),Re!==4&&(Re=2)),!1;var u=Error(K(520),{cause:a});if(u=Na(u,n),uo===null?uo=[u]:uo.push(u),Re!==4&&(Re=2),t===null)return!0;a=Na(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=vm(n.stateNode,a,e),Wg(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Li===null||!Li.has(u))))return n.flags|=65536,l&=-l,n.lanes|=l,l=n9(l),a9(l,e,n,a),Wg(n,l),!1}n=n.return}while(n!==null);return!1}var l9=Error(K(461)),gn=!1;function En(e,t,n,a){t.child=e===null?PS(t,null,n,a):Mr(t,e.child,n,a)}function T6(e,t,n,a,l){n=n.render;var u=t.ref;if("ref"in a){var r={};for(var o in a)o!=="ref"&&(r[o]=a[o])}else r=a;return js(t),a=Rp(e,t,n,r,u,l),o=Up(),e!==null&&!gn?(zp(e,t,l),Xl(e,t,l)):(Jt&&o&&Cp(t),t.flags|=1,En(e,t,a,l),t.child)}function C6(e,t,n,a,l){if(e===null){var u=n.type;return typeof u=="function"&&!Tp(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,i9(e,t,u,a,l)):(e=Rh(n.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Xp(e,l)){var r=u.memoizedProps;if(n=n.compare,n=n!==null?n:yo,n(r,a)&&e.ref===t.ref)return Xl(e,t,l)}return t.flags|=1,e=Hl(u,a),e.ref=t.ref,e.return=t,t.child=e}function i9(e,t,n,a,l){if(e!==null){var u=e.memoizedProps;if(yo(u,a)&&e.ref===t.ref)if(gn=!1,t.pendingProps=a=u,Xp(e,l))e.flags&131072&&(gn=!0);else return t.lanes=e.lanes,Xl(e,t,l)}return Sm(e,t,n,a,l)}function s9(e,t,n){var a=t.pendingProps,l=a.children,u=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if(t.flags&128){if(a=u!==null?u.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;t.childLanes=u&~a}else t.childLanes=0,t.child=null;return A6(e,t,a,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uh(t,u!==null?u.cachePool:null),u!==null?h6(t,u):dm(),IS(t);else return t.lanes=t.childLanes=536870912,A6(e,t,u!==null?u.baseLanes|n:n,n)}else u!==null?(Uh(t,u.cachePool),h6(t,u),Di(),t.memoizedState=null):(e!==null&&Uh(t,null),dm(),Di());return En(e,t,l,n),t.child}function A6(e,t,n,a){var l=Dp();return l=l===null?null:{parent:$e._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},e!==null&&Uh(t,null),dm(),IS(t),e!==null&&Ko(e,t,a,!0),null}function Gh(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(K(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Sm(e,t,n,a,l){return js(t),n=Rp(e,t,n,a,void 0,l),a=Up(),e!==null&&!gn?(zp(e,t,l),Xl(e,t,l)):(Jt&&a&&Cp(t),t.flags|=1,En(e,t,n,l),t.child)}function x6(e,t,n,a,l,u){return js(t),t.updateQueue=null,n=SS(t,a,n,l),vS(e),a=Up(),e!==null&&!gn?(zp(e,t,u),Xl(e,t,u)):(Jt&&a&&Cp(t),t.flags|=1,En(e,t,n,u),t.child)}function D6(e,t,n,a,l){if(js(t),t.stateNode===null){var u=sr,r=n.contextType;typeof r=="object"&&r!==null&&(u=Rn(r)),u=new n(a,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ym,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=a,u.state=t.memoizedState,u.refs={},Mp(t),r=n.contextType,u.context=typeof r=="object"&&r!==null?Rn(r):sr,u.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Ig(t,n,r,a),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(r=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),r!==u.state&&ym.enqueueReplaceState(u,u.state,null),ao(t,a,u,l),no(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){u=t.stateNode;var o=t.memoizedProps,f=qs(n,o);u.props=f;var g=u.context,m=n.contextType;r=sr,typeof m=="object"&&m!==null&&(r=Rn(m));var b=n.getDerivedStateFromProps;m=typeof b=="function"||typeof u.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,m||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(o||g!==r)&&b6(t,u,a,r),Ci=!1;var v=t.memoizedState;u.state=v,ao(t,a,u,l),no(),g=t.memoizedState,o||v!==g||Ci?(typeof b=="function"&&(Ig(t,n,b,a),g=t.memoizedState),(f=Ci||_6(t,n,f,a,v,g,r))?(m||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=g),u.props=a,u.state=g,u.context=r,a=f):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{u=t.stateNode,fm(e,t),r=t.memoizedProps,m=qs(n,r),u.props=m,b=t.pendingProps,v=u.context,g=n.contextType,f=sr,typeof g=="object"&&g!==null&&(f=Rn(g)),o=n.getDerivedStateFromProps,(g=typeof o=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(r!==b||v!==f)&&b6(t,u,a,f),Ci=!1,v=t.memoizedState,u.state=v,ao(t,a,u,l),no();var p=t.memoizedState;r!==b||v!==p||Ci||e!==null&&e.dependencies!==null&&ed(e.dependencies)?(typeof o=="function"&&(Ig(t,n,o,a),p=t.memoizedState),(m=Ci||_6(t,n,m,a,v,p,f)||e!==null&&e.dependencies!==null&&ed(e.dependencies))?(g||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(a,p,f),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(a,p,f)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||r===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),u.props=a,u.state=p,u.context=f,a=m):(typeof u.componentDidUpdate!="function"||r===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),a=!1)}return u=a,Gh(e,t),a=(t.flags&128)!==0,u||a?(u=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&a?(t.child=Mr(t,e.child,null,l),t.child=Mr(t,null,n,l)):En(e,t,n,l),t.memoizedState=u.state,e=t.child):e=Xl(e,t,l),e}function M6(e,t,n,a){return qo(),t.flags|=256,En(e,t,n,a),t.child}var $g={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function t2(e){return{baseLanes:e,cachePool:dS()}}function e2(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ua),e}function u9(e,t,n){var a=t.pendingProps,l=!1,u=(t.flags&128)!==0,r;if((r=u)||(r=e!==null&&e.memoizedState===null?!1:(tn.current&2)!==0),r&&(l=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(Jt){if(l?xi(t):Di(),Jt){var o=Oe,f;if(f=o){t:{for(f=o,o=Ia;f.nodeType!==8;){if(!o){o=null;break t}if(f=Xa(f.nextSibling),f===null){o=null;break t}}o=f}o!==null?(t.memoizedState={dehydrated:o,treeContext:zs!==null?{id:Ul,overflow:zl}:null,retryLane:536870912,hydrationErrors:null},f=ra(18,null,null,0),f.stateNode=o,f.return=t,t.child=f,Hn=t,Oe=null,f=!0):f=!1}f||Vs(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return zm(o)?t.lanes=32:t.lanes=536870912,null;Gl(t)}return o=a.children,a=a.fallback,l?(Di(),l=t.mode,o=cd({mode:"hidden",children:o},l),a=Us(a,l,n,null),o.return=t,a.return=t,o.sibling=a,t.child=o,l=t.child,l.memoizedState=t2(n),l.childLanes=e2(e,r,n),t.memoizedState=$g,a):(xi(t),_m(t,o))}if(f=e.memoizedState,f!==null&&(o=f.dehydrated,o!==null)){if(u)t.flags&256?(xi(t),t.flags&=-257,t=n2(e,t,n)):t.memoizedState!==null?(Di(),t.child=e.child,t.flags|=128,t=null):(Di(),l=a.fallback,o=t.mode,a=cd({mode:"visible",children:a.children},o),l=Us(l,o,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,Mr(t,e.child,null,n),a=t.child,a.memoizedState=t2(n),a.childLanes=e2(e,r,n),t.memoizedState=$g,t=l);else if(xi(t),zm(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var g=r.dgst;r=g,a=Error(K(419)),a.stack="",a.digest=r,vo({value:a,source:null,stack:null}),t=n2(e,t,n)}else if(gn||Ko(e,t,n,!1),r=(n&e.childLanes)!==0,gn||r){if(r=ge,r!==null&&(a=n&-n,a=a&42?1:hp(a),a=a&(r.suspendedLanes|n)?0:a,a!==0&&a!==f.retryLane))throw f.retryLane=a,Kr(e,a),ha(r,e,a),l9;o.data==="$?"||xm(),t=n2(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=f.treeContext,Oe=Xa(o.nextSibling),Hn=t,Jt=!0,ws=null,Ia=!1,e!==null&&(xa[Da++]=Ul,xa[Da++]=zl,xa[Da++]=zs,Ul=e.id,zl=e.overflow,zs=t),t=_m(t,a.children),t.flags|=4096);return t}return l?(Di(),l=a.fallback,o=t.mode,f=e.child,g=f.sibling,a=Hl(f,{mode:"hidden",children:a.children}),a.subtreeFlags=f.subtreeFlags&65011712,g!==null?l=Hl(g,l):(l=Us(l,o,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,o=e.child.memoizedState,o===null?o=t2(n):(f=o.cachePool,f!==null?(g=$e._currentValue,f=f.parent!==g?{parent:g,pool:g}:f):f=dS(),o={baseLanes:o.baseLanes|n,cachePool:f}),l.memoizedState=o,l.childLanes=e2(e,r,n),t.memoizedState=$g,a):(xi(t),n=e.child,e=n.sibling,n=Hl(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function _m(e,t){return t=cd({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function cd(e,t){return e=ra(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function n2(e,t,n){return Mr(t,e.child,null,n),e=_m(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function N6(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),um(e.return,t,n)}function a2(e,t,n,a,l){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=n,u.tailMode=l)}function r9(e,t,n){var a=t.pendingProps,l=a.revealOrder,u=a.tail;if(En(e,t,a.children,n),a=tn.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&N6(e,n,t);else if(e.tag===19)N6(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(_e(tn,a),l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&sd(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),a2(t,!1,l,n,u);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&sd(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}a2(t,!0,n,null,u);break;case"together":a2(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ki|=t.lanes,!(n&t.childLanes))if(e!==null){if(Ko(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Hl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xp(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ed(e)))}function fA(e,t,n){switch(t.tag){case 3:Zh(t,t.stateNode.containerInfo),Ai(t,$e,e.memoizedState.cache),qo();break;case 27:case 5:J2(t);break;case 4:Zh(t,t.stateNode.containerInfo);break;case 10:Ai(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(xi(t),t.flags|=128,null):n&t.child.childLanes?u9(e,t,n):(xi(t),e=Xl(e,t,n),e!==null?e.sibling:null);xi(t);break;case 19:var l=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Ko(e,t,n,!1),a=(n&t.childLanes)!==0),l){if(a)return r9(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),_e(tn,tn.current),a)break;return null;case 22:case 23:return t.lanes=0,s9(e,t,n);case 24:Ai(t,$e,e.memoizedState.cache)}return Xl(e,t,n)}function c9(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)gn=!0;else{if(!Xp(e,n)&&!(t.flags&128))return gn=!1,fA(e,t,n);gn=!!(e.flags&131072)}else gn=!1,Jt&&t.flags&1048576&&fS(t,td,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var a=t.elementType,l=a._init;if(a=l(a._payload),t.type=a,typeof a=="function")Tp(a)?(e=qs(a,e),t.tag=1,t=D6(null,t,a,e,n)):(t.tag=0,t=Sm(null,t,a,e,n));else{if(a!=null){if(l=a.$$typeof,l===cp){t.tag=11,t=T6(null,t,a,e,n);break t}else if(l===op){t.tag=14,t=C6(null,t,a,e,n);break t}}throw t=Z2(a)||a,Error(K(306,t,""))}}return t;case 0:return Sm(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,l=qs(a,t.pendingProps),D6(e,t,a,l,n);case 3:t:{if(Zh(t,t.stateNode.containerInfo),e===null)throw Error(K(387));a=t.pendingProps;var u=t.memoizedState;l=u.element,fm(e,t),ao(t,a,null,n);var r=t.memoizedState;if(a=r.cache,Ai(t,$e,a),a!==u.cache&&rm(t,[$e],n,!0),no(),a=r.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=M6(e,t,a,n);break t}else if(a!==l){l=Na(Error(K(424)),t),vo(l),t=M6(e,t,a,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=Xa(e.firstChild),Hn=t,Jt=!0,ws=null,Ia=!0,n=PS(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(qo(),a===l){t=Xl(e,t,n);break t}En(e,t,a,n)}t=t.child}return t;case 26:return Gh(e,t),e===null?(n=k6(t.type,null,t.pendingProps,null))?t.memoizedState=n:Jt||(n=t.type,e=t.pendingProps,a=pd(Gi.current).createElement(n),a[On]=t,a[Jn]=e,An(a,n,e),dn(a),t.stateNode=a):t.memoizedState=k6(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J2(t),e===null&&Jt&&(a=t.stateNode=J9(t.type,t.pendingProps,Gi.current),Hn=t,Ia=!0,l=Oe,$i(t.type)?(wm=l,Oe=Xa(a.firstChild)):Oe=l),En(e,t,t.pendingProps.children,n),Gh(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Jt&&((l=a=Oe)&&(a=YA(a,t.type,t.pendingProps,Ia),a!==null?(t.stateNode=a,Hn=t,Oe=Xa(a.firstChild),Ia=!1,l=!0):l=!1),l||Vs(t)),J2(t),l=t.type,u=t.pendingProps,r=e!==null?e.memoizedProps:null,a=u.children,Rm(l,u)?a=null:r!==null&&Rm(l,r)&&(t.flags|=32),t.memoizedState!==null&&(l=Rp(e,t,aA,null,null,n),Co._currentValue=l),Gh(e,t),En(e,t,a,n),t.child;case 6:return e===null&&Jt&&((e=n=Oe)&&(n=VA(n,t.pendingProps,Ia),n!==null?(t.stateNode=n,Hn=t,Oe=null,e=!0):e=!1),e||Vs(t)),null;case 13:return u9(e,t,n);case 4:return Zh(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Mr(t,null,a,n):En(e,t,a,n),t.child;case 11:return T6(e,t,t.type,t.pendingProps,n);case 7:return En(e,t,t.pendingProps,n),t.child;case 8:return En(e,t,t.pendingProps.children,n),t.child;case 12:return En(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Ai(t,t.type,a.value),En(e,t,a.children,n),t.child;case 9:return l=t.type._context,a=t.pendingProps.children,js(t),l=Rn(l),a=a(l),t.flags|=1,En(e,t,a,n),t.child;case 14:return C6(e,t,t.type,t.pendingProps,n);case 15:return i9(e,t,t.type,t.pendingProps,n);case 19:return r9(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=cd(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Hl(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return s9(e,t,n);case 24:return js(t),a=Rn($e),e===null?(l=Dp(),l===null&&(l=ge,u=xp(),l.pooledCache=u,u.refCount++,u!==null&&(l.pooledCacheLanes|=n),l=u),t.memoizedState={parent:a,cache:l},Mp(t),Ai(t,$e,l)):(e.lanes&n&&(fm(e,t),ao(t,null,null,n),no()),l=e.memoizedState,u=t.memoizedState,l.parent!==a?(l={parent:a,cache:a},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),Ai(t,$e,a)):(a=u.cache,Ai(t,$e,a),a!==l.cache&&rm(t,[$e],n,!0))),En(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(K(156,t.tag))}function Al(e){e.flags|=4}function O6(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!I9(t)){if(t=za.current,t!==null&&((Kt&4194048)===Kt?al!==null:(Kt&62914560)!==Kt&&!(Kt&536870912)||t!==al))throw to=om,gS;e.flags|=8192}}function gh(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?G8():536870912,e.lanes|=t,Nr|=t)}function Lc(e,t){if(!Jt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function hA(e,t,n){var a=t.pendingProps;switch(Ap(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ae(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Bl($e),Er(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Hc(t)?Al(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,s6())),Ae(t),null;case 26:return n=t.memoizedState,e===null?(Al(t),n!==null?(Ae(t),O6(t,n)):(Ae(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Al(t),Ae(t),O6(t,n)):(Ae(t),t.flags&=-16777217):(e.memoizedProps!==a&&Al(t),Ae(t),t.flags&=-16777217),null;case 27:Fh(t),n=Gi.current;var l=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Al(t);else{if(!a){if(t.stateNode===null)throw Error(K(166));return Ae(t),null}e=el.current,Hc(t)?l6(t):(e=J9(l,a,n),t.stateNode=e,Al(t))}return Ae(t),null;case 5:if(Fh(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Al(t);else{if(!a){if(t.stateNode===null)throw Error(K(166));return Ae(t),null}if(e=el.current,Hc(t))l6(t);else{switch(l=pd(Gi.current),e){case 1:e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?l.createElement("select",{is:a.is}):l.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?l.createElement(n,{is:a.is}):l.createElement(n)}}e[On]=t,e[Jn]=a;t:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break t;for(;l.sibling===null;){if(l.return===null||l.return===t)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=e;t:switch(An(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Al(t)}}return Ae(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Al(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(K(166));if(e=Gi.current,Hc(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,l=Hn,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}e[On]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||k9(e.nodeValue,n)),e||Vs(t)}else e=pd(e).createTextNode(a),e[On]=t,t.stateNode=e}return Ae(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Hc(t),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(K(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(K(317));l[On]=t}else qo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),l=!1}else l=s6(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(Gl(t),t):(Gl(t),null)}if(Gl(t),t.flags&128)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool);var u=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),gh(t,t.updateQueue),Ae(t),null;case 4:return Er(),e===null&&Wp(t.stateNode.containerInfo),Ae(t),null;case 10:return Bl(t.type),Ae(t),null;case 19:if(pn(tn),l=t.memoizedState,l===null)return Ae(t),null;if(a=(t.flags&128)!==0,u=l.rendering,u===null)if(a)Lc(l,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=sd(e),u!==null){for(t.flags|=128,Lc(l,!1),e=u.updateQueue,t.updateQueue=e,gh(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)oS(n,e),n=n.sibling;return _e(tn,tn.current&1|2),t.child}e=e.sibling}l.tail!==null&&nl()>fd&&(t.flags|=128,a=!0,Lc(l,!1),t.lanes=4194304)}else{if(!a)if(e=sd(u),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,gh(t,e),Lc(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!Jt)return Ae(t),null}else 2*nl()-l.renderingStartTime>fd&&n!==536870912&&(t.flags|=128,a=!0,Lc(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(e=l.last,e!==null?e.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nl(),t.sibling=null,e=tn.current,_e(tn,a?e&1|2:e&1),t):(Ae(t),null);case 22:case 23:return Gl(t),Np(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),n=t.updateQueue,n!==null&&gh(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&pn(Gs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Bl($e),Ae(t),null;case 25:return null;case 30:return null}throw Error(K(156,t.tag))}function dA(e,t){switch(Ap(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bl($e),Er(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Fh(t),null;case 13:if(Gl(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));qo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pn(tn),null;case 4:return Er(),null;case 10:return Bl(t.type),null;case 22:case 23:return Gl(t),Np(),e!==null&&pn(Gs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Bl($e),null;case 25:return null;default:return null}}function o9(e,t){switch(Ap(t),t.tag){case 3:Bl($e),Er();break;case 26:case 27:case 5:Fh(t);break;case 4:Er();break;case 13:Gl(t);break;case 19:pn(tn);break;case 10:Bl(t.type);break;case 22:case 23:Gl(t),Np(),e!==null&&pn(Gs);break;case 24:Bl($e)}}function Jo(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&e)===e){a=void 0;var u=n.create,r=n.inst;a=u(),r.destroy=a}n=n.next}while(n!==l)}}catch(o){ce(t,t.return,o)}}function Qi(e,t,n){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&e)===e){var r=a.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,l=t;var f=n,g=o;try{g()}catch(m){ce(l,f,m)}}}a=a.next}while(a!==u)}}catch(m){ce(t,t.return,m)}}function f9(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{yS(t,n)}catch(a){ce(e,e.return,a)}}}function h9(e,t,n){n.props=qs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){ce(e,t,a)}}function io(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(l){ce(e,t,l)}}function tl(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){ce(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){ce(e,t,l)}else n.current=null}function d9(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){ce(e,e.return,l)}}function l2(e,t,n){try{var a=e.stateNode;wA(a,e.type,n,t),a[Jn]=t}catch(l){ce(e,e.return,l)}}function g9(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$i(e.type)||e.tag===4}function i2(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||g9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$i(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bm(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=t0));else if(a!==4&&(a===27&&$i(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(bm(e,t,n),e=e.sibling;e!==null;)bm(e,t,n),e=e.sibling}function od(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&$i(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(od(e,t,n),e=e.sibling;e!==null;)od(e,t,n),e=e.sibling}function m9(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);An(t,a,n),t[On]=e,t[Jn]=n}catch(u){ce(e,e.return,u)}}var Ol=!1,Le=!1,s2=!1,R6=typeof WeakSet=="function"?WeakSet:Set,hn=null;function gA(e,t){if(e=e.containerInfo,Nm=_d,e=nS(e),_p(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break t}var r=0,o=-1,f=-1,g=0,m=0,b=e,v=null;e:for(;;){for(var p;b!==n||l!==0&&b.nodeType!==3||(o=r+l),b!==u||a!==0&&b.nodeType!==3||(f=r+a),b.nodeType===3&&(r+=b.nodeValue.length),(p=b.firstChild)!==null;)v=b,b=p;for(;;){if(b===e)break e;if(v===n&&++g===l&&(o=r),v===u&&++m===a&&(f=r),(p=b.nextSibling)!==null)break;b=v,v=b.parentNode}b=p}n=o===-1||f===-1?null:{start:o,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Om={focusedElem:e,selectionRange:n},_d=!1,hn=t;hn!==null;)if(t=hn,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,hn=e;else for(;hn!==null;){switch(t=hn,u=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&u!==null){e=void 0,n=t,l=u.memoizedProps,u=u.memoizedState,a=n.stateNode;try{var _=qs(n.type,l,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(_,u),a.__reactInternalSnapshotBeforeUpdate=e}catch(A){ce(n,n.return,A)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Um(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Um(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(K(163))}if(e=t.sibling,e!==null){e.return=t.return,hn=e;break}hn=t.return}}function p9(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Si(e,n),a&4&&Jo(5,n);break;case 1:if(Si(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){ce(n,n.return,r)}else{var l=qs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){ce(n,n.return,r)}}a&64&&f9(n),a&512&&io(n,n.return);break;case 3:if(Si(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{yS(e,t)}catch(r){ce(n,n.return,r)}}break;case 27:t===null&&a&4&&m9(n);case 26:case 5:Si(e,n),t===null&&a&4&&d9(n),a&512&&io(n,n.return);break;case 12:Si(e,n);break;case 13:Si(e,n),a&4&&S9(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=TA.bind(null,n),jA(e,n))));break;case 22:if(a=n.memoizedState!==null||Ol,!a){t=t!==null&&t.memoizedState!==null||Le,l=Ol;var u=Le;Ol=a,(Le=t)&&!u?bi(e,n,(n.subtreeFlags&8772)!==0):Si(e,n),Ol=l,Le=u}break;case 30:break;default:Si(e,n)}}function y9(e){var t=e.alternate;t!==null&&(e.alternate=null,y9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&gp(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,kn=!1;function xl(e,t,n){for(n=n.child;n!==null;)v9(e,t,n),n=n.sibling}function v9(e,t,n){if(ca&&typeof ca.onCommitFiberUnmount=="function")try{ca.onCommitFiberUnmount(Lo,n)}catch{}switch(n.tag){case 26:Le||tl(n,t),xl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Le||tl(n,t);var a=ve,l=kn;$i(n.type)&&(ve=n.stateNode,kn=!1),xl(e,t,n),co(n.stateNode),ve=a,kn=l;break;case 5:Le||tl(n,t);case 6:if(a=ve,l=kn,ve=null,xl(e,t,n),ve=a,kn=l,ve!==null)if(kn)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(n.stateNode)}catch(u){ce(n,t,u)}else try{ve.removeChild(n.stateNode)}catch(u){ce(n,t,u)}break;case 18:ve!==null&&(kn?(e=ve,q6(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Do(e)):q6(ve,n.stateNode));break;case 4:a=ve,l=kn,ve=n.stateNode.containerInfo,kn=!0,xl(e,t,n),ve=a,kn=l;break;case 0:case 11:case 14:case 15:Le||Qi(2,n,t),Le||Qi(4,n,t),xl(e,t,n);break;case 1:Le||(tl(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&h9(n,t,a)),xl(e,t,n);break;case 21:xl(e,t,n);break;case 22:Le=(a=Le)||n.memoizedState!==null,xl(e,t,n),Le=a;break;default:xl(e,t,n)}}function S9(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Do(e)}catch(n){ce(t,t.return,n)}}function mA(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new R6),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new R6),t;default:throw Error(K(435,e.tag))}}function u2(e,t){var n=mA(e);t.forEach(function(a){var l=CA.bind(null,e,a);n.has(a)||(n.add(a),a.then(l,l))})}function ia(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],u=e,r=t,o=r;t:for(;o!==null;){switch(o.tag){case 27:if($i(o.type)){ve=o.stateNode,kn=!1;break t}break;case 5:ve=o.stateNode,kn=!1;break t;case 3:case 4:ve=o.stateNode.containerInfo,kn=!0;break t}o=o.return}if(ve===null)throw Error(K(160));v9(u,r,l),ve=null,kn=!1,u=l.alternate,u!==null&&(u.return=null),l.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)_9(t,e),t=t.sibling}var ja=null;function _9(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ia(t,e),sa(e),a&4&&(Qi(3,e,e.return),Jo(3,e),Qi(5,e,e.return));break;case 1:ia(t,e),sa(e),a&512&&(Le||n===null||tl(n,n.return)),a&64&&Ol&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=ja;if(ia(t,e),sa(e),a&512&&(Le||n===null||tl(n,n.return)),a&4){var u=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){t:{a=e.type,n=e.memoizedProps,l=l.ownerDocument||l;e:switch(a){case"title":u=l.getElementsByTagName("title")[0],(!u||u[jo]||u[On]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=l.createElement(a),l.head.insertBefore(u,l.querySelector("head > title"))),An(u,a,n),u[On]=e,dn(u),a=u;break t;case"link":var r=F6("link","href",l).get(a+(n.href||""));if(r){for(var o=0;o<r.length;o++)if(u=r[o],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(o,1);break e}}u=l.createElement(a),An(u,a,n),l.head.appendChild(u);break;case"meta":if(r=F6("meta","content",l).get(a+(n.content||""))){for(o=0;o<r.length;o++)if(u=r[o],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(o,1);break e}}u=l.createElement(a),An(u,a,n),l.head.appendChild(u);break;default:throw Error(K(468,a))}u[On]=e,dn(u),a=u}e.stateNode=a}else J6(l,e.type,e.stateNode);else e.stateNode=Z6(l,a,e.memoizedProps);else u!==a?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,a===null?J6(l,e.type,e.stateNode):Z6(l,a,e.memoizedProps)):a===null&&e.stateNode!==null&&l2(e,e.memoizedProps,n.memoizedProps)}break;case 27:ia(t,e),sa(e),a&512&&(Le||n===null||tl(n,n.return)),n!==null&&a&4&&l2(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ia(t,e),sa(e),a&512&&(Le||n===null||tl(n,n.return)),e.flags&32){l=e.stateNode;try{Cr(l,"")}catch(p){ce(e,e.return,p)}}a&4&&e.stateNode!=null&&(l=e.memoizedProps,l2(e,l,n!==null?n.memoizedProps:l)),a&1024&&(s2=!0);break;case 6:if(ia(t,e),sa(e),a&4){if(e.stateNode===null)throw Error(K(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(p){ce(e,e.return,p)}}break;case 3:if(Lh=null,l=ja,ja=yd(t.containerInfo),ia(t,e),ja=l,sa(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Do(t.containerInfo)}catch(p){ce(e,e.return,p)}s2&&(s2=!1,b9(e));break;case 4:a=ja,ja=yd(e.stateNode.containerInfo),ia(t,e),sa(e),ja=a;break;case 12:ia(t,e),sa(e);break;case 13:ia(t,e),sa(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Zp=nl()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,u2(e,a)));break;case 22:l=e.memoizedState!==null;var f=n!==null&&n.memoizedState!==null,g=Ol,m=Le;if(Ol=g||l,Le=m||f,ia(t,e),Le=m,Ol=g,sa(e),a&8192)t:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||f||Ol||Le||Ms(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){f=n=t;try{if(u=f.stateNode,l)r=u.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=f.stateNode;var b=f.memoizedProps.style,v=b!=null&&b.hasOwnProperty("display")?b.display:null;o.style.display=v==null||typeof v=="boolean"?"":(""+v).trim()}}catch(p){ce(f,f.return,p)}}}else if(t.tag===6){if(n===null){f=t;try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(p){ce(f,f.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,u2(e,n))));break;case 19:ia(t,e),sa(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,u2(e,a)));break;case 30:break;case 21:break;default:ia(t,e),sa(e)}}function sa(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(g9(a)){n=a;break}a=a.return}if(n==null)throw Error(K(160));switch(n.tag){case 27:var l=n.stateNode,u=i2(e);od(e,u,l);break;case 5:var r=n.stateNode;n.flags&32&&(Cr(r,""),n.flags&=-33);var o=i2(e);od(e,o,r);break;case 3:case 4:var f=n.stateNode.containerInfo,g=i2(e);bm(e,g,f);break;default:throw Error(K(161))}}catch(m){ce(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b9(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;b9(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Si(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)p9(e,t.alternate,t),t=t.sibling}function Ms(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qi(4,t,t.return),Ms(t);break;case 1:tl(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&h9(t,t.return,n),Ms(t);break;case 27:co(t.stateNode);case 26:case 5:tl(t,t.return),Ms(t);break;case 22:t.memoizedState===null&&Ms(t);break;case 30:Ms(t);break;default:Ms(t)}e=e.sibling}}function bi(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,l=e,u=t,r=u.flags;switch(u.tag){case 0:case 11:case 15:bi(l,u,n),Jo(4,u);break;case 1:if(bi(l,u,n),a=u,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(g){ce(a,a.return,g)}if(a=u,l=a.updateQueue,l!==null){var o=a.stateNode;try{var f=l.shared.hiddenCallbacks;if(f!==null)for(l.shared.hiddenCallbacks=null,l=0;l<f.length;l++)pS(f[l],o)}catch(g){ce(a,a.return,g)}}n&&r&64&&f9(u),io(u,u.return);break;case 27:m9(u);case 26:case 5:bi(l,u,n),n&&a===null&&r&4&&d9(u),io(u,u.return);break;case 12:bi(l,u,n);break;case 13:bi(l,u,n),n&&r&4&&S9(l,u);break;case 22:u.memoizedState===null&&bi(l,u,n),io(u,u.return);break;case 30:break;default:bi(l,u,n)}t=t.sibling}}function qp(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Qo(n))}function Kp(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qo(e))}function Wa(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)E9(e,t,n,a),t=t.sibling}function E9(e,t,n,a){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Wa(e,t,n,a),l&2048&&Jo(9,t);break;case 1:Wa(e,t,n,a);break;case 3:Wa(e,t,n,a),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qo(e)));break;case 12:if(l&2048){Wa(e,t,n,a),e=t.stateNode;try{var u=t.memoizedProps,r=u.id,o=u.onPostCommit;typeof o=="function"&&o(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(f){ce(t,t.return,f)}}else Wa(e,t,n,a);break;case 13:Wa(e,t,n,a);break;case 23:break;case 22:u=t.stateNode,r=t.alternate,t.memoizedState!==null?u._visibility&2?Wa(e,t,n,a):so(e,t):u._visibility&2?Wa(e,t,n,a):(u._visibility|=2,Zu(e,t,n,a,(t.subtreeFlags&10256)!==0)),l&2048&&qp(r,t);break;case 24:Wa(e,t,n,a),l&2048&&Kp(t.alternate,t);break;default:Wa(e,t,n,a)}}function Zu(e,t,n,a,l){for(l=l&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var u=e,r=t,o=n,f=a,g=r.flags;switch(r.tag){case 0:case 11:case 15:Zu(u,r,o,f,l),Jo(8,r);break;case 23:break;case 22:var m=r.stateNode;r.memoizedState!==null?m._visibility&2?Zu(u,r,o,f,l):so(u,r):(m._visibility|=2,Zu(u,r,o,f,l)),l&&g&2048&&qp(r.alternate,r);break;case 24:Zu(u,r,o,f,l),l&&g&2048&&Kp(r.alternate,r);break;default:Zu(u,r,o,f,l)}t=t.sibling}}function so(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,l=a.flags;switch(a.tag){case 22:so(n,a),l&2048&&qp(a.alternate,a);break;case 24:so(n,a),l&2048&&Kp(a.alternate,a);break;default:so(n,a)}t=t.sibling}}var Zc=8192;function Bu(e){if(e.subtreeFlags&Zc)for(e=e.child;e!==null;)T9(e),e=e.sibling}function T9(e){switch(e.tag){case 26:Bu(e),e.flags&Zc&&e.memoizedState!==null&&tx(ja,e.memoizedState,e.memoizedProps);break;case 5:Bu(e);break;case 3:case 4:var t=ja;ja=yd(e.stateNode.containerInfo),Bu(e),ja=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Zc,Zc=16777216,Bu(e),Zc=t):Bu(e));break;default:Bu(e)}}function C9(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Yc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];hn=a,x9(a,e)}C9(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)A9(e),e=e.sibling}function A9(e){switch(e.tag){case 0:case 11:case 15:Yc(e),e.flags&2048&&Qi(9,e,e.return);break;case 3:Yc(e);break;case 12:Yc(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hh(e)):Yc(e);break;default:Yc(e)}}function Hh(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];hn=a,x9(a,e)}C9(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qi(8,t,t.return),Hh(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Hh(t));break;default:Hh(t)}e=e.sibling}}function x9(e,t){for(;hn!==null;){var n=hn;switch(n.tag){case 0:case 11:case 15:Qi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Qo(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,hn=a;else t:for(n=e;hn!==null;){a=hn;var l=a.sibling,u=a.return;if(y9(a),a===n){hn=null;break t}if(l!==null){l.return=u,hn=l;break t}hn=u}}}var pA={getCacheForType:function(e){var t=Rn($e),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},yA=typeof WeakMap=="function"?WeakMap:Map,ae=0,ge=null,Bt=null,Kt=0,ne=0,ua=null,Ui=!1,Qr=!1,Qp=!1,ql=0,Re=0,ki=0,Hs=0,kp=0,Ua=0,Nr=0,uo=null,Zn=null,Em=!1,Zp=0,fd=1/0,hd=null,Li=null,Cn=0,Yi=null,Or=null,yr=0,Tm=0,Cm=null,D9=null,ro=0,Am=null;function fa(){if(ae&2&&Kt!==0)return Kt&-Kt;if(_t.T!==null){var e=Ar;return e!==0?e:Jp()}return L8()}function M9(){Ua===0&&(Ua=!(Kt&536870912)||Jt?w8():536870912);var e=za.current;return e!==null&&(e.flags|=32),Ua}function ha(e,t,n){(e===ge&&(ne===2||ne===9)||e.cancelPendingCommit!==null)&&(Rr(e,0),zi(e,Kt,Ua,!1)),Vo(e,n),(!(ae&2)||e!==ge)&&(e===ge&&(!(ae&2)&&(Hs|=n),Re===4&&zi(e,Kt,Ua,!1)),cl(e))}function N9(e,t,n){if(ae&6)throw Error(K(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Yo(e,t),l=a?_A(e,t):r2(e,t,!0),u=a;do{if(l===0){Qr&&!a&&zi(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!vA(n)){l=r2(e,t,!1),u=!1;continue}if(l===2){if(u=t,e.errorRecoveryDisabledLanes&u)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;t:{var o=e;l=uo;var f=o.current.memoizedState.isDehydrated;if(f&&(Rr(o,r).flags|=256),r=r2(o,r,!1),r!==2){if(Qp&&!f){o.errorRecoveryDisabledLanes|=u,Hs|=u,l=4;break t}u=Zn,Zn=l,u!==null&&(Zn===null?Zn=u:Zn.push.apply(Zn,u))}l=r}if(u=!1,l!==2)continue}}if(l===1){Rr(e,0),zi(e,t,0,!0);break}t:{switch(a=e,u=l,u){case 0:case 1:throw Error(K(345));case 4:if((t&4194048)!==t)break;case 6:zi(a,t,Ua,!Ui);break t;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(K(329))}if((t&62914560)===t&&(l=Zp+300-nl(),10<l)){if(zi(a,t,Ua,!Ui),jd(a,0,!0)!==0)break t;a.timeoutHandle=F9(U6.bind(null,a,n,Zn,hd,Em,t,Ua,Hs,Nr,Ui,u,2,-0,0),l);break t}U6(a,n,Zn,hd,Em,t,Ua,Hs,Nr,Ui,u,0,-0,0)}}break}while(!0);cl(e)}function U6(e,t,n,a,l,u,r,o,f,g,m,b,v,p){if(e.timeoutHandle=-1,b=t.subtreeFlags,(b&8192||(b&16785408)===16785408)&&(To={stylesheets:null,count:0,unsuspend:$A},T9(t),b=ex(),b!==null)){e.cancelPendingCommit=b(w6.bind(null,e,t,u,n,a,l,r,o,f,m,1,v,p)),zi(e,u,r,!g);return}w6(e,t,u,n,a,l,r,o,f)}function vA(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],u=l.getSnapshot;l=l.value;try{if(!ga(u(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zi(e,t,n,a){t&=~kp,t&=~Hs,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var l=t;0<l;){var u=31-oa(l),r=1<<u;a[u]=-1,l&=~r}n!==0&&H8(e,n,t)}function Pd(){return ae&6?!0:(Wo(0),!1)}function Fp(){if(Bt!==null){if(ne===0)var e=Bt.return;else e=Bt,wl=Ps=null,wp(e),pr=null,_o=0,e=Bt;for(;e!==null;)o9(e.alternate,e),e=e.return;Bt=null}}function Rr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,HA(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Fp(),ge=e,Bt=n=Hl(e.current,null),Kt=t,ne=0,ua=null,Ui=!1,Qr=Yo(e,t),Qp=!1,Nr=Ua=kp=Hs=ki=Re=0,Zn=uo=null,Em=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var l=31-oa(a),u=1<<l;t|=e[l],a&=~u}return ql=t,Qd(),n}function O9(e,t){Nt=null,_t.H=id,t===ko||t===Zd?(t=o6(),ne=3):t===gS?(t=o6(),ne=4):ne=t===l9?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ua=t,Bt===null&&(Re=1,rd(e,Na(t,e.current)))}function R9(){var e=_t.H;return _t.H=id,e===null?id:e}function U9(){var e=_t.A;return _t.A=pA,e}function xm(){Re=4,Ui||(Kt&4194048)!==Kt&&za.current!==null||(Qr=!0),!(ki&134217727)&&!(Hs&134217727)||ge===null||zi(ge,Kt,Ua,!1)}function r2(e,t,n){var a=ae;ae|=2;var l=R9(),u=U9();(ge!==e||Kt!==t)&&(hd=null,Rr(e,t)),t=!1;var r=Re;t:do try{if(ne!==0&&Bt!==null){var o=Bt,f=ua;switch(ne){case 8:Fp(),r=6;break t;case 3:case 2:case 9:case 6:za.current===null&&(t=!0);var g=ne;if(ne=0,ua=null,cr(e,o,f,g),n&&Qr){r=0;break t}break;default:g=ne,ne=0,ua=null,cr(e,o,f,g)}}SA(),r=Re;break}catch(m){O9(e,m)}while(!0);return t&&e.shellSuspendCounter++,wl=Ps=null,ae=a,_t.H=l,_t.A=u,Bt===null&&(ge=null,Kt=0,Qd()),r}function SA(){for(;Bt!==null;)z9(Bt)}function _A(e,t){var n=ae;ae|=2;var a=R9(),l=U9();ge!==e||Kt!==t?(hd=null,fd=nl()+500,Rr(e,t)):Qr=Yo(e,t);t:do try{if(ne!==0&&Bt!==null){t=Bt;var u=ua;e:switch(ne){case 1:ne=0,ua=null,cr(e,t,u,1);break;case 2:case 9:if(c6(u)){ne=0,ua=null,z6(t);break}t=function(){ne!==2&&ne!==9||ge!==e||(ne=7),cl(e)},u.then(t,t);break t;case 3:ne=7;break t;case 4:ne=5;break t;case 7:c6(u)?(ne=0,ua=null,z6(t)):(ne=0,ua=null,cr(e,t,u,7));break;case 5:var r=null;switch(Bt.tag){case 26:r=Bt.memoizedState;case 5:case 27:var o=Bt;if(!r||I9(r)){ne=0,ua=null;var f=o.sibling;if(f!==null)Bt=f;else{var g=o.return;g!==null?(Bt=g,Id(g)):Bt=null}break e}}ne=0,ua=null,cr(e,t,u,5);break;case 6:ne=0,ua=null,cr(e,t,u,6);break;case 8:Fp(),Re=6;break t;default:throw Error(K(462))}}bA();break}catch(m){O9(e,m)}while(!0);return wl=Ps=null,_t.H=a,_t.A=l,ae=n,Bt!==null?0:(ge=null,Kt=0,Qd(),Re)}function bA(){for(;Bt!==null&&!qT();)z9(Bt)}function z9(e){var t=c9(e.alternate,e,ql);e.memoizedProps=e.pendingProps,t===null?Id(e):Bt=t}function z6(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=x6(n,t,t.pendingProps,t.type,void 0,Kt);break;case 11:t=x6(n,t,t.pendingProps,t.type.render,t.ref,Kt);break;case 5:wp(t);default:o9(n,t),t=Bt=oS(t,ql),t=c9(n,t,ql)}e.memoizedProps=e.pendingProps,t===null?Id(e):Bt=t}function cr(e,t,n,a){wl=Ps=null,wp(t),pr=null,_o=0;var l=t.return;try{if(oA(e,l,t,n,Kt)){Re=1,rd(e,Na(n,e.current)),Bt=null;return}}catch(u){if(l!==null)throw Bt=l,u;Re=1,rd(e,Na(n,e.current)),Bt=null;return}t.flags&32768?(Jt||a===1?e=!0:Qr||Kt&536870912?e=!1:(Ui=e=!0,(a===2||a===9||a===3||a===6)&&(a=za.current,a!==null&&a.tag===13&&(a.flags|=16384))),w9(t,e)):Id(t)}function Id(e){var t=e;do{if(t.flags&32768){w9(t,Ui);return}e=t.return;var n=hA(t.alternate,t,ql);if(n!==null){Bt=n;return}if(t=t.sibling,t!==null){Bt=t;return}Bt=t=e}while(t!==null);Re===0&&(Re=5)}function w9(e,t){do{var n=dA(e.alternate,e);if(n!==null){n.flags&=32767,Bt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Bt=e;return}Bt=e=n}while(e!==null);Re=6,Bt=null}function w6(e,t,n,a,l,u,r,o,f){e.cancelPendingCommit=null;do $d();while(Cn!==0);if(ae&6)throw Error(K(327));if(t!==null){if(t===e.current)throw Error(K(177));if(u=t.lanes|t.childLanes,u|=bp,$T(e,n,u,r,o,f),e===ge&&(Bt=ge=null,Kt=0),Or=t,Yi=e,yr=n,Tm=u,Cm=l,D9=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,AA(Jh,function(){return Y9(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=_t.T,_t.T=null,l=Wt.p,Wt.p=2,r=ae,ae|=4;try{gA(e,t,n)}finally{ae=r,Wt.p=l,_t.T=a}}Cn=1,G9(),H9(),B9()}}function G9(){if(Cn===1){Cn=0;var e=Yi,t=Or,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=_t.T,_t.T=null;var a=Wt.p;Wt.p=2;var l=ae;ae|=4;try{_9(t,e);var u=Om,r=nS(e.containerInfo),o=u.focusedElem,f=u.selectionRange;if(r!==o&&o&&o.ownerDocument&&eS(o.ownerDocument.documentElement,o)){if(f!==null&&_p(o)){var g=f.start,m=f.end;if(m===void 0&&(m=g),"selectionStart"in o)o.selectionStart=g,o.selectionEnd=Math.min(m,o.value.length);else{var b=o.ownerDocument||document,v=b&&b.defaultView||window;if(v.getSelection){var p=v.getSelection(),_=o.textContent.length,A=Math.min(f.start,_),x=f.end===void 0?A:Math.min(f.end,_);!p.extend&&A>x&&(r=x,x=A,A=r);var C=e6(o,A),T=e6(o,x);if(C&&T&&(p.rangeCount!==1||p.anchorNode!==C.node||p.anchorOffset!==C.offset||p.focusNode!==T.node||p.focusOffset!==T.offset)){var S=b.createRange();S.setStart(C.node,C.offset),p.removeAllRanges(),A>x?(p.addRange(S),p.extend(T.node,T.offset)):(S.setEnd(T.node,T.offset),p.addRange(S))}}}}for(b=[],p=o;p=p.parentNode;)p.nodeType===1&&b.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<b.length;o++){var E=b[o];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}_d=!!Nm,Om=Nm=null}finally{ae=l,Wt.p=a,_t.T=n}}e.current=t,Cn=2}}function H9(){if(Cn===2){Cn=0;var e=Yi,t=Or,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=_t.T,_t.T=null;var a=Wt.p;Wt.p=2;var l=ae;ae|=4;try{p9(e,t.alternate,t)}finally{ae=l,Wt.p=a,_t.T=n}}Cn=3}}function B9(){if(Cn===4||Cn===3){Cn=0,KT();var e=Yi,t=Or,n=yr,a=D9;t.subtreeFlags&10256||t.flags&10256?Cn=5:(Cn=0,Or=Yi=null,L9(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Li=null),dp(n),t=t.stateNode,ca&&typeof ca.onCommitFiberRoot=="function")try{ca.onCommitFiberRoot(Lo,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=_t.T,l=Wt.p,Wt.p=2,_t.T=null;try{for(var u=e.onRecoverableError,r=0;r<a.length;r++){var o=a[r];u(o.value,{componentStack:o.stack})}}finally{_t.T=t,Wt.p=l}}yr&3&&$d(),cl(e),l=e.pendingLanes,n&4194090&&l&42?e===Am?ro++:(ro=0,Am=e):ro=0,Wo(0)}}function L9(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Qo(t)))}function $d(e){return G9(),H9(),B9(),Y9()}function Y9(){if(Cn!==5)return!1;var e=Yi,t=Tm;Tm=0;var n=dp(yr),a=_t.T,l=Wt.p;try{Wt.p=32>n?32:n,_t.T=null,n=Cm,Cm=null;var u=Yi,r=yr;if(Cn=0,Or=Yi=null,yr=0,ae&6)throw Error(K(331));var o=ae;if(ae|=4,A9(u.current),E9(u,u.current,r,n),ae=o,Wo(0,!1),ca&&typeof ca.onPostCommitFiberRoot=="function")try{ca.onPostCommitFiberRoot(Lo,u)}catch{}return!0}finally{Wt.p=l,_t.T=a,L9(e,t)}}function G6(e,t,n){t=Na(n,t),t=vm(e.stateNode,t,2),e=Bi(e,t,2),e!==null&&(Vo(e,2),cl(e))}function ce(e,t,n){if(e.tag===3)G6(e,e,n);else for(;t!==null;){if(t.tag===3){G6(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Li===null||!Li.has(a))){e=Na(n,e),n=n9(2),a=Bi(t,n,2),a!==null&&(a9(n,a,t,e),Vo(a,2),cl(a));break}}t=t.return}}function c2(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new yA;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(n)||(Qp=!0,l.add(n),e=EA.bind(null,e,t,n),t.then(e,e))}function EA(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ge===e&&(Kt&n)===n&&(Re===4||Re===3&&(Kt&62914560)===Kt&&300>nl()-Zp?!(ae&2)&&Rr(e,0):kp|=n,Nr===Kt&&(Nr=0)),cl(e)}function V9(e,t){t===0&&(t=G8()),e=Kr(e,t),e!==null&&(Vo(e,t),cl(e))}function TA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),V9(e,n)}function CA(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(K(314))}a!==null&&a.delete(t),V9(e,n)}function AA(e,t){return fp(e,t)}var dd=null,Fu=null,Dm=!1,gd=!1,o2=!1,Bs=0;function cl(e){e!==Fu&&e.next===null&&(Fu===null?dd=Fu=e:Fu=Fu.next=e),gd=!0,Dm||(Dm=!0,DA())}function Wo(e,t){if(!o2&&gd){o2=!0;do for(var n=!1,a=dd;a!==null;){if(e!==0){var l=a.pendingLanes;if(l===0)var u=0;else{var r=a.suspendedLanes,o=a.pingedLanes;u=(1<<31-oa(42|e)+1)-1,u&=l&~(r&~o),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,H6(a,u))}else u=Kt,u=jd(a,a===ge?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(u&3)||Yo(a,u)||(n=!0,H6(a,u));a=a.next}while(n);o2=!1}}function xA(){j9()}function j9(){gd=Dm=!1;var e=0;Bs!==0&&(GA()&&(e=Bs),Bs=0);for(var t=nl(),n=null,a=dd;a!==null;){var l=a.next,u=X9(a,t);u===0?(a.next=null,n===null?dd=l:n.next=l,l===null&&(Fu=n)):(n=a,(e!==0||u&3)&&(gd=!0)),a=l}Wo(e)}function X9(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var r=31-oa(u),o=1<<r,f=l[r];f===-1?(!(o&n)||o&a)&&(l[r]=IT(o,t)):f<=t&&(e.expiredLanes|=o),u&=~o}if(t=ge,n=Kt,n=jd(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(ne===2||ne===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Hg(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Yo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Hg(a),dp(n)){case 2:case 8:n=U8;break;case 32:n=Jh;break;case 268435456:n=z8;break;default:n=Jh}return a=q9.bind(null,e),n=fp(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Hg(a),e.callbackPriority=2,e.callbackNode=null,2}function q9(e,t){if(Cn!==0&&Cn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if($d()&&e.callbackNode!==n)return null;var a=Kt;return a=jd(e,e===ge?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(N9(e,a,t),X9(e,nl()),e.callbackNode!=null&&e.callbackNode===n?q9.bind(null,e):null)}function H6(e,t){if($d())return null;N9(e,t,!0)}function DA(){BA(function(){ae&6?fp(R8,xA):j9()})}function Jp(){return Bs===0&&(Bs=w8()),Bs}function B6(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Mh(""+e)}function L6(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function MA(e,t,n,a,l){if(t==="submit"&&n&&n.stateNode===l){var u=B6((l[Jn]||null).action),r=a.submitter;r&&(t=(t=r[Jn]||null)?B6(t.formAction):r.getAttribute("formAction"),t!==null&&(u=t,r=null));var o=new Xd("action","action",null,a,l);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Bs!==0){var f=r?L6(l,r):new FormData(l);pm(n,{pending:!0,data:f,method:l.method,action:u},null,f)}}else typeof u=="function"&&(o.preventDefault(),f=r?L6(l,r):new FormData(l),pm(n,{pending:!0,data:f,method:l.method,action:u},u,f))},currentTarget:l}]})}}for(var f2=0;f2<lm.length;f2++){var h2=lm[f2],NA=h2.toLowerCase(),OA=h2[0].toUpperCase()+h2.slice(1);Ka(NA,"on"+OA)}Ka(lS,"onAnimationEnd");Ka(iS,"onAnimationIteration");Ka(sS,"onAnimationStart");Ka("dblclick","onDoubleClick");Ka("focusin","onFocus");Ka("focusout","onBlur");Ka(ZC,"onTransitionRun");Ka(FC,"onTransitionStart");Ka(JC,"onTransitionCancel");Ka(uS,"onTransitionEnd");Tr("onMouseEnter",["mouseout","mouseover"]);Tr("onMouseLeave",["mouseout","mouseover"]);Tr("onPointerEnter",["pointerout","pointerover"]);Tr("onPointerLeave",["pointerout","pointerover"]);Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bo));function K9(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],l=a.event;a=a.listeners;t:{var u=void 0;if(t)for(var r=a.length-1;0<=r;r--){var o=a[r],f=o.instance,g=o.currentTarget;if(o=o.listener,f!==u&&l.isPropagationStopped())break t;u=o,l.currentTarget=g;try{u(l)}catch(m){ud(m)}l.currentTarget=null,u=f}else for(r=0;r<a.length;r++){if(o=a[r],f=o.instance,g=o.currentTarget,o=o.listener,f!==u&&l.isPropagationStopped())break t;u=o,l.currentTarget=g;try{u(l)}catch(m){ud(m)}l.currentTarget=null,u=f}}}}function Ht(e,t){var n=t[P2];n===void 0&&(n=t[P2]=new Set);var a=e+"__bubble";n.has(a)||(Q9(t,e,2,!1),n.add(a))}function d2(e,t,n){var a=0;t&&(a|=4),Q9(n,e,a,t)}var mh="_reactListening"+Math.random().toString(36).slice(2);function Wp(e){if(!e[mh]){e[mh]=!0,Y8.forEach(function(n){n!=="selectionchange"&&(RA.has(n)||d2(n,!1,e),d2(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mh]||(t[mh]=!0,d2("selectionchange",!1,t))}}function Q9(e,t,n,a){switch(a7(t)){case 2:var l=lx;break;case 8:l=ix;break;default:l=ty}n=l.bind(null,t,n,e),l=void 0,!em||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function g2(e,t,n,a,l){var u=a;if(!(t&1)&&!(t&2)&&a!==null)t:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var o=a.stateNode.containerInfo;if(o===l)break;if(r===4)for(r=a.return;r!==null;){var f=r.tag;if((f===3||f===4)&&r.stateNode.containerInfo===l)return;r=r.return}for(;o!==null;){if(r=tr(o),r===null)return;if(f=r.tag,f===5||f===6||f===26||f===27){a=u=r;continue t}o=o.parentNode}}a=a.return}Z8(function(){var g=u,m=pp(n),b=[];t:{var v=rS.get(e);if(v!==void 0){var p=Xd,_=e;switch(e){case"keypress":if(Oh(n)===0)break t;case"keydown":case"keyup":p=AC;break;case"focusin":_="focus",p=Kg;break;case"focusout":_="blur",p=Kg;break;case"beforeblur":case"afterblur":p=Kg;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Q5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=dC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=MC;break;case lS:case iS:case sS:p=pC;break;case uS:p=OC;break;case"scroll":case"scrollend":p=fC;break;case"wheel":p=UC;break;case"copy":case"cut":case"paste":p=vC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Z5;break;case"toggle":case"beforetoggle":p=wC}var A=(t&4)!==0,x=!A&&(e==="scroll"||e==="scrollend"),C=A?v!==null?v+"Capture":null:v;A=[];for(var T=g,S;T!==null;){var E=T;if(S=E.stateNode,E=E.tag,E!==5&&E!==26&&E!==27||S===null||C===null||(E=mo(T,C),E!=null&&A.push(Eo(T,E,S))),x)break;T=T.return}0<A.length&&(v=new p(v,_,null,n,m),b.push({event:v,listeners:A}))}}if(!(t&7)){t:{if(v=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",v&&n!==tm&&(_=n.relatedTarget||n.fromElement)&&(tr(_)||_[Xr]))break t;if((p||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=g,_=_?tr(_):null,_!==null&&(x=Bo(_),A=_.tag,_!==x||A!==5&&A!==27&&A!==6)&&(_=null)):(p=null,_=g),p!==_)){if(A=Q5,E="onMouseLeave",C="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(A=Z5,E="onPointerLeave",C="onPointerEnter",T="pointer"),x=p==null?v:kc(p),S=_==null?v:kc(_),v=new A(E,T+"leave",p,n,m),v.target=x,v.relatedTarget=S,E=null,tr(m)===g&&(A=new A(C,T+"enter",_,n,m),A.target=S,A.relatedTarget=x,E=A),x=E,p&&_)e:{for(A=p,C=_,T=0,S=A;S;S=Lu(S))T++;for(S=0,E=C;E;E=Lu(E))S++;for(;0<T-S;)A=Lu(A),T--;for(;0<S-T;)C=Lu(C),S--;for(;T--;){if(A===C||C!==null&&A===C.alternate)break e;A=Lu(A),C=Lu(C)}A=null}else A=null;p!==null&&Y6(b,v,p,A,!1),_!==null&&x!==null&&Y6(b,x,_,A,!0)}}t:{if(v=g?kc(g):window,p=v.nodeName&&v.nodeName.toLowerCase(),p==="select"||p==="input"&&v.type==="file")var M=P5;else if(W5(v))if($8)M=KC;else{M=XC;var O=jC}else p=v.nodeName,!p||p.toLowerCase()!=="input"||v.type!=="checkbox"&&v.type!=="radio"?g&&mp(g.elementType)&&(M=P5):M=qC;if(M&&(M=M(e,g))){I8(b,M,n,m);break t}O&&O(e,v,g),e==="focusout"&&g&&v.type==="number"&&g.memoizedProps.value!=null&&$2(v,"number",v.value)}switch(O=g?kc(g):window,e){case"focusin":(W5(O)||O.contentEditable==="true")&&(ar=O,nm=g,Ic=null);break;case"focusout":Ic=nm=ar=null;break;case"mousedown":am=!0;break;case"contextmenu":case"mouseup":case"dragend":am=!1,n6(b,n,m);break;case"selectionchange":if(kC)break;case"keydown":case"keyup":n6(b,n,m)}var w;if(Sp)t:{switch(e){case"compositionstart":var N="onCompositionStart";break t;case"compositionend":N="onCompositionEnd";break t;case"compositionupdate":N="onCompositionUpdate";break t}N=void 0}else nr?W8(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(J8&&n.locale!=="ko"&&(nr||N!=="onCompositionStart"?N==="onCompositionEnd"&&nr&&(w=F8()):(Ri=m,yp="value"in Ri?Ri.value:Ri.textContent,nr=!0)),O=md(g,N),0<O.length&&(N=new k5(N,e,null,n,m),b.push({event:N,listeners:O}),w?N.data=w:(w=P8(n),w!==null&&(N.data=w)))),(w=HC?BC(e,n):LC(e,n))&&(N=md(g,"onBeforeInput"),0<N.length&&(O=new k5("onBeforeInput","beforeinput",null,n,m),b.push({event:O,listeners:N}),O.data=w)),MA(b,e,g,n,m)}K9(b,t)})}function Eo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function md(e,t){for(var n=t+"Capture",a=[];e!==null;){var l=e,u=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||u===null||(l=mo(e,n),l!=null&&a.unshift(Eo(e,l,u)),l=mo(e,t),l!=null&&a.push(Eo(e,l,u))),e.tag===3)return a;e=e.return}return[]}function Lu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Y6(e,t,n,a,l){for(var u=t._reactName,r=[];n!==null&&n!==a;){var o=n,f=o.alternate,g=o.stateNode;if(o=o.tag,f!==null&&f===a)break;o!==5&&o!==26&&o!==27||g===null||(f=g,l?(g=mo(n,u),g!=null&&r.unshift(Eo(n,g,f))):l||(g=mo(n,u),g!=null&&r.push(Eo(n,g,f)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var UA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function V6(e){return(typeof e=="string"?e:""+e).replace(UA,`
`).replace(zA,"")}function k9(e,t){return t=V6(t),V6(e)===t}function t0(){}function se(e,t,n,a,l,u){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Cr(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Cr(e,""+a);break;case"className":rh(e,"class",a);break;case"tabIndex":rh(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":rh(e,n,a);break;case"style":k8(e,a,u);break;case"data":if(t!=="object"){rh(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Mh(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&se(e,t,"name",l.name,l,null),se(e,t,"formEncType",l.formEncType,l,null),se(e,t,"formMethod",l.formMethod,l,null),se(e,t,"formTarget",l.formTarget,l,null)):(se(e,t,"encType",l.encType,l,null),se(e,t,"method",l.method,l,null),se(e,t,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Mh(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=t0);break;case"onScroll":a!=null&&Ht("scroll",e);break;case"onScrollEnd":a!=null&&Ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(K(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(K(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Mh(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Ht("beforetoggle",e),Ht("toggle",e),Dh(e,"popover",a);break;case"xlinkActuate":Cl(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Cl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Cl(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Cl(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Cl(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Cl(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Cl(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Cl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Cl(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Dh(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=cC.get(n)||n,Dh(e,n,a))}}function Mm(e,t,n,a,l,u){switch(n){case"style":k8(e,a,u);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(K(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(K(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Cr(e,a):(typeof a=="number"||typeof a=="bigint")&&Cr(e,""+a);break;case"onScroll":a!=null&&Ht("scroll",e);break;case"onScrollEnd":a!=null&&Ht("scrollend",e);break;case"onClick":a!=null&&(e.onclick=t0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!V8.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),u=e[Jn]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,l),typeof a=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,l);break t}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Dh(e,n,a)}}}function An(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",e),Ht("load",e);var a=!1,l=!1,u;for(u in n)if(n.hasOwnProperty(u)){var r=n[u];if(r!=null)switch(u){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(K(137,t));default:se(e,t,u,r,n,null)}}l&&se(e,t,"srcSet",n.srcSet,n,null),a&&se(e,t,"src",n.src,n,null);return;case"input":Ht("invalid",e);var o=u=r=l=null,f=null,g=null;for(a in n)if(n.hasOwnProperty(a)){var m=n[a];if(m!=null)switch(a){case"name":l=m;break;case"type":r=m;break;case"checked":f=m;break;case"defaultChecked":g=m;break;case"value":u=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(K(137,t));break;default:se(e,t,a,m,n,null)}}q8(e,u,o,f,g,r,l,!1),Wh(e);return;case"select":Ht("invalid",e),a=r=u=null;for(l in n)if(n.hasOwnProperty(l)&&(o=n[l],o!=null))switch(l){case"value":u=o;break;case"defaultValue":r=o;break;case"multiple":a=o;default:se(e,t,l,o,n,null)}t=u,n=r,e.multiple=!!a,t!=null?fr(e,!!a,t,!1):n!=null&&fr(e,!!a,n,!0);return;case"textarea":Ht("invalid",e),u=l=a=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":a=o;break;case"defaultValue":l=o;break;case"children":u=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(K(91));break;default:se(e,t,r,o,n,null)}Q8(e,a,l,u),Wh(e);return;case"option":for(f in n)if(n.hasOwnProperty(f)&&(a=n[f],a!=null))switch(f){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:se(e,t,f,a,n,null)}return;case"dialog":Ht("beforetoggle",e),Ht("toggle",e),Ht("cancel",e),Ht("close",e);break;case"iframe":case"object":Ht("load",e);break;case"video":case"audio":for(a=0;a<bo.length;a++)Ht(bo[a],e);break;case"image":Ht("error",e),Ht("load",e);break;case"details":Ht("toggle",e);break;case"embed":case"source":case"link":Ht("error",e),Ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(g in n)if(n.hasOwnProperty(g)&&(a=n[g],a!=null))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(K(137,t));default:se(e,t,g,a,n,null)}return;default:if(mp(t)){for(m in n)n.hasOwnProperty(m)&&(a=n[m],a!==void 0&&Mm(e,t,m,a,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(a=n[o],a!=null&&se(e,t,o,a,n,null))}function wA(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,u=null,r=null,o=null,f=null,g=null,m=null;for(p in n){var b=n[p];if(n.hasOwnProperty(p)&&b!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":f=b;default:a.hasOwnProperty(p)||se(e,t,p,null,a,b)}}for(var v in a){var p=a[v];if(b=n[v],a.hasOwnProperty(v)&&(p!=null||b!=null))switch(v){case"type":u=p;break;case"name":l=p;break;case"checked":g=p;break;case"defaultChecked":m=p;break;case"value":r=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(K(137,t));break;default:p!==b&&se(e,t,v,p,a,b)}}I2(e,r,o,f,g,m,u,l);return;case"select":p=r=o=v=null;for(u in n)if(f=n[u],n.hasOwnProperty(u)&&f!=null)switch(u){case"value":break;case"multiple":p=f;default:a.hasOwnProperty(u)||se(e,t,u,null,a,f)}for(l in a)if(u=a[l],f=n[l],a.hasOwnProperty(l)&&(u!=null||f!=null))switch(l){case"value":v=u;break;case"defaultValue":o=u;break;case"multiple":r=u;default:u!==f&&se(e,t,l,u,a,f)}t=o,n=r,a=p,v!=null?fr(e,!!n,v,!1):!!a!=!!n&&(t!=null?fr(e,!!n,t,!0):fr(e,!!n,n?[]:"",!1));return;case"textarea":p=v=null;for(o in n)if(l=n[o],n.hasOwnProperty(o)&&l!=null&&!a.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:se(e,t,o,null,a,l)}for(r in a)if(l=a[r],u=n[r],a.hasOwnProperty(r)&&(l!=null||u!=null))switch(r){case"value":v=l;break;case"defaultValue":p=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(K(91));break;default:l!==u&&se(e,t,r,l,a,u)}K8(e,v,p);return;case"option":for(var _ in n)if(v=n[_],n.hasOwnProperty(_)&&v!=null&&!a.hasOwnProperty(_))switch(_){case"selected":e.selected=!1;break;default:se(e,t,_,null,a,v)}for(f in a)if(v=a[f],p=n[f],a.hasOwnProperty(f)&&v!==p&&(v!=null||p!=null))switch(f){case"selected":e.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:se(e,t,f,v,a,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in n)v=n[A],n.hasOwnProperty(A)&&v!=null&&!a.hasOwnProperty(A)&&se(e,t,A,null,a,v);for(g in a)if(v=a[g],p=n[g],a.hasOwnProperty(g)&&v!==p&&(v!=null||p!=null))switch(g){case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(K(137,t));break;default:se(e,t,g,v,a,p)}return;default:if(mp(t)){for(var x in n)v=n[x],n.hasOwnProperty(x)&&v!==void 0&&!a.hasOwnProperty(x)&&Mm(e,t,x,void 0,a,v);for(m in a)v=a[m],p=n[m],!a.hasOwnProperty(m)||v===p||v===void 0&&p===void 0||Mm(e,t,m,v,a,p);return}}for(var C in n)v=n[C],n.hasOwnProperty(C)&&v!=null&&!a.hasOwnProperty(C)&&se(e,t,C,null,a,v);for(b in a)v=a[b],p=n[b],!a.hasOwnProperty(b)||v===p||v==null&&p==null||se(e,t,b,v,a,p)}var Nm=null,Om=null;function pd(e){return e.nodeType===9?e:e.ownerDocument}function j6(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z9(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Rm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var m2=null;function GA(){var e=window.event;return e&&e.type==="popstate"?e===m2?!1:(m2=e,!0):(m2=null,!1)}var F9=typeof setTimeout=="function"?setTimeout:void 0,HA=typeof clearTimeout=="function"?clearTimeout:void 0,X6=typeof Promise=="function"?Promise:void 0,BA=typeof queueMicrotask=="function"?queueMicrotask:typeof X6<"u"?function(e){return X6.resolve(null).then(e).catch(LA)}:F9;function LA(e){setTimeout(function(){throw e})}function $i(e){return e==="head"}function q6(e,t){var n=t,a=0,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"){if(0<a&&8>a){n=a;var r=e.ownerDocument;if(n&1&&co(r.documentElement),n&2&&co(r.body),n&4)for(n=r.head,co(n),r=n.firstChild;r;){var o=r.nextSibling,f=r.nodeName;r[jo]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=o}}if(l===0){e.removeChild(u),Do(t);return}l--}else n==="$"||n==="$?"||n==="$!"?l++:a=n.charCodeAt(0)-48;else a=0;n=u}while(n);Do(t)}function Um(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Um(n),gp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function YA(e,t,n,a){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[jo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Xa(e.nextSibling),e===null)break}return null}function VA(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Xa(e.nextSibling),e===null))return null;return e}function zm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function jA(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Xa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var wm=null;function K6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function J9(e,t,n){switch(t=pd(n),e){case"html":if(e=t.documentElement,!e)throw Error(K(452));return e;case"head":if(e=t.head,!e)throw Error(K(453));return e;case"body":if(e=t.body,!e)throw Error(K(454));return e;default:throw Error(K(451))}}function co(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);gp(e)}var wa=new Map,Q6=new Set;function yd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var kl=Wt.d;Wt.d={f:XA,r:qA,D:KA,C:QA,L:kA,m:ZA,X:JA,S:FA,M:WA};function XA(){var e=kl.f(),t=Pd();return e||t}function qA(e){var t=qr(e);t!==null&&t.tag===5&&t.type==="form"?XS(t):kl.r(e)}var kr=typeof document>"u"?null:document;function W9(e,t,n){var a=kr;if(a&&typeof t=="string"&&t){var l=Ma(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Q6.has(l)||(Q6.add(l),e={rel:e,crossOrigin:n,href:t},a.querySelector(l)===null&&(t=a.createElement("link"),An(t,"link",e),dn(t),a.head.appendChild(t)))}}function KA(e){kl.D(e),W9("dns-prefetch",e,null)}function QA(e,t){kl.C(e,t),W9("preconnect",e,t)}function kA(e,t,n){kl.L(e,t,n);var a=kr;if(a&&e&&t){var l='link[rel="preload"][as="'+Ma(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+Ma(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+Ma(n.imageSizes)+'"]')):l+='[href="'+Ma(e)+'"]';var u=l;switch(t){case"style":u=Ur(e);break;case"script":u=Zr(e)}wa.has(u)||(e=ye({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),wa.set(u,e),a.querySelector(l)!==null||t==="style"&&a.querySelector(Po(u))||t==="script"&&a.querySelector(Io(u))||(t=a.createElement("link"),An(t,"link",e),dn(t),a.head.appendChild(t)))}}function ZA(e,t){kl.m(e,t);var n=kr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Ma(a)+'"][href="'+Ma(e)+'"]',u=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Zr(e)}if(!wa.has(u)&&(e=ye({rel:"modulepreload",href:e},t),wa.set(u,e),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Io(u)))return}a=n.createElement("link"),An(a,"link",e),dn(a),n.head.appendChild(a)}}}function FA(e,t,n){kl.S(e,t,n);var a=kr;if(a&&e){var l=or(a).hoistableStyles,u=Ur(e);t=t||"default";var r=l.get(u);if(!r){var o={loading:0,preload:null};if(r=a.querySelector(Po(u)))o.loading=5;else{e=ye({rel:"stylesheet",href:e,"data-precedence":t},n),(n=wa.get(u))&&Pp(e,n);var f=r=a.createElement("link");dn(f),An(f,"link",e),f._p=new Promise(function(g,m){f.onload=g,f.onerror=m}),f.addEventListener("load",function(){o.loading|=1}),f.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Bh(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:o},l.set(u,r)}}}function JA(e,t){kl.X(e,t);var n=kr;if(n&&e){var a=or(n).hoistableScripts,l=Zr(e),u=a.get(l);u||(u=n.querySelector(Io(l)),u||(e=ye({src:e,async:!0},t),(t=wa.get(l))&&Ip(e,t),u=n.createElement("script"),dn(u),An(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(l,u))}}function WA(e,t){kl.M(e,t);var n=kr;if(n&&e){var a=or(n).hoistableScripts,l=Zr(e),u=a.get(l);u||(u=n.querySelector(Io(l)),u||(e=ye({src:e,async:!0,type:"module"},t),(t=wa.get(l))&&Ip(e,t),u=n.createElement("script"),dn(u),An(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(l,u))}}function k6(e,t,n,a){var l=(l=Gi.current)?yd(l):null;if(!l)throw Error(K(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ur(n.href),n=or(l).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ur(n.href);var u=or(l).hoistableStyles,r=u.get(e);if(r||(l=l.ownerDocument||l,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,r),(u=l.querySelector(Po(e)))&&!u._p&&(r.instance=u,r.state.loading=5),wa.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wa.set(e,n),u||PA(l,e,n,r.state))),t&&a===null)throw Error(K(528,""));return r}if(t&&a!==null)throw Error(K(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Zr(n),n=or(l).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(K(444,e))}}function Ur(e){return'href="'+Ma(e)+'"'}function Po(e){return'link[rel="stylesheet"]['+e+"]"}function P9(e){return ye({},e,{"data-precedence":e.precedence,precedence:null})}function PA(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),An(t,"link",n),dn(t),e.head.appendChild(t))}function Zr(e){return'[src="'+Ma(e)+'"]'}function Io(e){return"script[async]"+e}function Z6(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ma(n.href)+'"]');if(a)return t.instance=a,dn(a),a;var l=ye({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),dn(a),An(a,"style",l),Bh(a,n.precedence,e),t.instance=a;case"stylesheet":l=Ur(n.href);var u=e.querySelector(Po(l));if(u)return t.state.loading|=4,t.instance=u,dn(u),u;a=P9(n),(l=wa.get(l))&&Pp(a,l),u=(e.ownerDocument||e).createElement("link"),dn(u);var r=u;return r._p=new Promise(function(o,f){r.onload=o,r.onerror=f}),An(u,"link",a),t.state.loading|=4,Bh(u,n.precedence,e),t.instance=u;case"script":return u=Zr(n.src),(l=e.querySelector(Io(u)))?(t.instance=l,dn(l),l):(a=n,(l=wa.get(u))&&(a=ye({},n),Ip(a,l)),e=e.ownerDocument||e,l=e.createElement("script"),dn(l),An(l,"link",a),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(K(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,Bh(a,n.precedence,e));return t.instance}function Bh(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,u=l,r=0;r<a.length;r++){var o=a[r];if(o.dataset.precedence===t)u=o;else if(u!==l)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Pp(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ip(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Lh=null;function F6(e,t,n){if(Lh===null){var a=new Map,l=Lh=new Map;l.set(n,a)}else l=Lh,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var u=n[l];if(!(u[jo]||u[On]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var r=u.getAttribute(t)||"";r=e+r;var o=a.get(r);o?o.push(u):a.set(r,[u])}}return a}function J6(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function IA(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function I9(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var To=null;function $A(){}function tx(e,t,n){if(To===null)throw Error(K(475));var a=To;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var l=Ur(n.href),u=e.querySelector(Po(l));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=vd.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=u,dn(u);return}u=e.ownerDocument||e,n=P9(n),(l=wa.get(l))&&Pp(n,l),u=u.createElement("link"),dn(u);var r=u;r._p=new Promise(function(o,f){r.onload=o,r.onerror=f}),An(u,"link",n),t.instance=u}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(a.count++,t=vd.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function ex(){if(To===null)throw Error(K(475));var e=To;return e.stylesheets&&e.count===0&&Gm(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gm(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function vd(){if(this.count--,this.count===0){if(this.stylesheets)Gm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sd=null;function Gm(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sd=new Map,t.forEach(nx,e),Sd=null,vd.call(e))}function nx(e,t){if(!(t.state.loading&4)){var n=Sd.get(e);if(n)var a=n.get(null);else{n=new Map,Sd.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<l.length;u++){var r=l[u];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}l=t.instance,r=l.getAttribute("data-precedence"),u=n.get(r)||a,u===a&&n.set(null,l),n.set(r,l),this.count++,a=vd.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),u?u.parentNode.insertBefore(l,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Co={$$typeof:Rl,Provider:null,Consumer:null,_currentValue:Rs,_currentValue2:Rs,_threadCount:0};function ax(e,t,n,a,l,u,r,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bg(0),this.hiddenUpdates=Bg(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=u,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function $9(e,t,n,a,l,u,r,o,f,g,m,b){return e=new ax(e,t,n,r,o,f,g,b),t=1,u===!0&&(t|=24),u=ra(3,null,null,t),e.current=u,u.stateNode=e,t=xp(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:a,isDehydrated:n,cache:t},Mp(u),e}function t7(e){return e?(e=sr,e):sr}function e7(e,t,n,a,l,u){l=t7(l),a.context===null?a.context=l:a.pendingContext=l,a=Hi(t),a.payload={element:n},u=u===void 0?null:u,u!==null&&(a.callback=u),n=Bi(e,a,t),n!==null&&(ha(n,e,t),eo(n,e,t))}function W6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $p(e,t){W6(e,t),(e=e.alternate)&&W6(e,t)}function n7(e){if(e.tag===13){var t=Kr(e,67108864);t!==null&&ha(t,e,67108864),$p(e,67108864)}}var _d=!0;function lx(e,t,n,a){var l=_t.T;_t.T=null;var u=Wt.p;try{Wt.p=2,ty(e,t,n,a)}finally{Wt.p=u,_t.T=l}}function ix(e,t,n,a){var l=_t.T;_t.T=null;var u=Wt.p;try{Wt.p=8,ty(e,t,n,a)}finally{Wt.p=u,_t.T=l}}function ty(e,t,n,a){if(_d){var l=Hm(a);if(l===null)g2(e,t,a,bd,n),P6(e,a);else if(ux(l,e,t,n,a))a.stopPropagation();else if(P6(e,a),t&4&&-1<sx.indexOf(e)){for(;l!==null;){var u=qr(l);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var r=xs(u.pendingLanes);if(r!==0){var o=u;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var f=1<<31-oa(r);o.entanglements[1]|=f,r&=~f}cl(u),!(ae&6)&&(fd=nl()+500,Wo(0))}}break;case 13:o=Kr(u,2),o!==null&&ha(o,u,2),Pd(),$p(u,2)}if(u=Hm(a),u===null&&g2(e,t,a,bd,n),u===l)break;l=u}l!==null&&a.stopPropagation()}else g2(e,t,a,null,n)}}function Hm(e){return e=pp(e),ey(e)}var bd=null;function ey(e){if(bd=null,e=tr(e),e!==null){var t=Bo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=D8(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return bd=e,null}function a7(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(QT()){case R8:return 2;case U8:return 8;case Jh:case kT:return 32;case z8:return 268435456;default:return 32}default:return 32}}var Bm=!1,Vi=null,ji=null,Xi=null,Ao=new Map,xo=new Map,Mi=[],sx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P6(e,t){switch(e){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Ao.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(t.pointerId)}}function Vc(e,t,n,a,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:u,targetContainers:[l]},t!==null&&(t=qr(t),t!==null&&n7(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function ux(e,t,n,a,l){switch(t){case"focusin":return Vi=Vc(Vi,e,t,n,a,l),!0;case"dragenter":return ji=Vc(ji,e,t,n,a,l),!0;case"mouseover":return Xi=Vc(Xi,e,t,n,a,l),!0;case"pointerover":var u=l.pointerId;return Ao.set(u,Vc(Ao.get(u)||null,e,t,n,a,l)),!0;case"gotpointercapture":return u=l.pointerId,xo.set(u,Vc(xo.get(u)||null,e,t,n,a,l)),!0}return!1}function l7(e){var t=tr(e.target);if(t!==null){var n=Bo(t);if(n!==null){if(t=n.tag,t===13){if(t=D8(n),t!==null){e.blockedOn=t,tC(e.priority,function(){if(n.tag===13){var a=fa();a=hp(a);var l=Kr(n,a);l!==null&&ha(l,n,a),$p(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hm(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);tm=a,n.target.dispatchEvent(a),tm=null}else return t=qr(n),t!==null&&n7(t),e.blockedOn=n,!1;t.shift()}return!0}function I6(e,t,n){Yh(e)&&n.delete(t)}function rx(){Bm=!1,Vi!==null&&Yh(Vi)&&(Vi=null),ji!==null&&Yh(ji)&&(ji=null),Xi!==null&&Yh(Xi)&&(Xi=null),Ao.forEach(I6),xo.forEach(I6)}function ph(e,t){e.blockedOn===t&&(e.blockedOn=null,Bm||(Bm=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,rx)))}var yh=null;function $6(e){yh!==e&&(yh=e,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,function(){yh===e&&(yh=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],l=e[t+2];if(typeof a!="function"){if(ey(a||n)===null)continue;break}var u=qr(n);u!==null&&(e.splice(t,3),t-=3,pm(u,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function Do(e){function t(f){return ph(f,e)}Vi!==null&&ph(Vi,e),ji!==null&&ph(ji,e),Xi!==null&&ph(Xi,e),Ao.forEach(t),xo.forEach(t);for(var n=0;n<Mi.length;n++){var a=Mi[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Mi.length&&(n=Mi[0],n.blockedOn===null);)l7(n),n.blockedOn===null&&Mi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],u=n[a+1],r=l[Jn]||null;if(typeof u=="function")r||$6(n);else if(r){var o=null;if(u&&u.hasAttribute("formAction")){if(l=u,r=u[Jn]||null)o=r.formAction;else if(ey(l)!==null)continue}else o=r.action;typeof o=="function"?n[a+1]=o:(n.splice(a,3),a-=3),$6(n)}}}function ny(e){this._internalRoot=e}e0.prototype.render=ny.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));var n=t.current,a=fa();e7(n,a,e,t,null,null)};e0.prototype.unmount=ny.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e7(e.current,2,null,e,null,null),Pd(),t[Xr]=null}};function e0(e){this._internalRoot=e}e0.prototype.unstable_scheduleHydration=function(e){if(e){var t=L8();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mi.length&&t!==0&&t<Mi[n].priority;n++);Mi.splice(n,0,e),n===0&&l7(e)}};var tv=A8.version;if(tv!=="19.1.0")throw Error(K(527,tv,"19.1.0"));Wt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=LT(t),e=e!==null?M8(e):null,e=e===null?null:e.stateNode,e};var cx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:_t,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{Lo=vh.inject(cx),ca=vh}catch{}}Yd.createRoot=function(e,t){if(!x8(e))throw Error(K(299));var n=!1,a="",l=$S,u=t9,r=e9,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=$9(e,1,!1,null,null,n,a,l,u,r,o,null),e[Xr]=t.current,Wp(e),new ny(t)};Yd.hydrateRoot=function(e,t,n){if(!x8(e))throw Error(K(299));var a=!1,l="",u=$S,r=t9,o=e9,f=null,g=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(f=n.unstable_transitionCallbacks),n.formState!==void 0&&(g=n.formState)),t=$9(e,1,!0,t,n??null,a,l,u,r,o,f,g),t.context=t7(null),n=t.current,a=fa(),a=hp(a),l=Hi(a),l.callback=null,Bi(n,l,a),n=a,t.current.lanes=n,Vo(t,n),cl(t),e[Xr]=t.current,Wp(e),new e0(t)};Yd.version="19.1.0";function i7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i7)}catch(e){console.error(e)}}i7(),S8.exports=Yd;var ox=S8.exports,s7={exports:{}},n0={},Ed={},xt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const t=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof N5<"u"?N5:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.3.22",isBrowser:n(),isUnminified:/param/.test((function(l){}).toString()),dblClickWindow:400,getAngle(l){return e.Konva.angleDeg?l*t:l},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isTransforming(){var l;return(l=e.Konva.Transformer)===null||l===void 0?void 0:l.isTransforming()},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(l){e.glob.Konva=l}};const a=l=>{e.Konva[l.prototype.getClassName()]=l};e._registerNode=a,e.Konva._injectGlobal(e.Konva)})(xt);var De={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=xt;class n{constructor(E=[1,0,0,1,0,0]){this.dirty=!1,this.m=E&&E.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(E){E.m[0]=this.m[0],E.m[1]=this.m[1],E.m[2]=this.m[2],E.m[3]=this.m[3],E.m[4]=this.m[4],E.m[5]=this.m[5]}point(E){const M=this.m;return{x:M[0]*E.x+M[2]*E.y+M[4],y:M[1]*E.x+M[3]*E.y+M[5]}}translate(E,M){return this.m[4]+=this.m[0]*E+this.m[2]*M,this.m[5]+=this.m[1]*E+this.m[3]*M,this}scale(E,M){return this.m[0]*=E,this.m[1]*=E,this.m[2]*=M,this.m[3]*=M,this}rotate(E){const M=Math.cos(E),O=Math.sin(E),w=this.m[0]*M+this.m[2]*O,N=this.m[1]*M+this.m[3]*O,Y=this.m[0]*-O+this.m[2]*M,z=this.m[1]*-O+this.m[3]*M;return this.m[0]=w,this.m[1]=N,this.m[2]=Y,this.m[3]=z,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(E,M){const O=this.m[0]+this.m[2]*M,w=this.m[1]+this.m[3]*M,N=this.m[2]+this.m[0]*E,Y=this.m[3]+this.m[1]*E;return this.m[0]=O,this.m[1]=w,this.m[2]=N,this.m[3]=Y,this}multiply(E){const M=this.m[0]*E.m[0]+this.m[2]*E.m[1],O=this.m[1]*E.m[0]+this.m[3]*E.m[1],w=this.m[0]*E.m[2]+this.m[2]*E.m[3],N=this.m[1]*E.m[2]+this.m[3]*E.m[3],Y=this.m[0]*E.m[4]+this.m[2]*E.m[5]+this.m[4],z=this.m[1]*E.m[4]+this.m[3]*E.m[5]+this.m[5];return this.m[0]=M,this.m[1]=O,this.m[2]=w,this.m[3]=N,this.m[4]=Y,this.m[5]=z,this}invert(){const E=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),M=this.m[3]*E,O=-this.m[1]*E,w=-this.m[2]*E,N=this.m[0]*E,Y=E*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),z=E*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=M,this.m[1]=O,this.m[2]=w,this.m[3]=N,this.m[4]=Y,this.m[5]=z,this}getMatrix(){return this.m}decompose(){const E=this.m[0],M=this.m[1],O=this.m[2],w=this.m[3],N=this.m[4],Y=this.m[5],z=E*w-M*O,j={x:N,y:Y,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(E!=0||M!=0){const q=Math.sqrt(E*E+M*M);j.rotation=M>0?Math.acos(E/q):-Math.acos(E/q),j.scaleX=q,j.scaleY=z/q,j.skewX=(E*O+M*w)/z,j.skewY=0}else if(O!=0||w!=0){const q=Math.sqrt(O*O+w*w);j.rotation=Math.PI/2-(w>0?Math.acos(-O/q):-Math.acos(O/q)),j.scaleX=z/q,j.scaleY=q,j.skewX=0,j.skewY=(E*O+M*w)/z}return j.rotation=e.Util._getRotation(j.rotation),j}}e.Transform=n;const a="[object Array]",l="[object Number]",u="[object String]",r="[object Boolean]",o=Math.PI/180,f=180/Math.PI,g="#",m="",b="0",v="Konva warning: ",p="Konva error: ",_="rgb(",A={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},x=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let C=[];const T=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(S){setTimeout(S,60)};e.Util={_isElement(S){return!!(S&&S.nodeType==1)},_isFunction(S){return!!(S&&S.constructor&&S.call&&S.apply)},_isPlainObject(S){return!!S&&S.constructor===Object},_isArray(S){return Object.prototype.toString.call(S)===a},_isNumber(S){return Object.prototype.toString.call(S)===l&&!isNaN(S)&&isFinite(S)},_isString(S){return Object.prototype.toString.call(S)===u},_isBoolean(S){return Object.prototype.toString.call(S)===r},isObject(S){return S instanceof Object},isValidSelector(S){if(typeof S!="string")return!1;const E=S[0];return E==="#"||E==="."||E===E.toUpperCase()},_sign(S){return S===0||S>0?1:-1},requestAnimFrame(S){C.push(S),C.length===1&&T(function(){const E=C;C=[],E.forEach(function(M){M()})})},createCanvasElement(){const S=document.createElement("canvas");try{S.style=S.style||{}}catch{}return S},createImageElement(){return document.createElement("img")},_isInDocument(S){for(;S=S.parentNode;)if(S==document)return!0;return!1},_urlToImage(S,E){const M=e.Util.createImageElement();M.onload=function(){E(M)},M.src=S},_rgbToHex(S,E,M){return((1<<24)+(S<<16)+(E<<8)+M).toString(16).slice(1)},_hexToRgb(S){S=S.replace(g,m);const E=parseInt(S,16);return{r:E>>16&255,g:E>>8&255,b:E&255}},getRandomColor(){let S=(Math.random()*16777215<<0).toString(16);for(;S.length<6;)S=b+S;return g+S},getRGB(S){let E;return S in A?(E=A[S],{r:E[0],g:E[1],b:E[2]}):S[0]===g?this._hexToRgb(S.substring(1)):S.substr(0,4)===_?(E=x.exec(S.replace(/ /g,"")),{r:parseInt(E[1],10),g:parseInt(E[2],10),b:parseInt(E[3],10)}):{r:0,g:0,b:0}},colorToRGBA(S){return S=S||"black",e.Util._namedColorToRBA(S)||e.Util._hex3ColorToRGBA(S)||e.Util._hex4ColorToRGBA(S)||e.Util._hex6ColorToRGBA(S)||e.Util._hex8ColorToRGBA(S)||e.Util._rgbColorToRGBA(S)||e.Util._rgbaColorToRGBA(S)||e.Util._hslColorToRGBA(S)},_namedColorToRBA(S){const E=A[S.toLowerCase()];return E?{r:E[0],g:E[1],b:E[2],a:1}:null},_rgbColorToRGBA(S){if(S.indexOf("rgb(")===0){S=S.match(/rgb\(([^)]+)\)/)[1];const E=S.split(/ *, */).map(Number);return{r:E[0],g:E[1],b:E[2],a:1}}},_rgbaColorToRGBA(S){if(S.indexOf("rgba(")===0){S=S.match(/rgba\(([^)]+)\)/)[1];const E=S.split(/ *, */).map((M,O)=>M.slice(-1)==="%"?O===3?parseInt(M)/100:parseInt(M)/100*255:Number(M));return{r:E[0],g:E[1],b:E[2],a:E[3]}}},_hex8ColorToRGBA(S){if(S[0]==="#"&&S.length===9)return{r:parseInt(S.slice(1,3),16),g:parseInt(S.slice(3,5),16),b:parseInt(S.slice(5,7),16),a:parseInt(S.slice(7,9),16)/255}},_hex6ColorToRGBA(S){if(S[0]==="#"&&S.length===7)return{r:parseInt(S.slice(1,3),16),g:parseInt(S.slice(3,5),16),b:parseInt(S.slice(5,7),16),a:1}},_hex4ColorToRGBA(S){if(S[0]==="#"&&S.length===5)return{r:parseInt(S[1]+S[1],16),g:parseInt(S[2]+S[2],16),b:parseInt(S[3]+S[3],16),a:parseInt(S[4]+S[4],16)/255}},_hex3ColorToRGBA(S){if(S[0]==="#"&&S.length===4)return{r:parseInt(S[1]+S[1],16),g:parseInt(S[2]+S[2],16),b:parseInt(S[3]+S[3],16),a:1}},_hslColorToRGBA(S){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(S)){const[E,...M]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(S),O=Number(M[0])/360,w=Number(M[1])/100,N=Number(M[2])/100;let Y,z,j;if(w===0)return j=N*255,{r:Math.round(j),g:Math.round(j),b:Math.round(j),a:1};N<.5?Y=N*(1+w):Y=N+w-N*w;const q=2*N-Y,I=[0,0,0];for(let ut=0;ut<3;ut++)z=O+1/3*-(ut-1),z<0&&z++,z>1&&z--,6*z<1?j=q+(Y-q)*6*z:2*z<1?j=Y:3*z<2?j=q+(Y-q)*(2/3-z)*6:j=q,I[ut]=j*255;return{r:Math.round(I[0]),g:Math.round(I[1]),b:Math.round(I[2]),a:1}}},haveIntersection(S,E){return!(E.x>S.x+S.width||E.x+E.width<S.x||E.y>S.y+S.height||E.y+E.height<S.y)},cloneObject(S){const E={};for(const M in S)this._isPlainObject(S[M])?E[M]=this.cloneObject(S[M]):this._isArray(S[M])?E[M]=this.cloneArray(S[M]):E[M]=S[M];return E},cloneArray(S){return S.slice(0)},degToRad(S){return S*o},radToDeg(S){return S*f},_degToRad(S){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(S)},_radToDeg(S){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(S)},_getRotation(S){return t.Konva.angleDeg?e.Util.radToDeg(S):S},_capitalize(S){return S.charAt(0).toUpperCase()+S.slice(1)},throw(S){throw new Error(p+S)},error(S){console.error(p+S)},warn(S){t.Konva.showWarnings&&console.warn(v+S)},each(S,E){for(const M in S)E(M,S[M])},_inRange(S,E,M){return E<=S&&S<M},_getProjectionToSegment(S,E,M,O,w,N){let Y,z,j;const q=(S-M)*(S-M)+(E-O)*(E-O);if(q==0)Y=S,z=E,j=(w-M)*(w-M)+(N-O)*(N-O);else{const I=((w-S)*(M-S)+(N-E)*(O-E))/q;I<0?(Y=S,z=E,j=(S-w)*(S-w)+(E-N)*(E-N)):I>1?(Y=M,z=O,j=(M-w)*(M-w)+(O-N)*(O-N)):(Y=S+I*(M-S),z=E+I*(O-E),j=(Y-w)*(Y-w)+(z-N)*(z-N))}return[Y,z,j]},_getProjectionToLine(S,E,M){const O=e.Util.cloneObject(S);let w=Number.MAX_VALUE;return E.forEach(function(N,Y){if(!M&&Y===E.length-1)return;const z=E[(Y+1)%E.length],j=e.Util._getProjectionToSegment(N.x,N.y,z.x,z.y,S.x,S.y),q=j[0],I=j[1],ut=j[2];ut<w&&(O.x=q,O.y=I,w=ut)}),O},_prepareArrayForTween(S,E,M){const O=[],w=[];if(S.length>E.length){const Y=E;E=S,S=Y}for(let Y=0;Y<S.length;Y+=2)O.push({x:S[Y],y:S[Y+1]});for(let Y=0;Y<E.length;Y+=2)w.push({x:E[Y],y:E[Y+1]});const N=[];return w.forEach(function(Y){const z=e.Util._getProjectionToLine(Y,O,M);N.push(z.x),N.push(z.y)}),N},_prepareToStringify(S){let E;S.visitedByCircularReferenceRemoval=!0;for(const M in S)if(S.hasOwnProperty(M)&&S[M]&&typeof S[M]=="object"){if(E=Object.getOwnPropertyDescriptor(S,M),S[M].visitedByCircularReferenceRemoval||e.Util._isElement(S[M]))if(E.configurable)delete S[M];else return null;else if(e.Util._prepareToStringify(S[M])===null)if(E.configurable)delete S[M];else return null}return delete S.visitedByCircularReferenceRemoval,S},_assign(S,E){for(const M in E)S[M]=E[M];return S},_getFirstPointerId(S){return S.touches?S.changedTouches[0].identifier:S.pointerId||999},releaseCanvas(...S){t.Konva.releaseCanvasOnDestroy&&S.forEach(E=>{E.width=0,E.height=0})},drawRoundedRectPath(S,E,M,O){let w=0,N=0,Y=0,z=0;typeof O=="number"?w=N=Y=z=Math.min(O,E/2,M/2):(w=Math.min(O[0]||0,E/2,M/2),N=Math.min(O[1]||0,E/2,M/2),z=Math.min(O[2]||0,E/2,M/2),Y=Math.min(O[3]||0,E/2,M/2)),S.moveTo(w,0),S.lineTo(E-N,0),S.arc(E-N,N,N,Math.PI*3/2,0,!1),S.lineTo(E,M-z),S.arc(E-z,M-z,z,0,Math.PI/2,!1),S.lineTo(Y,M),S.arc(Y,M-Y,Y,Math.PI/2,Math.PI,!1),S.lineTo(0,w),S.arc(w,w,w,Math.PI,Math.PI*3/2,!1)}}})(De);var be={},qa={},Ll={};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.HitContext=Ll.SceneContext=Ll.Context=void 0;const u7=De,fx=xt;function hx(e){const t=[],n=e.length,a=u7.Util;for(let l=0;l<n;l++){let u=e[l];a._isNumber(u)?u=Math.round(u*1e3)/1e3:a._isString(u)||(u=u+""),t.push(u)}return t}const ev=",",dx="(",gx=")",mx="([",px="])",yx=";",vx="()",Sx="=",nv=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],_x=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],bx=100;class a0{constructor(t){this.canvas=t,fx.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,n){let a=this.traceArr,l=a.length,u="",r,o,f,g;for(r=0;r<l;r++)o=a[r],f=o.method,f?(g=o.args,u+=f,t?u+=vx:u7.Util._isArray(g[0])?u+=mx+g.join(ev)+px:(n&&(g=g.map(m=>typeof m=="number"?Math.floor(m):m)),u+=dx+g.join(ev)+gx)):(u+=o.property,t||(u+=Sx+o.val)),u+=yx;return u}clearTrace(){this.traceArr=[]}_trace(t){let n=this.traceArr,a;n.push(t),a=n.length,a>=bx&&n.shift()}reset(){const t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){const n=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(t){const n=t.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(t){const n=t.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(t){const n=t.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(t,n){this._context[t]=n}arc(t,n,a,l,u,r){this._context.arc(t,n,a,l,u,r)}arcTo(t,n,a,l,u){this._context.arcTo(t,n,a,l,u)}beginPath(){this._context.beginPath()}bezierCurveTo(t,n,a,l,u,r){this._context.bezierCurveTo(t,n,a,l,u,r)}clearRect(t,n,a,l){this._context.clearRect(t,n,a,l)}clip(...t){this._context.clip.apply(this._context,t)}closePath(){this._context.closePath()}createImageData(t,n){const a=arguments;if(a.length===2)return this._context.createImageData(t,n);if(a.length===1)return this._context.createImageData(t)}createLinearGradient(t,n,a,l){return this._context.createLinearGradient(t,n,a,l)}createPattern(t,n){return this._context.createPattern(t,n)}createRadialGradient(t,n,a,l,u,r){return this._context.createRadialGradient(t,n,a,l,u,r)}drawImage(t,n,a,l,u,r,o,f,g){const m=arguments,b=this._context;m.length===3?b.drawImage(t,n,a):m.length===5?b.drawImage(t,n,a,l,u):m.length===9&&b.drawImage(t,n,a,l,u,r,o,f,g)}ellipse(t,n,a,l,u,r,o,f){this._context.ellipse(t,n,a,l,u,r,o,f)}isPointInPath(t,n,a,l){return a?this._context.isPointInPath(a,t,n,l):this._context.isPointInPath(t,n,l)}fill(...t){this._context.fill.apply(this._context,t)}fillRect(t,n,a,l){this._context.fillRect(t,n,a,l)}strokeRect(t,n,a,l){this._context.strokeRect(t,n,a,l)}fillText(t,n,a,l){l?this._context.fillText(t,n,a,l):this._context.fillText(t,n,a)}measureText(t){return this._context.measureText(t)}getImageData(t,n,a,l){return this._context.getImageData(t,n,a,l)}lineTo(t,n){this._context.lineTo(t,n)}moveTo(t,n){this._context.moveTo(t,n)}rect(t,n,a,l){this._context.rect(t,n,a,l)}roundRect(t,n,a,l,u){this._context.roundRect(t,n,a,l,u)}putImageData(t,n,a){this._context.putImageData(t,n,a)}quadraticCurveTo(t,n,a,l){this._context.quadraticCurveTo(t,n,a,l)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,n){this._context.scale(t,n)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,n,a,l,u,r){this._context.setTransform(t,n,a,l,u,r)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,n,a,l){this._context.strokeText(t,n,a,l)}transform(t,n,a,l,u,r){this._context.transform(t,n,a,l,u,r)}translate(t,n){this._context.translate(t,n)}_enableTrace(){let t=this,n=nv.length,a=this.setAttr,l,u;const r=function(o){let f=t[o],g;t[o]=function(){return u=hx(Array.prototype.slice.call(arguments,0)),g=f.apply(t,arguments),t._trace({method:o,args:u}),g}};for(l=0;l<n;l++)r(nv[l]);t.setAttr=function(){a.apply(t,arguments);const o=arguments[0];let f=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(f=f/this.canvas.getPixelRatio()),t._trace({property:o,val:f})}}_applyGlobalCompositeOperation(t){const n=t.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}Ll.Context=a0;_x.forEach(function(e){Object.defineProperty(a0.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})});class Ex extends a0{constructor(t,{willReadFrequently:n=!1}={}){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(t){const n=t.fill();this.setAttr("fillStyle",n),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){const n=t._getLinearGradient();n&&(this.setAttr("fillStyle",n),t._fillFunc(this))}_fillRadialGradient(t){const n=t._getRadialGradient();n&&(this.setAttr("fillStyle",n),t._fillFunc(this))}_fill(t){const n=t.fill(),a=t.getFillPriority();if(n&&a==="color"){this._fillColor(t);return}const l=t.getFillPatternImage();if(l&&a==="pattern"){this._fillPattern(t);return}const u=t.getFillLinearGradientColorStops();if(u&&a==="linear-gradient"){this._fillLinearGradient(t);return}const r=t.getFillRadialGradientColorStops();if(r&&a==="radial-gradient"){this._fillRadialGradient(t);return}n?this._fillColor(t):l?this._fillPattern(t):u?this._fillLinearGradient(t):r&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const n=t.getStrokeLinearGradientStartPoint(),a=t.getStrokeLinearGradientEndPoint(),l=t.getStrokeLinearGradientColorStops(),u=this.createLinearGradient(n.x,n.y,a.x,a.y);if(l){for(let r=0;r<l.length;r+=2)u.addColorStop(l[r],l[r+1]);this.setAttr("strokeStyle",u)}}_stroke(t){const n=t.dash(),a=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!a){this.save();const u=this.getCanvas().getPixelRatio();this.setTransform(u,0,0,u,0,0)}this._applyLineCap(t),n&&t.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),a||this.restore()}}_applyShadow(t){var n,a,l;const u=(n=t.getShadowRGBA())!==null&&n!==void 0?n:"black",r=(a=t.getShadowBlur())!==null&&a!==void 0?a:5,o=(l=t.getShadowOffset())!==null&&l!==void 0?l:{x:0,y:0},f=t.getAbsoluteScale(),g=this.canvas.getPixelRatio(),m=f.x*g,b=f.y*g;this.setAttr("shadowColor",u),this.setAttr("shadowBlur",r*Math.min(Math.abs(m),Math.abs(b))),this.setAttr("shadowOffsetX",o.x*m),this.setAttr("shadowOffsetY",o.y*b)}}Ll.SceneContext=Ex;class Tx extends a0{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const n=t.getStrokeScaleEnabled();if(!n){this.save();const u=this.getCanvas().getPixelRatio();this.setTransform(u,0,0,u,0,0)}this._applyLineCap(t);const a=t.hitStrokeWidth(),l=a==="auto"?t.strokeWidth():a;this.setAttr("lineWidth",l),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),n||this.restore()}}}Ll.HitContext=Tx;Object.defineProperty(qa,"__esModule",{value:!0});qa.HitCanvas=qa.SceneCanvas=qa.Canvas=void 0;const Td=De,r7=Ll,c7=xt;let Sh;function Cx(){if(Sh)return Sh;const e=Td.Util.createCanvasElement(),t=e.getContext("2d");return Sh=function(){const n=c7.Konva._global.devicePixelRatio||1,a=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return n/a}(),Td.Util.releaseCanvas(e),Sh}class ay{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const a=(t||{}).pixelRatio||c7.Konva.pixelRatio||Cx();this.pixelRatio=a,this._canvas=Td.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){const n=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,n){this.setWidth(t||0),this.setHeight(n||0)}toDataURL(t,n){try{return this._canvas.toDataURL(t,n)}catch{try{return this._canvas.toDataURL()}catch(l){return Td.Util.error("Unable to get data URL. "+l.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}qa.Canvas=ay;class Ax extends ay{constructor(t={width:0,height:0,willReadFrequently:!1}){super(t),this.context=new r7.SceneContext(this,{willReadFrequently:t.willReadFrequently}),this.setSize(t.width,t.height)}}qa.SceneCanvas=Ax;class xx extends ay{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new r7.HitContext(this),this.setSize(t.width,t.height)}}qa.HitCanvas=xx;var l0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=xt,n=De;e.DD={get isDragging(){let a=!1;return e.DD._dragElements.forEach(l=>{l.dragStatus==="dragging"&&(a=!0)}),a},justDragged:!1,get node(){let a;return e.DD._dragElements.forEach(l=>{a=l.node}),a},_dragElements:new Map,_drag(a){const l=[];e.DD._dragElements.forEach((u,r)=>{const{node:o}=u,f=o.getStage();f.setPointersPositions(a),u.pointerId===void 0&&(u.pointerId=n.Util._getFirstPointerId(a));const g=f._changedPointerPositions.find(m=>m.id===u.pointerId);if(g){if(u.dragStatus!=="dragging"){const m=o.dragDistance();if(Math.max(Math.abs(g.x-u.startPointerPos.x),Math.abs(g.y-u.startPointerPos.y))<m||(o.startDrag({evt:a}),!o.isDragging()))return}o._setDragPosition(a,u),l.push(o)}}),l.forEach(u=>{u.fire("dragmove",{type:"dragmove",target:u,evt:a},!0)})},_endDragBefore(a){const l=[];e.DD._dragElements.forEach(u=>{const{node:r}=u,o=r.getStage();if(a&&o.setPointersPositions(a),!o._changedPointerPositions.find(m=>m.id===u.pointerId))return;(u.dragStatus==="dragging"||u.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,u.dragStatus="stopped");const g=u.node.getLayer()||u.node instanceof t.Konva.Stage&&u.node;g&&l.indexOf(g)===-1&&l.push(g)}),l.forEach(u=>{u.draw()})},_endDragAfter(a){e.DD._dragElements.forEach((l,u)=>{l.dragStatus==="stopped"&&l.node.fire("dragend",{type:"dragend",target:l.node,evt:a},!0),l.dragStatus!=="dragging"&&e.DD._dragElements.delete(u)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("touchcancel",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1),window.addEventListener("touchcancel",e.DD._endDragAfter,!1))})(l0);var Ut={},bt={};Object.defineProperty(bt,"__esModule",{value:!0});bt.RGBComponent=Dx;bt.alphaComponent=Mx;bt.getNumberValidator=Nx;bt.getNumberOrArrayOfNumbersValidator=Ox;bt.getNumberOrAutoValidator=Rx;bt.getStringValidator=Ux;bt.getStringOrGradientValidator=zx;bt.getFunctionValidator=wx;bt.getNumberArrayValidator=Gx;bt.getBooleanValidator=Hx;bt.getComponentValidator=Bx;const Zl=xt,Ue=De;function Fl(e){return Ue.Util._isString(e)?'"'+e+'"':Object.prototype.toString.call(e)==="[object Number]"||Ue.Util._isBoolean(e)?e:Object.prototype.toString.call(e)}function Dx(e){return e>255?255:e<0?0:Math.round(e)}function Mx(e){return e>1?1:e<1e-4?1e-4:e}function Nx(){if(Zl.Konva.isUnminified)return function(e,t){return Ue.Util._isNumber(e)||Ue.Util.warn(Fl(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}function Ox(e){if(Zl.Konva.isUnminified)return function(t,n){let a=Ue.Util._isNumber(t),l=Ue.Util._isArray(t)&&t.length==e;return!a&&!l&&Ue.Util.warn(Fl(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}}function Rx(){if(Zl.Konva.isUnminified)return function(e,t){return Ue.Util._isNumber(e)||e==="auto"||Ue.Util.warn(Fl(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}function Ux(){if(Zl.Konva.isUnminified)return function(e,t){return Ue.Util._isString(e)||Ue.Util.warn(Fl(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}function zx(){if(Zl.Konva.isUnminified)return function(e,t){const n=Ue.Util._isString(e),a=Object.prototype.toString.call(e)==="[object CanvasGradient]"||e&&e.addColorStop;return n||a||Ue.Util.warn(Fl(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}function wx(){if(Zl.Konva.isUnminified)return function(e,t){return Ue.Util._isFunction(e)||Ue.Util.warn(Fl(e)+' is a not valid value for "'+t+'" attribute. The value should be a function.'),e}}function Gx(){if(Zl.Konva.isUnminified)return function(e,t){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&e instanceof n||(Ue.Util._isArray(e)?e.forEach(function(a){Ue.Util._isNumber(a)||Ue.Util.warn('"'+t+'" attribute has non numeric element '+a+". Make sure that all elements are numbers.")}):Ue.Util.warn(Fl(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}}function Hx(){if(Zl.Konva.isUnminified)return function(e,t){return e===!0||e===!1||Ue.Util.warn(Fl(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}function Bx(e){if(Zl.Konva.isUnminified)return function(t,n){return t==null||Ue.Util.isObject(t)||Ue.Util.warn(Fl(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=De,n=bt,a="get",l="set";e.Factory={addGetterSetter(u,r,o,f,g){e.Factory.addGetter(u,r,o),e.Factory.addSetter(u,r,f,g),e.Factory.addOverloadedGetterSetter(u,r)},addGetter(u,r,o){const f=a+t.Util._capitalize(r);u.prototype[f]=u.prototype[f]||function(){const g=this.attrs[r];return g===void 0?o:g}},addSetter(u,r,o,f){const g=l+t.Util._capitalize(r);u.prototype[g]||e.Factory.overWriteSetter(u,r,o,f)},overWriteSetter(u,r,o,f){const g=l+t.Util._capitalize(r);u.prototype[g]=function(m){return o&&m!==void 0&&m!==null&&(m=o.call(this,m,r)),this._setAttr(r,m),f&&f.call(this),this}},addComponentsGetterSetter(u,r,o,f,g){const m=o.length,b=t.Util._capitalize,v=a+b(r),p=l+b(r);u.prototype[v]=function(){const A={};for(let x=0;x<m;x++){const C=o[x];A[C]=this.getAttr(r+b(C))}return A};const _=(0,n.getComponentValidator)(o);u.prototype[p]=function(A){const x=this.attrs[r];f&&(A=f.call(this,A,r)),_&&_.call(this,A,r);for(const C in A)A.hasOwnProperty(C)&&this._setAttr(r+b(C),A[C]);return A||o.forEach(C=>{this._setAttr(r+b(C),void 0)}),this._fireChangeEvent(r,x,A),g&&g.call(this),this},e.Factory.addOverloadedGetterSetter(u,r)},addOverloadedGetterSetter(u,r){const o=t.Util._capitalize(r),f=l+o,g=a+o;u.prototype[r]=function(){return arguments.length?(this[f](arguments[0]),this):this[g]()}},addDeprecatedGetterSetter(u,r,o,f){t.Util.error("Adding deprecated "+r);const g=a+t.Util._capitalize(r),m=r+" property is deprecated and will be removed soon. Look at Konva change log for more information.";u.prototype[g]=function(){t.Util.error(m);const b=this.attrs[r];return b===void 0?o:b},e.Factory.addSetter(u,r,f,function(){t.Util.error(m)}),e.Factory.addOverloadedGetterSetter(u,r)},backCompat(u,r){t.Util.each(r,function(o,f){const g=u.prototype[f],m=a+t.Util._capitalize(o),b=l+t.Util._capitalize(o);function v(){g.apply(this,arguments),t.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+f+'" instead.')}u.prototype[o]=v,u.prototype[m]=v,u.prototype[b]=v})},afterSetFilter(){this._filterUpToDate=!1}}})(Ut);Object.defineProperty(be,"__esModule",{value:!0});be.Node=void 0;const Yu=qa,Ta=l0,$o=Ut,_i=xt,Lt=De,Ye=bt,Vh="absoluteOpacity",_h="allEventListeners",Nl="absoluteTransform",av="absoluteScale",Cs="canvas",Lx="Change",Yx="children",Vx="konva",Lm="listening",jx="mouseenter",Xx="mouseleave",qx="pointerenter",Kx="pointerleave",Qx="touchenter",kx="touchleave",lv="set",iv="Shape",jh=" ",sv="stage",Ei="transform",Zx="Stage",Ym="visible",Fx=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(jh);let Jx=1;class Tt{constructor(t){this._id=Jx++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){(t===Ei||t===Nl)&&this._cache.get(t)?this._cache.get(t).dirty=!0:t?this._cache.delete(t):this._cache.clear()}_getCache(t,n){let a=this._cache.get(t);return(a===void 0||(t===Ei||t===Nl)&&a.dirty===!0)&&(a=n.call(this),this._cache.set(t,a)),a}_calculate(t,n,a){if(!this._attachedDepsListeners.get(t)){const l=n.map(u=>u+"Change.konva").join(jh);this.on(l,()=>{this._clearCache(t)}),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,a)}_getCanvasCache(){return this._cache.get(Cs)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===Nl&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Cs)){const{scene:t,filter:n,hit:a,buffer:l}=this._cache.get(Cs);Lt.Util.releaseCanvas(t,n,a,l),this._cache.delete(Cs)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){const n=t||{};let a={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(a=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let l=Math.ceil(n.width||a.width),u=Math.ceil(n.height||a.height),r=n.pixelRatio,o=n.x===void 0?Math.floor(a.x):n.x,f=n.y===void 0?Math.floor(a.y):n.y,g=n.offset||0,m=n.drawBorder||!1,b=n.hitCanvasPixelRatio||1;if(!l||!u){Lt.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const v=Math.abs(Math.round(a.x)-o)>.5?1:0,p=Math.abs(Math.round(a.y)-f)>.5?1:0;l+=g*2+v,u+=g*2+p,o-=g,f-=g;const _=new Yu.SceneCanvas({pixelRatio:r,width:l,height:u}),A=new Yu.SceneCanvas({pixelRatio:r,width:0,height:0,willReadFrequently:!0}),x=new Yu.HitCanvas({pixelRatio:b,width:l,height:u}),C=_.getContext(),T=x.getContext(),S=new Yu.SceneCanvas({width:_.width/_.pixelRatio+Math.abs(o),height:_.height/_.pixelRatio+Math.abs(f),pixelRatio:_.pixelRatio}),E=S.getContext();return x.isCache=!0,_.isCache=!0,this._cache.delete(Cs),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(_.getContext()._context.imageSmoothingEnabled=!1,A.getContext()._context.imageSmoothingEnabled=!1),C.save(),T.save(),E.save(),C.translate(-o,-f),T.translate(-o,-f),E.translate(-o,-f),S.x=o,S.y=f,this._isUnderCache=!0,this._clearSelfAndDescendantCache(Vh),this._clearSelfAndDescendantCache(av),this.drawScene(_,this,S),this.drawHit(x,this),this._isUnderCache=!1,C.restore(),T.restore(),m&&(C.save(),C.beginPath(),C.rect(0,0,l,u),C.closePath(),C.setAttr("strokeStyle","red"),C.setAttr("lineWidth",5),C.stroke(),C.restore()),this._cache.set(Cs,{scene:_,filter:A,hit:x,buffer:S,x:o,y:f}),this._requestDraw(),this}isCached(){return this._cache.has(Cs)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,n){const a=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}];let l=1/0,u=1/0,r=-1/0,o=-1/0;const f=this.getAbsoluteTransform(n);return a.forEach(function(g){const m=f.point(g);l===void 0&&(l=r=m.x,u=o=m.y),l=Math.min(l,m.x),u=Math.min(u,m.y),r=Math.max(r,m.x),o=Math.max(o,m.y)}),{x:l,y:u,width:r-l,height:o-u}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();t.translate(n.x,n.y);const a=this._getCachedSceneCanvas(),l=a.pixelRatio;t.drawImage(a._canvas,0,0,a.width/l,a.height/l),t.restore()}_drawCachedHitCanvas(t){const n=this._getCanvasCache(),a=n.hit;t.save(),t.translate(n.x,n.y),t.drawImage(a._canvas,0,0,a.width/a.pixelRatio,a.height/a.pixelRatio),t.restore()}_getCachedSceneCanvas(){let t=this.filters(),n=this._getCanvasCache(),a=n.scene,l=n.filter,u=l.getContext(),r,o,f,g;if(t){if(!this._filterUpToDate){const m=a.pixelRatio;l.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio);try{for(r=t.length,u.clear(),u.drawImage(a._canvas,0,0,a.getWidth()/m,a.getHeight()/m),o=u.getImageData(0,0,l.getWidth(),l.getHeight()),f=0;f<r;f++){if(g=t[f],typeof g!="function"){Lt.Util.error("Filter should be type of function, but got "+typeof g+" instead. Please check correct filters");continue}g.call(this,o),u.putImageData(o,0,0)}}catch(b){Lt.Util.error("Unable to apply filter. "+b.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return l}return a}on(t,n){if(this._cache&&this._cache.delete(_h),arguments.length===3)return this._delegate.apply(this,arguments);const a=t.split(jh);for(let l=0;l<a.length;l++){const r=a[l].split("."),o=r[0],f=r[1]||"";this.eventListeners[o]||(this.eventListeners[o]=[]),this.eventListeners[o].push({name:f,handler:n})}return this}off(t,n){let a=(t||"").split(jh),l=a.length,u,r,o,f,g,m;if(this._cache&&this._cache.delete(_h),!t)for(r in this.eventListeners)this._off(r);for(u=0;u<l;u++)if(o=a[u],f=o.split("."),g=f[0],m=f[1],g)this.eventListeners[g]&&this._off(g,m,n);else for(r in this.eventListeners)this._off(r,m,n);return this}dispatchEvent(t){const n={target:this,type:t.type,evt:t};return this.fire(t.type,n),this}addEventListener(t,n){return this.on(t,function(a){n.call(this,a.evt)}),this}removeEventListener(t){return this.off(t),this}_delegate(t,n,a){const l=this;this.on(t,function(u){const r=u.target.findAncestors(n,!0,l);for(let o=0;o<r.length;o++)u=Lt.Util.cloneObject(u),u.currentTarget=r[o],a.call(r[o],u)})}remove(){return this.isDragging()&&this.stopDrag(),Ta.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Nl),this._clearSelfAndDescendantCache(Vh),this._clearSelfAndDescendantCache(av),this._clearSelfAndDescendantCache(sv),this._clearSelfAndDescendantCache(Ym),this._clearSelfAndDescendantCache(Lm)}_remove(){this._clearCaches();const t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){const n="get"+Lt.Util._capitalize(t);return Lt.Util._isFunction(this[n])?this[n]():this.attrs[t]}getAncestors(){let t=this.getParent(),n=[];for(;t;)n.push(t),t=t.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges(()=>{let n,a;if(!t)return this;for(n in t)n!==Yx&&(a=lv+Lt.Util._capitalize(n),Lt.Util._isFunction(this[a])?this[a](t[n]):this._setAttr(n,t[n]))}),this}isListening(){return this._getCache(Lm,this._isListening)}_isListening(t){if(!this.listening())return!1;const a=this.getParent();return a&&a!==t&&this!==t?a._isListening(t):!0}isVisible(){return this._getCache(Ym,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const a=this.getParent();return a&&a!==t&&this!==t?a._isVisible(t):!0}shouldDrawHit(t,n=!1){if(t)return this._isVisible(t)&&this._isListening(t);const a=this.getLayer();let l=!1;Ta.DD._dragElements.forEach(r=>{r.dragStatus==="dragging"&&(r.node.nodeType==="Stage"||r.node.getLayer()===a)&&(l=!0)});const u=!n&&!_i.Konva.hitOnDragEnabled&&(l||_i.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!u}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let t=this.getDepth(),n=this,a=0,l,u,r,o;function f(m){for(l=[],u=m.length,r=0;r<u;r++)o=m[r],a++,o.nodeType!==iv&&(l=l.concat(o.getChildren().slice())),o._id===n._id&&(r=u);l.length>0&&l[0].getDepth()<=t&&f(l)}const g=this.getStage();return n.nodeType!==Zx&&g&&f(g.getChildren()),a}getDepth(){let t=0,n=this.parent;for(;n;)t++,n=n.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Ei),this._clearSelfAndDescendantCache(Nl)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges(()=>{this.x(t.x),this.y(t.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const t=this.getStage();if(!t)return null;const n=t.getPointerPosition();if(!n)return null;const a=this.getAbsoluteTransform().copy();return a.invert(),a.point(n)}getAbsolutePosition(t){let n=!1,a=this.parent;for(;a;){if(a.isCached()){n=!0;break}a=a.parent}n&&!t&&(t=!0);const l=this.getAbsoluteTransform(t).getMatrix(),u=new Lt.Transform,r=this.offset();return u.m=l.slice(),u.translate(r.x,r.y),u.getTranslation()}setAbsolutePosition(t){const{x:n,y:a,...l}=this._clearTransform();this.attrs.x=n,this.attrs.y=a,this._clearCache(Ei);const u=this._getAbsoluteTransform().copy();return u.invert(),u.translate(t.x,t.y),t={x:this.attrs.x+u.getTranslation().x,y:this.attrs.y+u.getTranslation().y},this._setTransform(l),this.setPosition({x:t.x,y:t.y}),this._clearCache(Ei),this._clearSelfAndDescendantCache(Nl),this}_setTransform(t){let n;for(n in t)this.attrs[n]=t[n]}_clearTransform(){const t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){let n=t.x,a=t.y,l=this.x(),u=this.y();return n!==void 0&&(l+=n),a!==void 0&&(u+=a),this.setPosition({x:l,y:u}),this}_eachAncestorReverse(t,n){let a=[],l=this.getParent(),u,r;if(!(n&&n._id===this._id)){for(a.unshift(this);l&&(!n||l._id!==n._id);)a.unshift(l),l=l.parent;for(u=a.length,r=0;r<u;r++)t(a[r])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return Lt.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const t=this.index,n=this.parent.getChildren().length;return t<n-1?(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Lt.Util.warn("Node has no parent. moveUp function is ignored."),!1;const t=this.index,n=this.parent.getChildren().length;return t<n-1?(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Lt.Util.warn("Node has no parent. moveDown function is ignored."),!1;const t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Lt.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(t){if(!this.parent)return Lt.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&Lt.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Vh,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let t=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(t*=n.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){let t=this.getAttrs(),n,a,l,u,r;const o={attrs:{},className:this.getClassName()};for(n in t)a=t[n],r=Lt.Util.isObject(a)&&!Lt.Util._isPlainObject(a)&&!Lt.Util._isArray(a),!r&&(l=typeof this[n]=="function"&&this[n],delete t[n],u=l?l.call(this):null,t[n]=a,u!==a&&(o.attrs[n]=a));return Lt.Util._prepareToStringify(o)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,n,a){const l=[];n&&this._isMatch(t)&&l.push(this);let u=this.parent;for(;u;){if(u===a)return l;u._isMatch(t)&&l.push(u),u=u.parent}return l}isAncestorOf(t){return!1}findAncestor(t,n,a){return this.findAncestors(t,n,a)[0]}_isMatch(t){if(!t)return!1;if(typeof t=="function")return t(this);let n=t.replace(/ /g,"").split(","),a=n.length,l,u;for(l=0;l<a;l++)if(u=n[l],Lt.Util.isValidSelector(u)||(Lt.Util.warn('Selector "'+u+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Lt.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Lt.Util.warn("Konva is awesome, right?")),u.charAt(0)==="#"){if(this.id()===u.slice(1))return!0}else if(u.charAt(0)==="."){if(this.hasName(u.slice(1)))return!0}else if(this.className===u||this.nodeType===u)return!0;return!1}getLayer(){const t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(sv,this._getStage)}_getStage(){const t=this.getParent();return t?t.getStage():null}fire(t,n={},a){return n.target=n.target||this,a?this._fireAndBubble(t,n):this._fire(t,n),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(Nl,this._getAbsoluteTransform)}_getAbsoluteTransform(t){let n;if(t)return n=new Lt.Transform,this._eachAncestorReverse(function(a){const l=a.transformsEnabled();l==="all"?n.multiply(a.getTransform()):l==="position"&&n.translate(a.x()-a.offsetX(),a.y()-a.offsetY())},t),n;{n=this._cache.get(Nl)||new Lt.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const a=this.transformsEnabled();if(a==="all")n.multiply(this.getTransform());else if(a==="position"){const l=this.attrs.x||0,u=this.attrs.y||0,r=this.attrs.offsetX||0,o=this.attrs.offsetY||0;n.translate(l-r,u-o)}return n.dirty=!1,n}}getAbsoluteScale(t){let n=this;for(;n;)n._isUnderCache&&(t=n),n=n.getParent();const l=this.getAbsoluteTransform(t).decompose();return{x:l.scaleX,y:l.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Ei,this._getTransform)}_getTransform(){var t,n;const a=this._cache.get(Ei)||new Lt.Transform;a.reset();const l=this.x(),u=this.y(),r=_i.Konva.getAngle(this.rotation()),o=(t=this.attrs.scaleX)!==null&&t!==void 0?t:1,f=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,g=this.attrs.skewX||0,m=this.attrs.skewY||0,b=this.attrs.offsetX||0,v=this.attrs.offsetY||0;return(l!==0||u!==0)&&a.translate(l,u),r!==0&&a.rotate(r),(g!==0||m!==0)&&a.skew(g,m),(o!==1||f!==1)&&a.scale(o,f),(b!==0||v!==0)&&a.translate(-1*b,-1*v),a.dirty=!1,a}clone(t){let n=Lt.Util.cloneObject(this.attrs),a,l,u,r,o;for(a in t)n[a]=t[a];const f=new this.constructor(n);for(a in this.eventListeners)for(l=this.eventListeners[a],u=l.length,r=0;r<u;r++)o=l[r],o.name.indexOf(Vx)<0&&(f.eventListeners[a]||(f.eventListeners[a]=[]),f.eventListeners[a].push(o));return f}_toKonvaCanvas(t){t=t||{};const n=this.getClientRect(),a=this.getStage(),l=t.x!==void 0?t.x:Math.floor(n.x),u=t.y!==void 0?t.y:Math.floor(n.y),r=t.pixelRatio||1,o=new Yu.SceneCanvas({width:t.width||Math.ceil(n.width)||(a?a.width():0),height:t.height||Math.ceil(n.height)||(a?a.height():0),pixelRatio:r}),f=o.getContext(),g=new Yu.SceneCanvas({width:o.width/o.pixelRatio+Math.abs(l),height:o.height/o.pixelRatio+Math.abs(u),pixelRatio:o.pixelRatio});return t.imageSmoothingEnabled===!1&&(f._context.imageSmoothingEnabled=!1),f.save(),(l||u)&&f.translate(-1*l,-1*u),this.drawScene(o,void 0,g),f.restore(),o}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){t=t||{};const n=t.mimeType||null,a=t.quality||null,l=this._toKonvaCanvas(t).toDataURL(n,a);return t.callback&&t.callback(l),l}toImage(t){return new Promise((n,a)=>{try{const l=t==null?void 0:t.callback;l&&delete t.callback,Lt.Util._urlToImage(this.toDataURL(t),function(u){n(u),l==null||l(u)})}catch(l){a(l)}})}toBlob(t){return new Promise((n,a)=>{try{const l=t==null?void 0:t.callback;l&&delete t.callback,this.toCanvas(t).toBlob(u=>{n(u),l==null||l(u)},t==null?void 0:t.mimeType,t==null?void 0:t.quality)}catch(l){a(l)}})}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():_i.Konva.dragDistance}_off(t,n,a){let l=this.eventListeners[t],u,r,o;for(u=0;u<l.length;u++)if(r=l[u].name,o=l[u].handler,(r!=="konva"||n==="konva")&&(!n||r===n)&&(!a||a===o)){if(l.splice(u,1),l.length===0){delete this.eventListeners[t];break}u--}}_fireChangeEvent(t,n,a){this._fire(t+Lx,{oldVal:n,newVal:a})}addName(t){if(!this.hasName(t)){const n=this.name(),a=n?n+" "+t:t;this.name(a)}return this}hasName(t){if(!t)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(t)!==-1:!1}removeName(t){const n=(this.name()||"").split(/\s/g),a=n.indexOf(t);return a!==-1&&(n.splice(a,1),this.name(n.join(" "))),this}setAttr(t,n){const a=this[lv+Lt.Util._capitalize(t)];return Lt.Util._isFunction(a)?a.call(this,n):this._setAttr(t,n),this}_requestDraw(){if(_i.Konva.autoDrawEnabled){const t=this.getLayer()||this.getStage();t==null||t.batchDraw()}}_setAttr(t,n){const a=this.attrs[t];a===n&&!Lt.Util.isObject(n)||(n==null?delete this.attrs[t]:this.attrs[t]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(t,a,n),this._requestDraw())}_setComponentAttr(t,n,a){let l;a!==void 0&&(l=this.attrs[t],l||(this.attrs[t]=this.getAttr(t)),this.attrs[t][n]=a,this._fireChangeEvent(t,l,a))}_fireAndBubble(t,n,a){n&&this.nodeType===iv&&(n.target=this);const l=[jx,Xx,qx,Kx,Qx,kx];if(!(l.indexOf(t)!==-1&&(a&&(this===a||this.isAncestorOf&&this.isAncestorOf(a))||this.nodeType==="Stage"&&!a))){this._fire(t,n);const r=l.indexOf(t)!==-1&&a&&a.isAncestorOf&&a.isAncestorOf(this)&&!a.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!r&&(a&&a.parent?this._fireAndBubble.call(this.parent,t,n,a):this._fireAndBubble.call(this.parent,t,n))}}_getProtoListeners(t){var n,a,l;const u=(n=this._cache.get(_h))!==null&&n!==void 0?n:{};let r=u==null?void 0:u[t];if(r===void 0){r=[];let o=Object.getPrototypeOf(this);for(;o;){const f=(l=(a=o.eventListeners)===null||a===void 0?void 0:a[t])!==null&&l!==void 0?l:[];r.push(...f),o=Object.getPrototypeOf(o)}u[t]=r,this._cache.set(_h,u)}return r}_fire(t,n){n=n||{},n.currentTarget=this,n.type=t;const a=this._getProtoListeners(t);if(a)for(let u=0;u<a.length;u++)a[u].handler.call(this,n);const l=this.eventListeners[t];if(l)for(let u=0;u<l.length;u++)l[u].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){const n=t?t.pointerId:void 0,a=this.getStage(),l=this.getAbsolutePosition();if(!a)return;const u=a._getPointerById(n)||a._changedPointerPositions[0]||l;Ta.DD._dragElements.set(this._id,{node:this,startPointerPos:u,offset:{x:u.x-l.x,y:u.y-l.y},dragStatus:"ready",pointerId:n})}startDrag(t,n=!0){Ta.DD._dragElements.has(this._id)||this._createDragElement(t);const a=Ta.DD._dragElements.get(this._id);a.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},n)}_setDragPosition(t,n){const a=this.getStage()._getPointerById(n.pointerId);if(!a)return;let l={x:a.x-n.offset.x,y:a.y-n.offset.y};const u=this.dragBoundFunc();if(u!==void 0){const r=u.call(this,l,t);r?l=r:Lt.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==l.x||this._lastPos.y!==l.y)&&(this.setAbsolutePosition(l),this._requestDraw()),this._lastPos=l}stopDrag(t){const n=Ta.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Ta.DD._endDragBefore(t),Ta.DD._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=Ta.DD._dragElements.get(this._id);return t?t.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){if(!(!(t.evt.button!==void 0)||_i.Konva.dragButtons.indexOf(t.evt.button)>=0)||this.isDragging())return;let l=!1;Ta.DD._dragElements.forEach(u=>{this.isAncestorOf(u.node)&&(l=!0)}),l||this._createDragElement(t)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=Ta.DD._dragElements.get(this._id),a=n&&n.dragStatus==="dragging",l=n&&n.dragStatus==="ready";a?this.stopDrag():l&&Ta.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const n=this.getStage();if(!n)return!1;const a={x:-t.x,y:-t.y,width:n.width()+2*t.x,height:n.height()+2*t.y};return Lt.Util.haveIntersection(a,this.getClientRect())}static create(t,n){return Lt.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,n)}static _createNode(t,n){let a=Tt.prototype.getClassName.call(t),l=t.children,u,r,o;n&&(t.attrs.container=n),_i.Konva[a]||(Lt.Util.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");const f=_i.Konva[a];if(u=new f(t.attrs),l)for(r=l.length,o=0;o<r;o++)u.add(Tt._createNode(l[o]));return u}}be.Node=Tt;Tt.prototype.nodeType="Node";Tt.prototype._attrsAffectingSize=[];Tt.prototype.eventListeners={};Tt.prototype.on.call(Tt.prototype,Fx,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Ei),this._clearSelfAndDescendantCache(Nl)});Tt.prototype.on.call(Tt.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Ym)});Tt.prototype.on.call(Tt.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Lm)});Tt.prototype.on.call(Tt.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Vh)});const oe=$o.Factory.addGetterSetter;oe(Tt,"zIndex");oe(Tt,"absolutePosition");oe(Tt,"position");oe(Tt,"x",0,(0,Ye.getNumberValidator)());oe(Tt,"y",0,(0,Ye.getNumberValidator)());oe(Tt,"globalCompositeOperation","source-over",(0,Ye.getStringValidator)());oe(Tt,"opacity",1,(0,Ye.getNumberValidator)());oe(Tt,"name","",(0,Ye.getStringValidator)());oe(Tt,"id","",(0,Ye.getStringValidator)());oe(Tt,"rotation",0,(0,Ye.getNumberValidator)());$o.Factory.addComponentsGetterSetter(Tt,"scale",["x","y"]);oe(Tt,"scaleX",1,(0,Ye.getNumberValidator)());oe(Tt,"scaleY",1,(0,Ye.getNumberValidator)());$o.Factory.addComponentsGetterSetter(Tt,"skew",["x","y"]);oe(Tt,"skewX",0,(0,Ye.getNumberValidator)());oe(Tt,"skewY",0,(0,Ye.getNumberValidator)());$o.Factory.addComponentsGetterSetter(Tt,"offset",["x","y"]);oe(Tt,"offsetX",0,(0,Ye.getNumberValidator)());oe(Tt,"offsetY",0,(0,Ye.getNumberValidator)());oe(Tt,"dragDistance",void 0,(0,Ye.getNumberValidator)());oe(Tt,"width",0,(0,Ye.getNumberValidator)());oe(Tt,"height",0,(0,Ye.getNumberValidator)());oe(Tt,"listening",!0,(0,Ye.getBooleanValidator)());oe(Tt,"preventDefault",!0,(0,Ye.getBooleanValidator)());oe(Tt,"filters",void 0,function(e){return this._filterUpToDate=!1,e});oe(Tt,"visible",!0,(0,Ye.getBooleanValidator)());oe(Tt,"transformsEnabled","all",(0,Ye.getStringValidator)());oe(Tt,"size");oe(Tt,"dragBoundFunc");oe(Tt,"draggable",!1,(0,Ye.getBooleanValidator)());$o.Factory.backCompat(Tt,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.Container=void 0;const Fr=Ut,p2=be,i0=bt;class $s extends p2.Node{constructor(){super(...arguments),this.children=[]}getChildren(t){const n=this.children||[];return t?n.filter(t):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.destroy()}),this.children=[],this._requestDraw(),this}add(...t){if(t.length===0)return this;if(t.length>1){for(let a=0;a<t.length;a++)this.add(t[a]);return this}const n=t[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){const n=this._generalFind(t,!0);return n.length>0?n[0]:void 0}_generalFind(t,n){const a=[];return this._descendants(l=>{const u=l._isMatch(t);return u&&a.push(l),!!(u&&n)}),a}_descendants(t){let n=!1;const a=this.getChildren();for(const l of a){if(n=t(l),n)return!0;if(l.hasChildren()&&(n=l._descendants(t),n))return!0}return!1}toObject(){const t=p2.Node.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach(n=>{t.children.push(n.toObject())}),t}isAncestorOf(t){let n=t.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(t){const n=p2.Node.prototype.clone.call(this,t);return this.getChildren().forEach(function(a){n.add(a.clone())}),n}getAllIntersections(t){const n=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(t)&&n.push(a)}),n}_clearSelfAndDescendantCache(t){var n;super._clearSelfAndDescendantCache(t),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(a){a._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;(t=this.children)===null||t===void 0||t.forEach(function(n,a){n.index=a}),this._requestDraw()}drawScene(t,n,a){const l=this.getLayer(),u=t||l&&l.getCanvas(),r=u&&u.getContext(),o=this._getCanvasCache(),f=o&&o.scene,g=u&&u.isCache;if(!this.isVisible()&&!g)return this;if(f){r.save();const m=this.getAbsoluteTransform(n).getMatrix();r.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(r),r.restore()}else this._drawChildren("drawScene",u,n,a);return this}drawHit(t,n){if(!this.shouldDrawHit(n))return this;const a=this.getLayer(),l=t||a&&a.hitCanvas,u=l&&l.getContext(),r=this._getCanvasCache();if(r&&r.hit){u.save();const f=this.getAbsoluteTransform(n).getMatrix();u.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedHitCanvas(u),u.restore()}else this._drawChildren("drawHit",l,n);return this}_drawChildren(t,n,a,l){var u;const r=n&&n.getContext(),o=this.clipWidth(),f=this.clipHeight(),g=this.clipFunc(),m=typeof o=="number"&&typeof f=="number"||g,b=a===this;if(m){r.save();const p=this.getAbsoluteTransform(a);let _=p.getMatrix();r.transform(_[0],_[1],_[2],_[3],_[4],_[5]),r.beginPath();let A;if(g)A=g.call(this,r,this);else{const x=this.clipX(),C=this.clipY();r.rect(x||0,C||0,o,f)}r.clip.apply(r,A),_=p.copy().invert().getMatrix(),r.transform(_[0],_[1],_[2],_[3],_[4],_[5])}const v=!b&&this.globalCompositeOperation()!=="source-over"&&t==="drawScene";v&&(r.save(),r._applyGlobalCompositeOperation(this)),(u=this.children)===null||u===void 0||u.forEach(function(p){p[t](n,a,l)}),v&&r.restore(),m&&r.restore()}getClientRect(t={}){var n;const a=t.skipTransform,l=t.relativeTo;let u,r,o,f,g={x:1/0,y:1/0,width:0,height:0};const m=this;(n=this.children)===null||n===void 0||n.forEach(function(p){if(!p.visible())return;const _=p.getClientRect({relativeTo:m,skipShadow:t.skipShadow,skipStroke:t.skipStroke});_.width===0&&_.height===0||(u===void 0?(u=_.x,r=_.y,o=_.x+_.width,f=_.y+_.height):(u=Math.min(u,_.x),r=Math.min(r,_.y),o=Math.max(o,_.x+_.width),f=Math.max(f,_.y+_.height)))});const b=this.find("Shape");let v=!1;for(let p=0;p<b.length;p++)if(b[p]._isVisible(this)){v=!0;break}return v&&u!==void 0?g={x:u,y:r,width:o-u,height:f-r}:g={x:0,y:0,width:0,height:0},a?g:this._transformedRect(g,l)}}Is.Container=$s;Fr.Factory.addComponentsGetterSetter($s,"clip",["x","y","width","height"]);Fr.Factory.addGetterSetter($s,"clipX",void 0,(0,i0.getNumberValidator)());Fr.Factory.addGetterSetter($s,"clipY",void 0,(0,i0.getNumberValidator)());Fr.Factory.addGetterSetter($s,"clipWidth",void 0,(0,i0.getNumberValidator)());Fr.Factory.addGetterSetter($s,"clipHeight",void 0,(0,i0.getNumberValidator)());Fr.Factory.addGetterSetter($s,"clipFunc");var o7={},ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.getCapturedShape=Px;ts.createEvent=ly;ts.hasPointerCapture=Ix;ts.setPointerCapture=$x;ts.releaseCapture=h7;const Wx=xt,Mo=new Map,f7=Wx.Konva._global.PointerEvent!==void 0;function Px(e){return Mo.get(e)}function ly(e){return{evt:e,pointerId:e.pointerId}}function Ix(e,t){return Mo.get(e)===t}function $x(e,t){h7(e),t.getStage()&&(Mo.set(e,t),f7&&t._fire("gotpointercapture",ly(new PointerEvent("gotpointercapture"))))}function h7(e,t){const n=Mo.get(e);if(!n)return;const a=n.getStage();a&&a.content,Mo.delete(e),f7&&n._fire("lostpointercapture",ly(new PointerEvent("lostpointercapture")))}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=De,n=Ut,a=Is,l=xt,u=qa,r=l0,o=xt,f=ts,g="Stage",m="string",b="px",v="mouseout",p="mouseleave",_="mouseover",A="mouseenter",x="mousemove",C="mousedown",T="mouseup",S="pointermove",E="pointerdown",M="pointerup",O="pointercancel",w="lostpointercapture",N="pointerout",Y="pointerleave",z="pointerover",j="pointerenter",q="contextmenu",I="touchstart",ut="touchend",at="touchmove",Q="touchcancel",$="wheel",X=5,et=[[A,"_pointerenter"],[C,"_pointerdown"],[x,"_pointermove"],[T,"_pointerup"],[p,"_pointerleave"],[I,"_pointerdown"],[at,"_pointermove"],[ut,"_pointerup"],[Q,"_pointercancel"],[_,"_pointerover"],[$,"_wheel"],[q,"_contextmenu"],[E,"_pointerdown"],[S,"_pointermove"],[M,"_pointerup"],[O,"_pointercancel"],[Y,"_pointerleave"],[w,"_lostpointercapture"]],rt={mouse:{[N]:v,[Y]:p,[z]:_,[j]:A,[S]:x,[E]:C,[M]:T,[O]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[N]:"touchout",[Y]:"touchleave",[z]:"touchover",[j]:"touchenter",[S]:at,[E]:I,[M]:ut,[O]:Q,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[N]:N,[Y]:Y,[z]:z,[j]:j,[S]:S,[E]:E,[M]:M,[O]:O,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},ot=re=>re.indexOf("pointer")>=0?"pointer":re.indexOf("touch")>=0?"touch":"mouse",Et=re=>{const G=ot(re);if(G==="pointer")return l.Konva.pointerEventsEnabled&&rt.pointer;if(G==="touch")return rt.touch;if(G==="mouse")return rt.mouse};function Ot(re={}){return(re.clipFunc||re.clipWidth||re.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),re}const me="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class Qt extends a.Container{constructor(G){super(Ot(G)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Ot(this.attrs)}),this._checkVisibility()}_validateAdd(G){const Z=G.getType()==="Layer",ht=G.getType()==="FastLayer";Z||ht||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const G=this.visible()?"":"none";this.content.style.display=G}setContainer(G){if(typeof G===m){let Z;if(G.charAt(0)==="."){const ht=G.slice(1);G=document.getElementsByClassName(ht)[0]}else G.charAt(0)!=="#"?Z=G:Z=G.slice(1),G=document.getElementById(Z);if(!G)throw"Can not find container in document with id "+Z}return this._setAttr("container",G),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),G.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const G=this.children,Z=G.length;for(let ht=0;ht<Z;ht++)G[ht].clear();return this}clone(G){return G||(G={}),G.container=typeof document<"u"&&document.createElement("div"),a.Container.prototype.clone.call(this,G)}destroy(){super.destroy();const G=this.content;G&&t.Util._isInDocument(G)&&this.container().removeChild(G);const Z=e.stages.indexOf(this);return Z>-1&&e.stages.splice(Z,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const G=this._pointerPositions[0]||this._changedPointerPositions[0];return G?{x:G.x,y:G.y}:(t.Util.warn(me),null)}_getPointerById(G){return this._pointerPositions.find(Z=>Z.id===G)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(G){G=G||{},G.x=G.x||0,G.y=G.y||0,G.width=G.width||this.width(),G.height=G.height||this.height();const Z=new u.SceneCanvas({width:G.width,height:G.height,pixelRatio:G.pixelRatio||1}),ht=Z.getContext()._context,Yt=this.children;return(G.x||G.y)&&ht.translate(-1*G.x,-1*G.y),Yt.forEach(function(Rt){if(!Rt.isVisible())return;const It=Rt._toKonvaCanvas(G);ht.drawImage(It._canvas,G.x,G.y,It.getWidth()/It.getPixelRatio(),It.getHeight()/It.getPixelRatio())}),Z}getIntersection(G){if(!G)return null;const Z=this.children,ht=Z.length,Yt=ht-1;for(let Rt=Yt;Rt>=0;Rt--){const It=Z[Rt].getIntersection(G);if(It)return It}return null}_resizeDOM(){const G=this.width(),Z=this.height();this.content&&(this.content.style.width=G+b,this.content.style.height=Z+b),this.bufferCanvas.setSize(G,Z),this.bufferHitCanvas.setSize(G,Z),this.children.forEach(ht=>{ht.setSize({width:G,height:Z}),ht.draw()})}add(G,...Z){if(arguments.length>1){for(let Yt=0;Yt<arguments.length;Yt++)this.add(arguments[Yt]);return this}super.add(G);const ht=this.children.length;return ht>X&&t.Util.warn("The stage has "+ht+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),G.setSize({width:this.width(),height:this.height()}),G.draw(),l.Konva.isBrowser&&this.content.appendChild(G.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(G){return f.hasPointerCapture(G,this)}setPointerCapture(G){f.setPointerCapture(G,this)}releaseCapture(G){f.releaseCapture(G,this)}getLayers(){return this.children}_bindContentEvents(){l.Konva.isBrowser&&et.forEach(([G,Z])=>{this.content.addEventListener(G,ht=>{this[Z](ht)},{passive:!1})})}_pointerenter(G){this.setPointersPositions(G);const Z=Et(G.type);Z&&this._fire(Z.pointerenter,{evt:G,target:this,currentTarget:this})}_pointerover(G){this.setPointersPositions(G);const Z=Et(G.type);Z&&this._fire(Z.pointerover,{evt:G,target:this,currentTarget:this})}_getTargetShape(G){let Z=this[G+"targetShape"];return Z&&!Z.getStage()&&(Z=null),Z}_pointerleave(G){const Z=Et(G.type),ht=ot(G.type);if(!Z)return;this.setPointersPositions(G);const Yt=this._getTargetShape(ht),Rt=!(l.Konva.isDragging()||l.Konva.isTransforming())||l.Konva.hitOnDragEnabled;Yt&&Rt?(Yt._fireAndBubble(Z.pointerout,{evt:G}),Yt._fireAndBubble(Z.pointerleave,{evt:G}),this._fire(Z.pointerleave,{evt:G,target:this,currentTarget:this}),this[ht+"targetShape"]=null):Rt&&(this._fire(Z.pointerleave,{evt:G,target:this,currentTarget:this}),this._fire(Z.pointerout,{evt:G,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(G){const Z=Et(G.type),ht=ot(G.type);if(!Z)return;this.setPointersPositions(G);let Yt=!1;this._changedPointerPositions.forEach(Rt=>{const It=this.getIntersection(Rt);if(r.DD.justDragged=!1,l.Konva["_"+ht+"ListenClick"]=!0,!It||!It.isListening()){this[ht+"ClickStartShape"]=void 0;return}l.Konva.capturePointerEventsEnabled&&It.setPointerCapture(Rt.id),this[ht+"ClickStartShape"]=It,It._fireAndBubble(Z.pointerdown,{evt:G,pointerId:Rt.id}),Yt=!0;const Ee=G.type.indexOf("touch")>=0;It.preventDefault()&&G.cancelable&&Ee&&G.preventDefault()}),Yt||this._fire(Z.pointerdown,{evt:G,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(G){const Z=Et(G.type),ht=ot(G.type);if(!Z||(l.Konva.isDragging()&&r.DD.node.preventDefault()&&G.cancelable&&G.preventDefault(),this.setPointersPositions(G),!(!(l.Konva.isDragging()||l.Konva.isTransforming())||l.Konva.hitOnDragEnabled)))return;const Rt={};let It=!1;const Ee=this._getTargetShape(ht);this._changedPointerPositions.forEach(Yn=>{const zt=f.getCapturedShape(Yn.id)||this.getIntersection(Yn),Ve=Yn.id,yn={evt:G,pointerId:Ve},nt=Ee!==zt;if(nt&&Ee&&(Ee._fireAndBubble(Z.pointerout,{...yn},zt),Ee._fireAndBubble(Z.pointerleave,{...yn},zt)),zt){if(Rt[zt._id])return;Rt[zt._id]=!0}zt&&zt.isListening()?(It=!0,nt&&(zt._fireAndBubble(Z.pointerover,{...yn},Ee),zt._fireAndBubble(Z.pointerenter,{...yn},Ee),this[ht+"targetShape"]=zt),zt._fireAndBubble(Z.pointermove,{...yn})):Ee&&(this._fire(Z.pointerover,{evt:G,target:this,currentTarget:this,pointerId:Ve}),this[ht+"targetShape"]=null)}),It||this._fire(Z.pointermove,{evt:G,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(G){const Z=Et(G.type),ht=ot(G.type);if(!Z)return;this.setPointersPositions(G);const Yt=this[ht+"ClickStartShape"],Rt=this[ht+"ClickEndShape"],It={};let Ee=!1;this._changedPointerPositions.forEach(Yn=>{const zt=f.getCapturedShape(Yn.id)||this.getIntersection(Yn);if(zt){if(zt.releaseCapture(Yn.id),It[zt._id])return;It[zt._id]=!0}const Ve=Yn.id,yn={evt:G,pointerId:Ve};let nt=!1;l.Konva["_"+ht+"InDblClickWindow"]?(nt=!0,clearTimeout(this[ht+"DblTimeout"])):r.DD.justDragged||(l.Konva["_"+ht+"InDblClickWindow"]=!0,clearTimeout(this[ht+"DblTimeout"])),this[ht+"DblTimeout"]=setTimeout(function(){l.Konva["_"+ht+"InDblClickWindow"]=!1},l.Konva.dblClickWindow),zt&&zt.isListening()?(Ee=!0,this[ht+"ClickEndShape"]=zt,zt._fireAndBubble(Z.pointerup,{...yn}),l.Konva["_"+ht+"ListenClick"]&&Yt&&Yt===zt&&(zt._fireAndBubble(Z.pointerclick,{...yn}),nt&&Rt&&Rt===zt&&zt._fireAndBubble(Z.pointerdblclick,{...yn}))):(this[ht+"ClickEndShape"]=null,l.Konva["_"+ht+"ListenClick"]&&this._fire(Z.pointerclick,{evt:G,target:this,currentTarget:this,pointerId:Ve}),nt&&this._fire(Z.pointerdblclick,{evt:G,target:this,currentTarget:this,pointerId:Ve}))}),Ee||this._fire(Z.pointerup,{evt:G,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),l.Konva["_"+ht+"ListenClick"]=!1,G.cancelable&&ht!=="touch"&&ht!=="pointer"&&G.preventDefault()}_contextmenu(G){this.setPointersPositions(G);const Z=this.getIntersection(this.getPointerPosition());Z&&Z.isListening()?Z._fireAndBubble(q,{evt:G}):this._fire(q,{evt:G,target:this,currentTarget:this})}_wheel(G){this.setPointersPositions(G);const Z=this.getIntersection(this.getPointerPosition());Z&&Z.isListening()?Z._fireAndBubble($,{evt:G}):this._fire($,{evt:G,target:this,currentTarget:this})}_pointercancel(G){this.setPointersPositions(G);const Z=f.getCapturedShape(G.pointerId)||this.getIntersection(this.getPointerPosition());Z&&Z._fireAndBubble(M,f.createEvent(G)),f.releaseCapture(G.pointerId)}_lostpointercapture(G){f.releaseCapture(G.pointerId)}setPointersPositions(G){const Z=this._getContentPosition();let ht=null,Yt=null;G=G||window.event,G.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(G.touches,Rt=>{this._pointerPositions.push({id:Rt.identifier,x:(Rt.clientX-Z.left)/Z.scaleX,y:(Rt.clientY-Z.top)/Z.scaleY})}),Array.prototype.forEach.call(G.changedTouches||G.touches,Rt=>{this._changedPointerPositions.push({id:Rt.identifier,x:(Rt.clientX-Z.left)/Z.scaleX,y:(Rt.clientY-Z.top)/Z.scaleY})})):(ht=(G.clientX-Z.left)/Z.scaleX,Yt=(G.clientY-Z.top)/Z.scaleY,this.pointerPos={x:ht,y:Yt},this._pointerPositions=[{x:ht,y:Yt,id:t.Util._getFirstPointerId(G)}],this._changedPointerPositions=[{x:ht,y:Yt,id:t.Util._getFirstPointerId(G)}])}_setPointerPosition(G){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(G)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const G=this.content.getBoundingClientRect();return{top:G.top,left:G.left,scaleX:G.width/this.content.clientWidth||1,scaleY:G.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new u.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new u.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!l.Konva.isBrowser)return;const G=this.container();if(!G)throw"Stage has no container. A container is required.";G.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),G.appendChild(this.content),this._resizeDOM()}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(G){G.batchDraw()}),this}}e.Stage=Qt,Qt.prototype.nodeType=g,(0,o._registerNode)(Qt),n.Factory.addGetterSetter(Qt,"container"),l.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{e.stages.forEach(re=>{re.batchDraw()})})})(o7);var tf={},ln={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=xt,n=De,a=Ut,l=be,u=bt,r=xt,o=ts,f="hasShadow",g="shadowRGBA",m="patternImage",b="linearGradient",v="radialGradient";let p;function _(){return p||(p=n.Util.createCanvasElement().getContext("2d"),p)}e.shapes={};function A(Y){const z=this.attrs.fillRule;z?Y.fill(z):Y.fill()}function x(Y){Y.stroke()}function C(Y){const z=this.attrs.fillRule;z?Y.fill(z):Y.fill()}function T(Y){Y.stroke()}function S(){this._clearCache(f)}function E(){this._clearCache(g)}function M(){this._clearCache(m)}function O(){this._clearCache(b)}function w(){this._clearCache(v)}class N extends l.Node{constructor(z){super(z);let j;for(;j=n.Util.getRandomColor(),!(j&&!(j in e.shapes)););this.colorKey=j,e.shapes[j]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(f,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(m,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const j=_().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(j&&j.setTransform){const q=new n.Transform;q.translate(this.fillPatternX(),this.fillPatternY()),q.rotate(t.Konva.getAngle(this.fillPatternRotation())),q.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),q.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const I=q.getMatrix(),ut=typeof DOMMatrix>"u"?{a:I[0],b:I[1],c:I[2],d:I[3],e:I[4],f:I[5]}:new DOMMatrix(I);j.setTransform(ut)}return j}}_getLinearGradient(){return this._getCache(b,this.__getLinearGradient)}__getLinearGradient(){const z=this.fillLinearGradientColorStops();if(z){const j=_(),q=this.fillLinearGradientStartPoint(),I=this.fillLinearGradientEndPoint(),ut=j.createLinearGradient(q.x,q.y,I.x,I.y);for(let at=0;at<z.length;at+=2)ut.addColorStop(z[at],z[at+1]);return ut}}_getRadialGradient(){return this._getCache(v,this.__getRadialGradient)}__getRadialGradient(){const z=this.fillRadialGradientColorStops();if(z){const j=_(),q=this.fillRadialGradientStartPoint(),I=this.fillRadialGradientEndPoint(),ut=j.createRadialGradient(q.x,q.y,this.fillRadialGradientStartRadius(),I.x,I.y,this.fillRadialGradientEndRadius());for(let at=0;at<z.length;at+=2)ut.addColorStop(z[at],z[at+1]);return ut}}getShadowRGBA(){return this._getCache(g,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const z=n.Util.colorToRGBA(this.shadowColor());if(z)return"rgba("+z.r+","+z.g+","+z.b+","+z.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const z=this.hitStrokeWidth();return z==="auto"?this.hasStroke():this.strokeEnabled()&&!!z}intersects(z){const j=this.getStage();if(!j)return!1;const q=j.bufferHitCanvas;return q.getContext().clear(),this.drawHit(q,void 0,!0),q.context.getImageData(Math.round(z.x),Math.round(z.y),1,1).data[3]>0}destroy(){return l.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(z){var j;if(!((j=this.attrs.perfectDrawEnabled)!==null&&j!==void 0?j:!0))return!1;const I=z||this.hasFill(),ut=this.hasStroke(),at=this.getAbsoluteOpacity()!==1;if(I&&ut&&at)return!0;const Q=this.hasShadow(),$=this.shadowForStrokeEnabled();return!!(I&&ut&&Q&&$)}setStrokeHitEnabled(z){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),z?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const z=this.size();return{x:this._centroid?-z.width/2:0,y:this._centroid?-z.height/2:0,width:z.width,height:z.height}}getClientRect(z={}){let j=!1,q=this.getParent();for(;q;){if(q.isCached()){j=!0;break}q=q.getParent()}const I=z.skipTransform,ut=z.relativeTo||j&&this.getStage()||void 0,at=this.getSelfRect(),$=!z.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,X=at.width+$,et=at.height+$,rt=!z.skipShadow&&this.hasShadow(),ot=rt?this.shadowOffsetX():0,Et=rt?this.shadowOffsetY():0,Ot=X+Math.abs(ot),me=et+Math.abs(Et),Qt=rt&&this.shadowBlur()||0,re=Ot+Qt*2,G=me+Qt*2,Z={width:re,height:G,x:-($/2+Qt)+Math.min(ot,0)+at.x,y:-($/2+Qt)+Math.min(Et,0)+at.y};return I?Z:this._transformedRect(Z,ut)}drawScene(z,j,q){const I=this.getLayer(),ut=z||I.getCanvas(),at=ut.getContext(),Q=this._getCanvasCache(),$=this.getSceneFunc(),X=this.hasShadow();let et;const rt=j===this;if(!this.isVisible()&&!rt)return this;if(Q){at.save();const ot=this.getAbsoluteTransform(j).getMatrix();return at.transform(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5]),this._drawCachedSceneCanvas(at),at.restore(),this}if(!$)return this;if(at.save(),this._useBufferCanvas()){et=this.getStage();const ot=q||et.bufferCanvas,Et=ot.getContext();Et.clear(),Et.save(),Et._applyLineJoin(this);const Ot=this.getAbsoluteTransform(j).getMatrix();Et.transform(Ot[0],Ot[1],Ot[2],Ot[3],Ot[4],Ot[5]),$.call(this,Et,this),Et.restore();const me=ot.pixelRatio;X&&at._applyShadow(this),at._applyOpacity(this),at._applyGlobalCompositeOperation(this),at.drawImage(ot._canvas,ot.x||0,ot.y||0,ot.width/me,ot.height/me)}else{if(at._applyLineJoin(this),!rt){const ot=this.getAbsoluteTransform(j).getMatrix();at.transform(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5]),at._applyOpacity(this),at._applyGlobalCompositeOperation(this)}X&&at._applyShadow(this),$.call(this,at,this)}return at.restore(),this}drawHit(z,j,q=!1){if(!this.shouldDrawHit(j,q))return this;const I=this.getLayer(),ut=z||I.hitCanvas,at=ut&&ut.getContext(),Q=this.hitFunc()||this.sceneFunc(),$=this._getCanvasCache(),X=$&&$.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),X){at.save();const rt=this.getAbsoluteTransform(j).getMatrix();return at.transform(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5]),this._drawCachedHitCanvas(at),at.restore(),this}if(!Q)return this;if(at.save(),at._applyLineJoin(this),!(this===j)){const rt=this.getAbsoluteTransform(j).getMatrix();at.transform(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5])}return Q.call(this,at,this),at.restore(),this}drawHitFromCache(z=0){const j=this._getCanvasCache(),q=this._getCachedSceneCanvas(),I=j.hit,ut=I.getContext(),at=I.getWidth(),Q=I.getHeight();ut.clear(),ut.drawImage(q._canvas,0,0,at,Q);try{const $=ut.getImageData(0,0,at,Q),X=$.data,et=X.length,rt=n.Util._hexToRgb(this.colorKey);for(let ot=0;ot<et;ot+=4)X[ot+3]>z?(X[ot]=rt.r,X[ot+1]=rt.g,X[ot+2]=rt.b,X[ot+3]=255):X[ot+3]=0;ut.putImageData($,0,0)}catch($){n.Util.error("Unable to draw hit graph from cached scene canvas. "+$.message)}return this}hasPointerCapture(z){return o.hasPointerCapture(z,this)}setPointerCapture(z){o.setPointerCapture(z,this)}releaseCapture(z){o.releaseCapture(z,this)}}e.Shape=N,N.prototype._fillFunc=A,N.prototype._strokeFunc=x,N.prototype._fillFuncHit=C,N.prototype._strokeFuncHit=T,N.prototype._centroid=!1,N.prototype.nodeType="Shape",(0,r._registerNode)(N),N.prototype.eventListeners={},N.prototype.on.call(N.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",S),N.prototype.on.call(N.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",E),N.prototype.on.call(N.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",M),N.prototype.on.call(N.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",O),N.prototype.on.call(N.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",w),a.Factory.addGetterSetter(N,"stroke",void 0,(0,u.getStringOrGradientValidator)()),a.Factory.addGetterSetter(N,"strokeWidth",2,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(N,"fillAfterStrokeEnabled",!1),a.Factory.addGetterSetter(N,"hitStrokeWidth","auto",(0,u.getNumberOrAutoValidator)()),a.Factory.addGetterSetter(N,"strokeHitEnabled",!0,(0,u.getBooleanValidator)()),a.Factory.addGetterSetter(N,"perfectDrawEnabled",!0,(0,u.getBooleanValidator)()),a.Factory.addGetterSetter(N,"shadowForStrokeEnabled",!0,(0,u.getBooleanValidator)()),a.Factory.addGetterSetter(N,"lineJoin"),a.Factory.addGetterSetter(N,"lineCap"),a.Factory.addGetterSetter(N,"sceneFunc"),a.Factory.addGetterSetter(N,"hitFunc"),a.Factory.addGetterSetter(N,"dash"),a.Factory.addGetterSetter(N,"dashOffset",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(N,"shadowColor",void 0,(0,u.getStringValidator)()),a.Factory.addGetterSetter(N,"shadowBlur",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(N,"shadowOpacity",1,(0,u.getNumberValidator)()),a.Factory.addComponentsGetterSetter(N,"shadowOffset",["x","y"]),a.Factory.addGetterSetter(N,"shadowOffsetX",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(N,"shadowOffsetY",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(N,"fillPatternImage"),a.Factory.addGetterSetter(N,"fill",void 0,(0,u.getStringOrGradientValidator)()),a.Factory.addGetterSetter(N,"fillPatternX",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(N,"fillPatternY",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(N,"fillLinearGradientColorStops"),a.Factory.addGetterSetter(N,"strokeLinearGradientColorStops"),a.Factory.addGetterSetter(N,"fillRadialGradientStartRadius",0),a.Factory.addGetterSetter(N,"fillRadialGradientEndRadius",0),a.Factory.addGetterSetter(N,"fillRadialGradientColorStops"),a.Factory.addGetterSetter(N,"fillPatternRepeat","repeat"),a.Factory.addGetterSetter(N,"fillEnabled",!0),a.Factory.addGetterSetter(N,"strokeEnabled",!0),a.Factory.addGetterSetter(N,"shadowEnabled",!0),a.Factory.addGetterSetter(N,"dashEnabled",!0),a.Factory.addGetterSetter(N,"strokeScaleEnabled",!0),a.Factory.addGetterSetter(N,"fillPriority","color"),a.Factory.addComponentsGetterSetter(N,"fillPatternOffset",["x","y"]),a.Factory.addGetterSetter(N,"fillPatternOffsetX",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(N,"fillPatternOffsetY",0,(0,u.getNumberValidator)()),a.Factory.addComponentsGetterSetter(N,"fillPatternScale",["x","y"]),a.Factory.addGetterSetter(N,"fillPatternScaleX",1,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(N,"fillPatternScaleY",1,(0,u.getNumberValidator)()),a.Factory.addComponentsGetterSetter(N,"fillLinearGradientStartPoint",["x","y"]),a.Factory.addComponentsGetterSetter(N,"strokeLinearGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(N,"fillLinearGradientStartPointX",0),a.Factory.addGetterSetter(N,"strokeLinearGradientStartPointX",0),a.Factory.addGetterSetter(N,"fillLinearGradientStartPointY",0),a.Factory.addGetterSetter(N,"strokeLinearGradientStartPointY",0),a.Factory.addComponentsGetterSetter(N,"fillLinearGradientEndPoint",["x","y"]),a.Factory.addComponentsGetterSetter(N,"strokeLinearGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(N,"fillLinearGradientEndPointX",0),a.Factory.addGetterSetter(N,"strokeLinearGradientEndPointX",0),a.Factory.addGetterSetter(N,"fillLinearGradientEndPointY",0),a.Factory.addGetterSetter(N,"strokeLinearGradientEndPointY",0),a.Factory.addComponentsGetterSetter(N,"fillRadialGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(N,"fillRadialGradientStartPointX",0),a.Factory.addGetterSetter(N,"fillRadialGradientStartPointY",0),a.Factory.addComponentsGetterSetter(N,"fillRadialGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(N,"fillRadialGradientEndPointX",0),a.Factory.addGetterSetter(N,"fillRadialGradientEndPointY",0),a.Factory.addGetterSetter(N,"fillPatternRotation",0),a.Factory.addGetterSetter(N,"fillRule",void 0,(0,u.getStringValidator)()),a.Factory.backCompat(N,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(ln);Object.defineProperty(tf,"__esModule",{value:!0});tf.Layer=void 0;const Dl=De,y2=Is,Vu=be,iy=Ut,uv=qa,tD=bt,eD=ln,nD=xt,aD="#",lD="beforeDraw",iD="draw",d7=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],sD=d7.length;let Jr=class extends y2.Container{constructor(t){super(t),this.canvas=new uv.SceneCanvas,this.hitCanvas=new uv.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),t<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[t+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Vu.Node.prototype.moveToTop.call(this);const t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Vu.Node.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Vu.Node.prototype.moveDown.call(this)){const t=this.getStage();if(t){const n=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Vu.Node.prototype.moveToBottom.call(this)){const t=this.getStage();if(t){const n=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const t=this.getNativeCanvasElement();return Vu.Node.prototype.remove.call(this),t&&t.parentNode&&Dl.Util._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:n}){return this.canvas.setSize(t,n),this.hitCanvas.setSize(t,n),this._setSmoothEnabled(),this}_validateAdd(t){const n=t.getType();n!=="Group"&&n!=="Shape"&&Dl.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return t=t||{},t.width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=t.x!==void 0?t.x:this.x(),t.y=t.y!==void 0?t.y:this.y(),Vu.Node.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Dl.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Dl.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Dl.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;let n=1,a=!1;for(;;){for(let l=0;l<sD;l++){const u=d7[l],r=this._getIntersection({x:t.x+u.x*n,y:t.y+u.y*n}),o=r.shape;if(o)return o;if(a=!!r.antialiased,!r.antialiased)break}if(a)n+=1;else return null}}_getIntersection(t){const n=this.hitCanvas.pixelRatio,a=this.hitCanvas.context.getImageData(Math.round(t.x*n),Math.round(t.y*n),1,1).data,l=a[3];if(l===255){const u=Dl.Util._rgbToHex(a[0],a[1],a[2]),r=eD.shapes[aD+u];return r?{shape:r}:{antialiased:!0}}else if(l>0)return{antialiased:!0};return{}}drawScene(t,n,a){const l=this.getLayer(),u=t||l&&l.getCanvas();return this._fire(lD,{node:this}),this.clearBeforeDraw()&&u.getContext().clear(),y2.Container.prototype.drawScene.call(this,u,n,a),this._fire(iD,{node:this}),this}drawHit(t,n){const a=this.getLayer(),l=t||a&&a.hitCanvas;return a&&a.clearBeforeDraw()&&a.getHitCanvas().getContext().clear(),y2.Container.prototype.drawHit.call(this,l,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){Dl.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return Dl.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}destroy(){return Dl.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};tf.Layer=Jr;Jr.prototype.nodeType="Layer";(0,nD._registerNode)(Jr);iy.Factory.addGetterSetter(Jr,"imageSmoothingEnabled",!0);iy.Factory.addGetterSetter(Jr,"clearBeforeDraw",!0);iy.Factory.addGetterSetter(Jr,"hitGraphEnabled",!0,(0,tD.getBooleanValidator)());var s0={};Object.defineProperty(s0,"__esModule",{value:!0});s0.FastLayer=void 0;const uD=De,rD=tf,cD=xt;class sy extends rD.Layer{constructor(t){super(t),this.listening(!1),uD.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}s0.FastLayer=sy;sy.prototype.nodeType="FastLayer";(0,cD._registerNode)(sy);var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.Group=void 0;const oD=De,fD=Is,hD=xt;class uy extends fD.Container{_validateAdd(t){const n=t.getType();n!=="Group"&&n!=="Shape"&&oD.Util.throw("You may only add groups and shapes to groups.")}}Wr.Group=uy;uy.prototype.nodeType="Group";(0,hD._registerNode)(uy);var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.Animation=void 0;const v2=xt,rv=De,S2=function(){return v2.glob.performance&&v2.glob.performance.now?function(){return v2.glob.performance.now()}:function(){return new Date().getTime()}}();class $a{constructor(t,n){this.id=$a.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:S2(),frameRate:0},this.func=t,this.setLayers(n)}setLayers(t){let n=[];return t&&(n=Array.isArray(t)?t:[t]),this.layers=n,this}getLayers(){return this.layers}addLayer(t){const n=this.layers,a=n.length;for(let l=0;l<a;l++)if(n[l]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){const n=$a.animations,a=n.length;for(let l=0;l<a;l++)if(n[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=S2(),$a._addAnimation(this),this}stop(){return $a._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){const n=t.id,a=this.animations,l=a.length;for(let u=0;u<l;u++)if(a[u].id===n){this.animations.splice(u,1);break}}static _runFrames(){const t={},n=this.animations;for(let a=0;a<n.length;a++){const l=n[a],u=l.layers,r=l.func;l._updateFrameObject(S2());const o=u.length;let f;if(r?f=r.call(l,l.frame)!==!1:f=!0,!!f)for(let g=0;g<o;g++){const m=u[g];m._id!==void 0&&(t[m._id]=m)}}for(const a in t)t.hasOwnProperty(a)&&t[a].batchDraw()}static _animationLoop(){const t=$a;t.animations.length?(t._runFrames(),rv.Util.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,rv.Util.requestAnimFrame(this._animationLoop))}}Pr.Animation=$a;$a.animations=[];$a.animIdCounter=0;$a.animRunning=!1;var g7={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=De,n=Pr,a=be,l=xt,u={node:1,duration:1,easing:1,onFinish:1,yoyo:1},r=1,o=2,f=3,g=["fill","stroke","shadowColor"];let m=0;class b{constructor(_,A,x,C,T,S,E){this.prop=_,this.propFunc=A,this.begin=C,this._pos=C,this.duration=S,this._change=0,this.prevPos=0,this.yoyo=E,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=x,this._change=T-this.begin,this.pause()}fire(_){const A=this[_];A&&A()}setTime(_){_>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():_<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=_,this.update())}getTime(){return this._time}setPosition(_){this.prevPos=this._pos,this.propFunc(_),this._pos=_}getPosition(_){return _===void 0&&(_=this._time),this.func(_,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=f,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(_){this.pause(),this._time=_,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const _=this.getTimer()-this._startTime;this.state===o?this.setTime(_):this.state===f&&this.setTime(this.duration-_)}pause(){this.state=r,this.fire("onPause")}getTimer(){return new Date().getTime()}}class v{constructor(_){const A=this,x=_.node,C=x._id,T=_.easing||e.Easings.Linear,S=!!_.yoyo;let E,M;typeof _.duration>"u"?E=.3:_.duration===0?E=.001:E=_.duration,this.node=x,this._id=m++;const O=x.getLayer()||(x instanceof l.Konva.Stage?x.getLayers():null);O||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){A.tween.onEnterFrame()},O),this.tween=new b(M,function(w){A._tweenFunc(w)},T,0,1,E*1e3,S),this._addListeners(),v.attrs[C]||(v.attrs[C]={}),v.attrs[C][this._id]||(v.attrs[C][this._id]={}),v.tweens[C]||(v.tweens[C]={});for(M in _)u[M]===void 0&&this._addAttr(M,_[M]);this.reset(),this.onFinish=_.onFinish,this.onReset=_.onReset,this.onUpdate=_.onUpdate}_addAttr(_,A){const x=this.node,C=x._id;let T,S,E,M,O;const w=v.tweens[C][_];w&&delete v.attrs[C][w][_];let N=x.getAttr(_);if(t.Util._isArray(A))if(T=[],S=Math.max(A.length,N.length),_==="points"&&A.length!==N.length&&(A.length>N.length?(M=N,N=t.Util._prepareArrayForTween(N,A,x.closed())):(E=A,A=t.Util._prepareArrayForTween(A,N,x.closed()))),_.indexOf("fill")===0)for(let Y=0;Y<S;Y++)if(Y%2===0)T.push(A[Y]-N[Y]);else{const z=t.Util.colorToRGBA(N[Y]);O=t.Util.colorToRGBA(A[Y]),N[Y]=z,T.push({r:O.r-z.r,g:O.g-z.g,b:O.b-z.b,a:O.a-z.a})}else for(let Y=0;Y<S;Y++)T.push(A[Y]-N[Y]);else g.indexOf(_)!==-1?(N=t.Util.colorToRGBA(N),O=t.Util.colorToRGBA(A),T={r:O.r-N.r,g:O.g-N.g,b:O.b-N.b,a:O.a-N.a}):T=A-N;v.attrs[C][this._id][_]={start:N,diff:T,end:A,trueEnd:E,trueStart:M},v.tweens[C][_]=this._id}_tweenFunc(_){const A=this.node,x=v.attrs[A._id][this._id];let C,T,S,E,M,O,w,N;for(C in x){if(T=x[C],S=T.start,E=T.diff,N=T.end,t.Util._isArray(S))if(M=[],w=Math.max(S.length,N.length),C.indexOf("fill")===0)for(O=0;O<w;O++)O%2===0?M.push((S[O]||0)+E[O]*_):M.push("rgba("+Math.round(S[O].r+E[O].r*_)+","+Math.round(S[O].g+E[O].g*_)+","+Math.round(S[O].b+E[O].b*_)+","+(S[O].a+E[O].a*_)+")");else for(O=0;O<w;O++)M.push((S[O]||0)+E[O]*_);else g.indexOf(C)!==-1?M="rgba("+Math.round(S.r+E.r*_)+","+Math.round(S.g+E.g*_)+","+Math.round(S.b+E.b*_)+","+(S.a+E.a*_)+")":M=S+E*_;A.setAttr(C,M)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const _=this.node,A=v.attrs[_._id][this._id];A.points&&A.points.trueEnd&&_.setAttr("points",A.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const _=this.node,A=v.attrs[_._id][this._id];A.points&&A.points.trueStart&&_.points(A.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(_){return this.tween.seek(_*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const _=this.node._id,A=this._id,x=v.tweens[_];this.pause(),this.anim&&this.anim.stop();for(const C in x)delete v.tweens[_][C];delete v.attrs[_][A],v.tweens[_]&&(Object.keys(v.tweens[_]).length===0&&delete v.tweens[_],Object.keys(v.attrs[_]).length===0&&delete v.attrs[_])}}e.Tween=v,v.attrs={},v.tweens={},a.Node.prototype.to=function(p){const _=p.onFinish;p.node=this,p.onFinish=function(){this.destroy(),_&&_()},new v(p).play()},e.Easings={BackEaseIn(p,_,A,x){return A*(p/=x)*p*((1.70158+1)*p-1.70158)+_},BackEaseOut(p,_,A,x){return A*((p=p/x-1)*p*((1.70158+1)*p+1.70158)+1)+_},BackEaseInOut(p,_,A,x){let C=1.70158;return(p/=x/2)<1?A/2*(p*p*(((C*=1.525)+1)*p-C))+_:A/2*((p-=2)*p*(((C*=1.525)+1)*p+C)+2)+_},ElasticEaseIn(p,_,A,x,C,T){let S=0;return p===0?_:(p/=x)===1?_+A:(T||(T=x*.3),!C||C<Math.abs(A)?(C=A,S=T/4):S=T/(2*Math.PI)*Math.asin(A/C),-(C*Math.pow(2,10*(p-=1))*Math.sin((p*x-S)*(2*Math.PI)/T))+_)},ElasticEaseOut(p,_,A,x,C,T){let S=0;return p===0?_:(p/=x)===1?_+A:(T||(T=x*.3),!C||C<Math.abs(A)?(C=A,S=T/4):S=T/(2*Math.PI)*Math.asin(A/C),C*Math.pow(2,-10*p)*Math.sin((p*x-S)*(2*Math.PI)/T)+A+_)},ElasticEaseInOut(p,_,A,x,C,T){let S=0;return p===0?_:(p/=x/2)===2?_+A:(T||(T=x*(.3*1.5)),!C||C<Math.abs(A)?(C=A,S=T/4):S=T/(2*Math.PI)*Math.asin(A/C),p<1?-.5*(C*Math.pow(2,10*(p-=1))*Math.sin((p*x-S)*(2*Math.PI)/T))+_:C*Math.pow(2,-10*(p-=1))*Math.sin((p*x-S)*(2*Math.PI)/T)*.5+A+_)},BounceEaseOut(p,_,A,x){return(p/=x)<1/2.75?A*(7.5625*p*p)+_:p<2/2.75?A*(7.5625*(p-=1.5/2.75)*p+.75)+_:p<2.5/2.75?A*(7.5625*(p-=2.25/2.75)*p+.9375)+_:A*(7.5625*(p-=2.625/2.75)*p+.984375)+_},BounceEaseIn(p,_,A,x){return A-e.Easings.BounceEaseOut(x-p,0,A,x)+_},BounceEaseInOut(p,_,A,x){return p<x/2?e.Easings.BounceEaseIn(p*2,0,A,x)*.5+_:e.Easings.BounceEaseOut(p*2-x,0,A,x)*.5+A*.5+_},EaseIn(p,_,A,x){return A*(p/=x)*p+_},EaseOut(p,_,A,x){return-A*(p/=x)*(p-2)+_},EaseInOut(p,_,A,x){return(p/=x/2)<1?A/2*p*p+_:-A/2*(--p*(p-2)-1)+_},StrongEaseIn(p,_,A,x){return A*(p/=x)*p*p*p*p+_},StrongEaseOut(p,_,A,x){return A*((p=p/x-1)*p*p*p*p+1)+_},StrongEaseInOut(p,_,A,x){return(p/=x/2)<1?A/2*p*p*p*p*p+_:A/2*((p-=2)*p*p*p*p+2)+_},Linear(p,_,A,x){return A*p/x+_}}})(g7);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=xt,n=De,a=be,l=Is,u=o7,r=tf,o=s0,f=Wr,g=l0,m=ln,b=Pr,v=g7,p=Ll,_=qa;e.Konva=n.Util._assign(t.Konva,{Util:n.Util,Transform:n.Transform,Node:a.Node,Container:l.Container,Stage:u.Stage,stages:u.stages,Layer:r.Layer,FastLayer:o.FastLayer,Group:f.Group,DD:g.DD,Shape:m.Shape,shapes:m.shapes,Animation:b.Animation,Tween:v.Tween,Easings:v.Easings,Context:p.Context,Canvas:_.Canvas}),e.default=e.Konva})(Ed);var u0={};Object.defineProperty(u0,"__esModule",{value:!0});u0.Arc=void 0;const r0=Ut,dD=ln,cv=xt,c0=bt,gD=xt;class Jl extends dD.Shape{_sceneFunc(t){const n=cv.Konva.getAngle(this.angle()),a=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,n,a),t.arc(0,0,this.innerRadius(),n,0,!a),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),n=this.outerRadius(),a=this.clockwise(),l=cv.Konva.getAngle(a?360-this.angle():this.angle()),u=Math.cos(Math.min(l,Math.PI)),r=1,o=Math.sin(Math.min(Math.max(Math.PI,l),3*Math.PI/2)),f=Math.sin(Math.min(l,Math.PI/2)),g=u*(u>0?t:n),m=r*n,b=o*(o>0?t:n),v=f*(f>0?n:t);return{x:g,y:a?-1*v:b,width:m-g,height:v-b}}}u0.Arc=Jl;Jl.prototype._centroid=!0;Jl.prototype.className="Arc";Jl.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,gD._registerNode)(Jl);r0.Factory.addGetterSetter(Jl,"innerRadius",0,(0,c0.getNumberValidator)());r0.Factory.addGetterSetter(Jl,"outerRadius",0,(0,c0.getNumberValidator)());r0.Factory.addGetterSetter(Jl,"angle",0,(0,c0.getNumberValidator)());r0.Factory.addGetterSetter(Jl,"clockwise",!1,(0,c0.getBooleanValidator)());var o0={},ef={};Object.defineProperty(ef,"__esModule",{value:!0});ef.Line=void 0;const f0=Ut,mD=xt,pD=ln,m7=bt;function Vm(e,t,n,a,l,u,r){const o=Math.sqrt(Math.pow(n-e,2)+Math.pow(a-t,2)),f=Math.sqrt(Math.pow(l-n,2)+Math.pow(u-a,2)),g=r*o/(o+f),m=r*f/(o+f),b=n-g*(l-e),v=a-g*(u-t),p=n+m*(l-e),_=a+m*(u-t);return[b,v,p,_]}function ov(e,t){const n=e.length,a=[];for(let l=2;l<n-2;l+=2){const u=Vm(e[l-2],e[l-1],e[l],e[l+1],e[l+2],e[l+3],t);isNaN(u[0])||(a.push(u[0]),a.push(u[1]),a.push(e[l]),a.push(e[l+1]),a.push(u[2]),a.push(u[3]))}return a}let es=class extends pD.Shape{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(t){const n=this.points(),a=n.length,l=this.tension(),u=this.closed(),r=this.bezier();if(!a)return;let o=0;if(t.beginPath(),t.moveTo(n[0],n[1]),l!==0&&a>4){const f=this.getTensionPoints(),g=f.length;for(o=u?0:4,u||t.quadraticCurveTo(f[0],f[1],f[2],f[3]);o<g-2;)t.bezierCurveTo(f[o++],f[o++],f[o++],f[o++],f[o++],f[o++]);u||t.quadraticCurveTo(f[g-2],f[g-1],n[a-2],n[a-1])}else if(r)for(o=2;o<a;)t.bezierCurveTo(n[o++],n[o++],n[o++],n[o++],n[o++],n[o++]);else for(o=2;o<a;o+=2)t.lineTo(n[o],n[o+1]);u?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():ov(this.points(),this.tension())}_getTensionPointsClosed(){const t=this.points(),n=t.length,a=this.tension(),l=Vm(t[n-2],t[n-1],t[0],t[1],t[2],t[3],a),u=Vm(t[n-4],t[n-3],t[n-2],t[n-1],t[0],t[1],a),r=ov(t,a);return[l[2],l[3]].concat(r).concat([u[0],u[1],t[n-2],t[n-1],u[2],u[3],l[0],l[1],t[0],t[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};this.tension()!==0?t=[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:t=this.points();let n=t[0],a=t[0],l=t[1],u=t[1],r,o;for(let f=0;f<t.length/2;f++)r=t[f*2],o=t[f*2+1],n=Math.min(n,r),a=Math.max(a,r),l=Math.min(l,o),u=Math.max(u,o);return{x:n,y:l,width:a-n,height:u-l}}};ef.Line=es;es.prototype.className="Line";es.prototype._attrsAffectingSize=["points","bezier","tension"];(0,mD._registerNode)(es);f0.Factory.addGetterSetter(es,"closed",!1);f0.Factory.addGetterSetter(es,"bezier",!1);f0.Factory.addGetterSetter(es,"tension",0,(0,m7.getNumberValidator)());f0.Factory.addGetterSetter(es,"points",[],(0,m7.getNumberArrayValidator)());var Ir={},p7={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(r,o,f)=>{let g,m;const v=f/2;g=0;for(let p=0;p<20;p++)m=v*e.tValues[20][p]+v,g+=e.cValues[20][p]*a(r,o,m);return v*g};e.getCubicArcLength=t;const n=(r,o,f)=>{f===void 0&&(f=1);const g=r[0]-2*r[1]+r[2],m=o[0]-2*o[1]+o[2],b=2*r[1]-2*r[0],v=2*o[1]-2*o[0],p=4*(g*g+m*m),_=4*(g*b+m*v),A=b*b+v*v;if(p===0)return f*Math.sqrt(Math.pow(r[2]-r[0],2)+Math.pow(o[2]-o[0],2));const x=_/(2*p),C=A/p,T=f+x,S=C-x*x,E=T*T+S>0?Math.sqrt(T*T+S):0,M=x*x+S>0?Math.sqrt(x*x+S):0,O=x+Math.sqrt(x*x+S)!==0?S*Math.log(Math.abs((T+E)/(x+M))):0;return Math.sqrt(p)/2*(T*E-x*M+O)};e.getQuadraticArcLength=n;function a(r,o,f){const g=l(1,f,r),m=l(1,f,o),b=g*g+m*m;return Math.sqrt(b)}const l=(r,o,f)=>{const g=f.length-1;let m,b;if(g===0)return 0;if(r===0){b=0;for(let v=0;v<=g;v++)b+=e.binomialCoefficients[g][v]*Math.pow(1-o,g-v)*Math.pow(o,v)*f[v];return b}else{m=new Array(g);for(let v=0;v<g;v++)m[v]=g*(f[v+1]-f[v]);return l(r-1,o,m)}},u=(r,o,f)=>{let g=1,m=r/o,b=(r-f(m))/o,v=0;for(;g>.001;){const p=f(m+b),_=Math.abs(r-p)/o;if(_<g)g=_,m+=b;else{const A=f(m-b),x=Math.abs(r-A)/o;x<g?(g=x,m-=b):b/=2}if(v++,v>500)break}return m};e.t2length=u})(p7);Object.defineProperty(Ir,"__esModule",{value:!0});Ir.Path=void 0;const yD=Ut,vD=xt,SD=ln,ju=p7;class Pe extends SD.Shape{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Pe.parsePathData(this.data()),this.pathLength=Pe.getPathLength(this.dataArray)}_sceneFunc(t){const n=this.dataArray;t.beginPath();let a=!1;for(let l=0;l<n.length;l++){const u=n[l].command,r=n[l].points;switch(u){case"L":t.lineTo(r[0],r[1]);break;case"M":t.moveTo(r[0],r[1]);break;case"C":t.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Q":t.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case"A":const o=r[0],f=r[1],g=r[2],m=r[3],b=r[4],v=r[5],p=r[6],_=r[7],A=g>m?g:m,x=g>m?1:g/m,C=g>m?m/g:1;t.translate(o,f),t.rotate(p),t.scale(x,C),t.arc(0,0,A,b,b+v,1-_),t.scale(1/x,1/C),t.rotate(-p),t.translate(-o,-f);break;case"z":a=!0,t.closePath();break}}!a&&!this.hasFill()?t.strokeShape(this):t.fillStrokeShape(this)}getSelfRect(){let t=[];this.dataArray.forEach(function(f){if(f.command==="A"){const g=f.points[4],m=f.points[5],b=f.points[4]+m;let v=Math.PI/180;if(Math.abs(g-b)<v&&(v=Math.abs(g-b)),m<0)for(let p=g-v;p>b;p-=v){const _=Pe.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],p,0);t.push(_.x,_.y)}else for(let p=g+v;p<b;p+=v){const _=Pe.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],p,0);t.push(_.x,_.y)}}else if(f.command==="C")for(let g=0;g<=1;g+=.01){const m=Pe.getPointOnCubicBezier(g,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);t.push(m.x,m.y)}else t=t.concat(f.points)});let n=t[0],a=t[0],l=t[1],u=t[1],r,o;for(let f=0;f<t.length/2;f++)r=t[f*2],o=t[f*2+1],isNaN(r)||(n=Math.min(n,r),a=Math.max(a,r)),isNaN(o)||(l=Math.min(l,o),u=Math.max(u,o));return{x:n,y:l,width:a-n,height:u-l}}getLength(){return this.pathLength}getPointAtLength(t){return Pe.getPointAtLengthOfDataArray(t,this.dataArray)}static getLineLength(t,n,a,l){return Math.sqrt((a-t)*(a-t)+(l-n)*(l-n))}static getPathLength(t){let n=0;for(let a=0;a<t.length;++a)n+=t[a].pathLength;return n}static getPointAtLengthOfDataArray(t,n){let a,l=0,u=n.length;if(!u)return null;for(;l<u&&t>n[l].pathLength;)t-=n[l].pathLength,++l;if(l===u)return a=n[l-1].points.slice(-2),{x:a[0],y:a[1]};if(t<.01)return n[l].command==="M"?(a=n[l].points.slice(0,2),{x:a[0],y:a[1]}):{x:n[l].start.x,y:n[l].start.y};const r=n[l],o=r.points;switch(r.command){case"L":return Pe.getPointOnLine(t,r.start.x,r.start.y,o[0],o[1]);case"C":return Pe.getPointOnCubicBezier((0,ju.t2length)(t,Pe.getPathLength(n),A=>(0,ju.getCubicArcLength)([r.start.x,o[0],o[2],o[4]],[r.start.y,o[1],o[3],o[5]],A)),r.start.x,r.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return Pe.getPointOnQuadraticBezier((0,ju.t2length)(t,Pe.getPathLength(n),A=>(0,ju.getQuadraticArcLength)([r.start.x,o[0],o[2]],[r.start.y,o[1],o[3]],A)),r.start.x,r.start.y,o[0],o[1],o[2],o[3]);case"A":const f=o[0],g=o[1],m=o[2],b=o[3],v=o[5],p=o[6];let _=o[4];return _+=v*t/r.pathLength,Pe.getPointOnEllipticalArc(f,g,m,b,_,p)}return null}static getPointOnLine(t,n,a,l,u,r,o){r=r??n,o=o??a;const f=this.getLineLength(n,a,l,u);if(f<1e-10)return{x:n,y:a};if(l===n)return{x:r,y:o+(u>a?t:-t)};const g=(u-a)/(l-n),m=Math.sqrt(t*t/(1+g*g))*(l<n?-1:1),b=g*m;if(Math.abs(o-a-g*(r-n))<1e-10)return{x:r+m,y:o+b};const v=((r-n)*(l-n)+(o-a)*(u-a))/(f*f),p=n+v*(l-n),_=a+v*(u-a),A=this.getLineLength(r,o,p,_),x=Math.sqrt(t*t-A*A),C=Math.sqrt(x*x/(1+g*g))*(l<n?-1:1),T=g*C;return{x:p+C,y:_+T}}static getPointOnCubicBezier(t,n,a,l,u,r,o,f,g){function m(x){return x*x*x}function b(x){return 3*x*x*(1-x)}function v(x){return 3*x*(1-x)*(1-x)}function p(x){return(1-x)*(1-x)*(1-x)}const _=f*m(t)+r*b(t)+l*v(t)+n*p(t),A=g*m(t)+o*b(t)+u*v(t)+a*p(t);return{x:_,y:A}}static getPointOnQuadraticBezier(t,n,a,l,u,r,o){function f(p){return p*p}function g(p){return 2*p*(1-p)}function m(p){return(1-p)*(1-p)}const b=r*f(t)+l*g(t)+n*m(t),v=o*f(t)+u*g(t)+a*m(t);return{x:b,y:v}}static getPointOnEllipticalArc(t,n,a,l,u,r){const o=Math.cos(r),f=Math.sin(r),g={x:a*Math.cos(u),y:l*Math.sin(u)};return{x:t+(g.x*o-g.y*f),y:n+(g.x*f+g.y*o)}}static parsePathData(t){if(!t)return[];let n=t;const a=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let b=0;b<a.length;b++)n=n.replace(new RegExp(a[b],"g"),"|"+a[b]);const l=n.split("|"),u=[],r=[];let o=0,f=0;const g=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let m;for(let b=1;b<l.length;b++){let v=l[b],p=v.charAt(0);for(v=v.slice(1),r.length=0;m=g.exec(v);)r.push(m[0]);const _=[];for(let A=0,x=r.length;A<x;A++){if(r[A]==="00"){_.push(0,0);continue}const C=parseFloat(r[A]);isNaN(C)?_.push(0):_.push(C)}for(;_.length>0&&!isNaN(_[0]);){let A="",x=[];const C=o,T=f;let S,E,M,O,w,N,Y,z,j,q;switch(p){case"l":o+=_.shift(),f+=_.shift(),A="L",x.push(o,f);break;case"L":o=_.shift(),f=_.shift(),x.push(o,f);break;case"m":const I=_.shift(),ut=_.shift();if(o+=I,f+=ut,A="M",u.length>2&&u[u.length-1].command==="z"){for(let at=u.length-2;at>=0;at--)if(u[at].command==="M"){o=u[at].points[0]+I,f=u[at].points[1]+ut;break}}x.push(o,f),p="l";break;case"M":o=_.shift(),f=_.shift(),A="M",x.push(o,f),p="L";break;case"h":o+=_.shift(),A="L",x.push(o,f);break;case"H":o=_.shift(),A="L",x.push(o,f);break;case"v":f+=_.shift(),A="L",x.push(o,f);break;case"V":f=_.shift(),A="L",x.push(o,f);break;case"C":x.push(_.shift(),_.shift(),_.shift(),_.shift()),o=_.shift(),f=_.shift(),x.push(o,f);break;case"c":x.push(o+_.shift(),f+_.shift(),o+_.shift(),f+_.shift()),o+=_.shift(),f+=_.shift(),A="C",x.push(o,f);break;case"S":E=o,M=f,S=u[u.length-1],S.command==="C"&&(E=o+(o-S.points[2]),M=f+(f-S.points[3])),x.push(E,M,_.shift(),_.shift()),o=_.shift(),f=_.shift(),A="C",x.push(o,f);break;case"s":E=o,M=f,S=u[u.length-1],S.command==="C"&&(E=o+(o-S.points[2]),M=f+(f-S.points[3])),x.push(E,M,o+_.shift(),f+_.shift()),o+=_.shift(),f+=_.shift(),A="C",x.push(o,f);break;case"Q":x.push(_.shift(),_.shift()),o=_.shift(),f=_.shift(),x.push(o,f);break;case"q":x.push(o+_.shift(),f+_.shift()),o+=_.shift(),f+=_.shift(),A="Q",x.push(o,f);break;case"T":E=o,M=f,S=u[u.length-1],S.command==="Q"&&(E=o+(o-S.points[0]),M=f+(f-S.points[1])),o=_.shift(),f=_.shift(),A="Q",x.push(E,M,o,f);break;case"t":E=o,M=f,S=u[u.length-1],S.command==="Q"&&(E=o+(o-S.points[0]),M=f+(f-S.points[1])),o+=_.shift(),f+=_.shift(),A="Q",x.push(E,M,o,f);break;case"A":O=_.shift(),w=_.shift(),N=_.shift(),Y=_.shift(),z=_.shift(),j=o,q=f,o=_.shift(),f=_.shift(),A="A",x=this.convertEndpointToCenterParameterization(j,q,o,f,Y,z,O,w,N);break;case"a":O=_.shift(),w=_.shift(),N=_.shift(),Y=_.shift(),z=_.shift(),j=o,q=f,o+=_.shift(),f+=_.shift(),A="A",x=this.convertEndpointToCenterParameterization(j,q,o,f,Y,z,O,w,N);break}u.push({command:A||p,points:x,start:{x:C,y:T},pathLength:this.calcLength(C,T,A||p,x)})}(p==="z"||p==="Z")&&u.push({command:"z",points:[],start:void 0,pathLength:0})}return u}static calcLength(t,n,a,l){let u,r,o,f;const g=Pe;switch(a){case"L":return g.getLineLength(t,n,l[0],l[1]);case"C":return(0,ju.getCubicArcLength)([t,l[0],l[2],l[4]],[n,l[1],l[3],l[5]],1);case"Q":return(0,ju.getQuadraticArcLength)([t,l[0],l[2]],[n,l[1],l[3]],1);case"A":u=0;const m=l[4],b=l[5],v=l[4]+b;let p=Math.PI/180;if(Math.abs(m-v)<p&&(p=Math.abs(m-v)),r=g.getPointOnEllipticalArc(l[0],l[1],l[2],l[3],m,0),b<0)for(f=m-p;f>v;f-=p)o=g.getPointOnEllipticalArc(l[0],l[1],l[2],l[3],f,0),u+=g.getLineLength(r.x,r.y,o.x,o.y),r=o;else for(f=m+p;f<v;f+=p)o=g.getPointOnEllipticalArc(l[0],l[1],l[2],l[3],f,0),u+=g.getLineLength(r.x,r.y,o.x,o.y),r=o;return o=g.getPointOnEllipticalArc(l[0],l[1],l[2],l[3],v,0),u+=g.getLineLength(r.x,r.y,o.x,o.y),u}return 0}static convertEndpointToCenterParameterization(t,n,a,l,u,r,o,f,g){const m=g*(Math.PI/180),b=Math.cos(m)*(t-a)/2+Math.sin(m)*(n-l)/2,v=-1*Math.sin(m)*(t-a)/2+Math.cos(m)*(n-l)/2,p=b*b/(o*o)+v*v/(f*f);p>1&&(o*=Math.sqrt(p),f*=Math.sqrt(p));let _=Math.sqrt((o*o*(f*f)-o*o*(v*v)-f*f*(b*b))/(o*o*(v*v)+f*f*(b*b)));u===r&&(_*=-1),isNaN(_)&&(_=0);const A=_*o*v/f,x=_*-f*b/o,C=(t+a)/2+Math.cos(m)*A-Math.sin(m)*x,T=(n+l)/2+Math.sin(m)*A+Math.cos(m)*x,S=function(z){return Math.sqrt(z[0]*z[0]+z[1]*z[1])},E=function(z,j){return(z[0]*j[0]+z[1]*j[1])/(S(z)*S(j))},M=function(z,j){return(z[0]*j[1]<z[1]*j[0]?-1:1)*Math.acos(E(z,j))},O=M([1,0],[(b-A)/o,(v-x)/f]),w=[(b-A)/o,(v-x)/f],N=[(-1*b-A)/o,(-1*v-x)/f];let Y=M(w,N);return E(w,N)<=-1&&(Y=Math.PI),E(w,N)>=1&&(Y=0),r===0&&Y>0&&(Y=Y-2*Math.PI),r===1&&Y<0&&(Y=Y+2*Math.PI),[C,T,o,f,O,Y,m,r]}}Ir.Path=Pe;Pe.prototype.className="Path";Pe.prototype._attrsAffectingSize=["data"];(0,vD._registerNode)(Pe);yD.Factory.addGetterSetter(Pe,"data");Object.defineProperty(o0,"__esModule",{value:!0});o0.Arrow=void 0;const h0=Ut,_D=ef,y7=bt,bD=xt,fv=Ir;class tu extends _D.Line{_sceneFunc(t){super._sceneFunc(t);const n=Math.PI*2,a=this.points();let l=a;const u=this.tension()!==0&&a.length>4;u&&(l=this.getTensionPoints());const r=this.pointerLength(),o=a.length;let f,g;if(u){const v=[l[l.length-4],l[l.length-3],l[l.length-2],l[l.length-1],a[o-2],a[o-1]],p=fv.Path.calcLength(l[l.length-4],l[l.length-3],"C",v),_=fv.Path.getPointOnQuadraticBezier(Math.min(1,1-r/p),v[0],v[1],v[2],v[3],v[4],v[5]);f=a[o-2]-_.x,g=a[o-1]-_.y}else f=a[o-2]-a[o-4],g=a[o-1]-a[o-3];const m=(Math.atan2(g,f)+n)%n,b=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(a[o-2],a[o-1]),t.rotate(m),t.moveTo(0,0),t.lineTo(-r,b/2),t.lineTo(-r,-b/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(a[0],a[1]),u?(f=(l[0]+l[2])/2-a[0],g=(l[1]+l[3])/2-a[1]):(f=a[2]-a[0],g=a[3]-a[1]),t.rotate((Math.atan2(-g,-f)+n)%n),t.moveTo(0,0),t.lineTo(-r,b/2),t.lineTo(-r,-b/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),n=this.pointerWidth()/2;return{x:t.x,y:t.y-n,width:t.width,height:t.height+n*2}}}o0.Arrow=tu;tu.prototype.className="Arrow";(0,bD._registerNode)(tu);h0.Factory.addGetterSetter(tu,"pointerLength",10,(0,y7.getNumberValidator)());h0.Factory.addGetterSetter(tu,"pointerWidth",10,(0,y7.getNumberValidator)());h0.Factory.addGetterSetter(tu,"pointerAtBeginning",!1);h0.Factory.addGetterSetter(tu,"pointerAtEnding",!0);var d0={};Object.defineProperty(d0,"__esModule",{value:!0});d0.Circle=void 0;const ED=Ut,TD=ln,CD=bt,AD=xt;let $r=class extends TD.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}};d0.Circle=$r;$r.prototype._centroid=!0;$r.prototype.className="Circle";$r.prototype._attrsAffectingSize=["radius"];(0,AD._registerNode)($r);ED.Factory.addGetterSetter($r,"radius",0,(0,CD.getNumberValidator)());var g0={};Object.defineProperty(g0,"__esModule",{value:!0});g0.Ellipse=void 0;const ry=Ut,xD=ln,v7=bt,DD=xt;let ns=class extends xD.Shape{_sceneFunc(t){const n=this.radiusX(),a=this.radiusY();t.beginPath(),t.save(),n!==a&&t.scale(1,a/n),t.arc(0,0,n,0,Math.PI*2,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}};g0.Ellipse=ns;ns.prototype.className="Ellipse";ns.prototype._centroid=!0;ns.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,DD._registerNode)(ns);ry.Factory.addComponentsGetterSetter(ns,"radius",["x","y"]);ry.Factory.addGetterSetter(ns,"radiusX",0,(0,v7.getNumberValidator)());ry.Factory.addGetterSetter(ns,"radiusY",0,(0,v7.getNumberValidator)());var m0={};Object.defineProperty(m0,"__esModule",{value:!0});m0.Image=void 0;const _2=De,eu=Ut,MD=ln,ND=xt,nf=bt;let ol=class S7 extends MD.Shape{constructor(t){super(t),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&t.readyState===4||t&&t.addEventListener&&t.addEventListener("load",this._loadListener)}_removeImageLoad(t){t&&t.removeEventListener&&t.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const t=!!this.cornerRadius(),n=this.hasShadow();return t&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(t){const n=this.getWidth(),a=this.getHeight(),l=this.cornerRadius(),u=this.attrs.image;let r;if(u){const o=this.attrs.cropWidth,f=this.attrs.cropHeight;o&&f?r=[u,this.cropX(),this.cropY(),o,f,0,0,n,a]:r=[u,0,0,n,a]}(this.hasFill()||this.hasStroke()||l)&&(t.beginPath(),l?_2.Util.drawRoundedRectPath(t,n,a,l):t.rect(0,0,n,a),t.closePath(),t.fillStrokeShape(this)),u&&(l&&t.clip(),t.drawImage.apply(t,r))}_hitFunc(t){const n=this.width(),a=this.height(),l=this.cornerRadius();t.beginPath(),l?_2.Util.drawRoundedRectPath(t,n,a,l):t.rect(0,0,n,a),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,n;return(t=this.attrs.width)!==null&&t!==void 0?t:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var t,n;return(t=this.attrs.height)!==null&&t!==void 0?t:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(t,n,a=null){const l=_2.Util.createImageElement();l.onload=function(){const u=new S7({image:l});n(u)},l.onerror=a,l.crossOrigin="Anonymous",l.src=t}};m0.Image=ol;ol.prototype.className="Image";(0,ND._registerNode)(ol);eu.Factory.addGetterSetter(ol,"cornerRadius",0,(0,nf.getNumberOrArrayOfNumbersValidator)(4));eu.Factory.addGetterSetter(ol,"image");eu.Factory.addComponentsGetterSetter(ol,"crop",["x","y","width","height"]);eu.Factory.addGetterSetter(ol,"cropX",0,(0,nf.getNumberValidator)());eu.Factory.addGetterSetter(ol,"cropY",0,(0,nf.getNumberValidator)());eu.Factory.addGetterSetter(ol,"cropWidth",0,(0,nf.getNumberValidator)());eu.Factory.addGetterSetter(ol,"cropHeight",0,(0,nf.getNumberValidator)());var zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.Tag=zr.Label=void 0;const p0=Ut,OD=ln,RD=Wr,cy=bt,_7=xt,b7=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],UD="Change.konva",zD="none",jm="up",Xm="right",qm="down",Km="left",wD=b7.length;class oy extends RD.Group{constructor(t){super(t),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){let n=this,a;const l=function(){n._sync()};for(a=0;a<wD;a++)t.on(b7[a]+UD,l)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let t=this.getText(),n=this.getTag(),a,l,u,r,o,f,g;if(t&&n){switch(a=t.width(),l=t.height(),u=n.pointerDirection(),r=n.pointerWidth(),g=n.pointerHeight(),o=0,f=0,u){case jm:o=a/2,f=-1*g;break;case Xm:o=a+r,f=l/2;break;case qm:o=a/2,f=l+g;break;case Km:o=-1*r,f=l/2;break}n.setAttrs({x:-1*o,y:-1*f,width:a,height:l}),t.setAttrs({x:-1*o,y:-1*f})}}}zr.Label=oy;oy.prototype.className="Label";(0,_7._registerNode)(oy);class nu extends OD.Shape{_sceneFunc(t){const n=this.width(),a=this.height(),l=this.pointerDirection(),u=this.pointerWidth(),r=this.pointerHeight(),o=this.cornerRadius();let f=0,g=0,m=0,b=0;typeof o=="number"?f=g=m=b=Math.min(o,n/2,a/2):(f=Math.min(o[0]||0,n/2,a/2),g=Math.min(o[1]||0,n/2,a/2),b=Math.min(o[2]||0,n/2,a/2),m=Math.min(o[3]||0,n/2,a/2)),t.beginPath(),t.moveTo(f,0),l===jm&&(t.lineTo((n-u)/2,0),t.lineTo(n/2,-1*r),t.lineTo((n+u)/2,0)),t.lineTo(n-g,0),t.arc(n-g,g,g,Math.PI*3/2,0,!1),l===Xm&&(t.lineTo(n,(a-r)/2),t.lineTo(n+u,a/2),t.lineTo(n,(a+r)/2)),t.lineTo(n,a-b),t.arc(n-b,a-b,b,0,Math.PI/2,!1),l===qm&&(t.lineTo((n+u)/2,a),t.lineTo(n/2,a+r),t.lineTo((n-u)/2,a)),t.lineTo(m,a),t.arc(m,a-m,m,Math.PI/2,Math.PI,!1),l===Km&&(t.lineTo(0,(a+r)/2),t.lineTo(-1*u,a/2),t.lineTo(0,(a-r)/2)),t.lineTo(0,f),t.arc(f,f,f,Math.PI,Math.PI*3/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){let t=0,n=0,a=this.pointerWidth(),l=this.pointerHeight(),u=this.pointerDirection(),r=this.width(),o=this.height();return u===jm?(n-=l,o+=l):u===qm?o+=l:u===Km?(t-=a*1.5,r+=a):u===Xm&&(r+=a*1.5),{x:t,y:n,width:r,height:o}}}zr.Tag=nu;nu.prototype.className="Tag";(0,_7._registerNode)(nu);p0.Factory.addGetterSetter(nu,"pointerDirection",zD);p0.Factory.addGetterSetter(nu,"pointerWidth",0,(0,cy.getNumberValidator)());p0.Factory.addGetterSetter(nu,"pointerHeight",0,(0,cy.getNumberValidator)());p0.Factory.addGetterSetter(nu,"cornerRadius",0,(0,cy.getNumberOrArrayOfNumbersValidator)(4));var af={};Object.defineProperty(af,"__esModule",{value:!0});af.Rect=void 0;const GD=Ut,HD=ln,BD=xt,LD=De,YD=bt;let y0=class extends HD.Shape{_sceneFunc(t){const n=this.cornerRadius(),a=this.width(),l=this.height();t.beginPath(),n?LD.Util.drawRoundedRectPath(t,a,l,n):t.rect(0,0,a,l),t.closePath(),t.fillStrokeShape(this)}};af.Rect=y0;y0.prototype.className="Rect";(0,BD._registerNode)(y0);GD.Factory.addGetterSetter(y0,"cornerRadius",0,(0,YD.getNumberOrArrayOfNumbersValidator)(4));var v0={};Object.defineProperty(v0,"__esModule",{value:!0});v0.RegularPolygon=void 0;const E7=Ut,VD=ln,T7=bt,jD=xt;class au extends VD.Shape{_sceneFunc(t){const n=this._getPoints();t.beginPath(),t.moveTo(n[0].x,n[0].y);for(let a=1;a<n.length;a++)t.lineTo(n[a].x,n[a].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,n=this.attrs.radius||0,a=[];for(let l=0;l<t;l++)a.push({x:n*Math.sin(l*2*Math.PI/t),y:-1*n*Math.cos(l*2*Math.PI/t)});return a}getSelfRect(){const t=this._getPoints();let n=t[0].x,a=t[0].y,l=t[0].x,u=t[0].y;return t.forEach(r=>{n=Math.min(n,r.x),a=Math.max(a,r.x),l=Math.min(l,r.y),u=Math.max(u,r.y)}),{x:n,y:l,width:a-n,height:u-l}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}v0.RegularPolygon=au;au.prototype.className="RegularPolygon";au.prototype._centroid=!0;au.prototype._attrsAffectingSize=["radius"];(0,jD._registerNode)(au);E7.Factory.addGetterSetter(au,"radius",0,(0,T7.getNumberValidator)());E7.Factory.addGetterSetter(au,"sides",0,(0,T7.getNumberValidator)());var S0={};Object.defineProperty(S0,"__esModule",{value:!0});S0.Ring=void 0;const C7=Ut,XD=ln,A7=bt,qD=xt,hv=Math.PI*2;class lu extends XD.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,hv,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),hv,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}S0.Ring=lu;lu.prototype.className="Ring";lu.prototype._centroid=!0;lu.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,qD._registerNode)(lu);C7.Factory.addGetterSetter(lu,"innerRadius",0,(0,A7.getNumberValidator)());C7.Factory.addGetterSetter(lu,"outerRadius",0,(0,A7.getNumberValidator)());var _0={};Object.defineProperty(_0,"__esModule",{value:!0});_0.Sprite=void 0;const iu=Ut,KD=ln,QD=Pr,x7=bt,kD=xt;class fl extends KD.Shape{constructor(t){super(t),this._updated=!0,this.anim=new QD.Animation(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(t){const n=this.animation(),a=this.frameIndex(),l=a*4,u=this.animations()[n],r=this.frameOffsets(),o=u[l+0],f=u[l+1],g=u[l+2],m=u[l+3],b=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,g,m),t.closePath(),t.fillStrokeShape(this)),b)if(r){const v=r[n],p=a*2;t.drawImage(b,o,f,g,m,v[p+0],v[p+1],g,m)}else t.drawImage(b,o,f,g,m,0,0,g,m)}_hitFunc(t){const n=this.animation(),a=this.frameIndex(),l=a*4,u=this.animations()[n],r=this.frameOffsets(),o=u[l+2],f=u[l+3];if(t.beginPath(),r){const g=r[n],m=a*2;t.rect(g[m+0],g[m+1],o,f)}else t.rect(0,0,o,f);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const t=this.frameIndex(),n=this.animation(),a=this.animations(),l=a[n],u=l.length/4;t<u-1?this.frameIndex(t+1):this.frameIndex(0)}}_0.Sprite=fl;fl.prototype.className="Sprite";(0,kD._registerNode)(fl);iu.Factory.addGetterSetter(fl,"animation");iu.Factory.addGetterSetter(fl,"animations");iu.Factory.addGetterSetter(fl,"frameOffsets");iu.Factory.addGetterSetter(fl,"image");iu.Factory.addGetterSetter(fl,"frameIndex",0,(0,x7.getNumberValidator)());iu.Factory.addGetterSetter(fl,"frameRate",17,(0,x7.getNumberValidator)());iu.Factory.backCompat(fl,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var b0={};Object.defineProperty(b0,"__esModule",{value:!0});b0.Star=void 0;const fy=Ut,ZD=ln,hy=bt,FD=xt;class as extends ZD.Shape{_sceneFunc(t){const n=this.innerRadius(),a=this.outerRadius(),l=this.numPoints();t.beginPath(),t.moveTo(0,0-a);for(let u=1;u<l*2;u++){const r=u%2===0?a:n,o=r*Math.sin(u*Math.PI/l),f=-1*r*Math.cos(u*Math.PI/l);t.lineTo(o,f)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}b0.Star=as;as.prototype.className="Star";as.prototype._centroid=!0;as.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,FD._registerNode)(as);fy.Factory.addGetterSetter(as,"numPoints",5,(0,hy.getNumberValidator)());fy.Factory.addGetterSetter(as,"innerRadius",0,(0,hy.getNumberValidator)());fy.Factory.addGetterSetter(as,"outerRadius",0,(0,hy.getNumberValidator)());var tc={};Object.defineProperty(tc,"__esModule",{value:!0});tc.Text=void 0;tc.stringToArray=Ns;const Qm=De,zn=Ut,JD=ln,b2=xt,ls=bt,WD=xt;function Ns(e){return[...e].reduce((t,n,a,l)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const u=l[a+1];u&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(u)?(t.push(n+u),l[a+1]=""):t.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(l[a+1]||""))?t.push(n+l[a+1]):a>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?t[t.length-1]+=n:n&&t.push(n);return t},[])}const Xu="auto",PD="center",D7="inherit",jc="justify",ID="Change.konva",$D="2d",dv="-",M7="left",tM="text",eM="Text",nM="top",aM="bottom",gv="middle",N7="normal",lM="px ",bh=" ",iM="right",mv="rtl",sM="word",uM="char",pv="none",E2="…",O7=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],rM=O7.length;function cM(e){return e.split(",").map(t=>{t=t.trim();const n=t.indexOf(" ")>=0,a=t.indexOf('"')>=0||t.indexOf("'")>=0;return n&&!a&&(t=`"${t}"`),t}).join(", ")}let Eh;function T2(){return Eh||(Eh=Qm.Util.createCanvasElement().getContext($D),Eh)}function oM(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)}function fM(e){e.setAttr("miterLimit",2),e.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function hM(e){return e=e||{},!e.fillLinearGradientColorStops&&!e.fillRadialGradientColorStops&&!e.fillPatternImage&&(e.fill=e.fill||"black"),e}let ze=class extends JD.Shape{constructor(t){super(hM(t)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<rM;n++)this.on(O7[n]+ID,this._setTextData);this._setTextData()}_sceneFunc(t){const n=this.textArr,a=n.length;if(!this.text())return;let l=this.padding(),u=this.fontSize(),r=this.lineHeight()*u,o=this.verticalAlign(),f=this.direction(),g=0,m=this.align(),b=this.getWidth(),v=this.letterSpacing(),p=this.fill(),_=this.textDecoration(),A=_.indexOf("underline")!==-1,x=_.indexOf("line-through")!==-1,C;f=f===D7?t.direction:f;let T=r/2,S=gv;if(b2.Konva._fixTextRendering){const E=this.measureSize("M");S="alphabetic",T=(E.fontBoundingBoxAscent-E.fontBoundingBoxDescent)/2+r/2}for(f===mv&&t.setAttr("direction",f),t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",S),t.setAttr("textAlign",M7),o===gv?g=(this.getHeight()-a*r-l*2)/2:o===aM&&(g=this.getHeight()-a*r-l*2),t.translate(l,g+l),C=0;C<a;C++){let E=0,M=0;const O=n[C],w=O.text,N=O.width,Y=O.lastInParagraph;if(t.save(),m===iM?E+=b-N-l*2:m===PD&&(E+=(b-N-l*2)/2),A){t.save(),t.beginPath();const z=b2.Konva._fixTextRendering?Math.round(u/4):Math.round(u/2),j=E,q=T+M+z;t.moveTo(j,q);const I=m===jc&&!Y?b-l*2:N;t.lineTo(j+Math.round(I),q),t.lineWidth=u/15;const ut=this._getLinearGradient();t.strokeStyle=ut||p,t.stroke(),t.restore()}if(x){t.save(),t.beginPath();const z=b2.Konva._fixTextRendering?-Math.round(u/4):0;t.moveTo(E,T+M+z);const j=m===jc&&!Y?b-l*2:N;t.lineTo(E+Math.round(j),T+M+z),t.lineWidth=u/15;const q=this._getLinearGradient();t.strokeStyle=q||p,t.stroke(),t.restore()}if(f!==mv&&(v!==0||m===jc)){const z=w.split(" ").length-1,j=Ns(w);for(let q=0;q<j.length;q++){const I=j[q];I===" "&&!Y&&m===jc&&(E+=(b-l*2-N)/z),this._partialTextX=E,this._partialTextY=T+M,this._partialText=I,t.fillStrokeShape(this),E+=this.measureSize(I).width+v}}else v!==0&&t.setAttr("letterSpacing",`${v}px`),this._partialTextX=E,this._partialTextY=T+M,this._partialText=w,t.fillStrokeShape(this);t.restore(),a>1&&(T+=r)}}_hitFunc(t){const n=this.getWidth(),a=this.getHeight();t.beginPath(),t.rect(0,0,n,a),t.closePath(),t.fillStrokeShape(this)}setText(t){const n=Qm.Util._isString(t)?t:t==null?"":t+"";return this._setAttr(tM,n),this}getWidth(){return this.attrs.width===Xu||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Xu||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Qm.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var n,a,l,u,r,o,f,g,m,b,v;let p=T2(),_=this.fontSize(),A;p.save(),p.font=this._getContextFont(),A=p.measureText(t),p.restore();const x=_/100;return{actualBoundingBoxAscent:(n=A.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*x,actualBoundingBoxDescent:(a=A.actualBoundingBoxDescent)!==null&&a!==void 0?a:0,actualBoundingBoxLeft:(l=A.actualBoundingBoxLeft)!==null&&l!==void 0?l:-7.421875*x,actualBoundingBoxRight:(u=A.actualBoundingBoxRight)!==null&&u!==void 0?u:75.732421875*x,alphabeticBaseline:(r=A.alphabeticBaseline)!==null&&r!==void 0?r:0,emHeightAscent:(o=A.emHeightAscent)!==null&&o!==void 0?o:100*x,emHeightDescent:(f=A.emHeightDescent)!==null&&f!==void 0?f:-20*x,fontBoundingBoxAscent:(g=A.fontBoundingBoxAscent)!==null&&g!==void 0?g:91*x,fontBoundingBoxDescent:(m=A.fontBoundingBoxDescent)!==null&&m!==void 0?m:21*x,hangingBaseline:(b=A.hangingBaseline)!==null&&b!==void 0?b:72.80000305175781*x,ideographicBaseline:(v=A.ideographicBaseline)!==null&&v!==void 0?v:-21*x,width:A.width,height:_}}_getContextFont(){return this.fontStyle()+bh+this.fontVariant()+bh+(this.fontSize()+lM)+cM(this.fontFamily())}_addTextLine(t){this.align()===jc&&(t=t.trim());const a=this._getTextWidth(t);return this.textArr.push({text:t,width:a,lastInParagraph:!1})}_getTextWidth(t){const n=this.letterSpacing(),a=t.length;return T2().measureText(t).width+n*a}_setTextData(){let t=this.text().split(`
`),n=+this.fontSize(),a=0,l=this.lineHeight()*n,u=this.attrs.width,r=this.attrs.height,o=u!==Xu&&u!==void 0,f=r!==Xu&&r!==void 0,g=this.padding(),m=u-g*2,b=r-g*2,v=0,p=this.wrap(),_=p!==pv,A=p!==uM&&_,x=this.ellipsis();this.textArr=[],T2().font=this._getContextFont();const C=x?this._getTextWidth(E2):0;for(let T=0,S=t.length;T<S;++T){let E=t[T],M=this._getTextWidth(E);if(o&&M>m)for(;E.length>0;){let O=0,w=Ns(E).length,N="",Y=0;for(;O<w;){const z=O+w>>>1,j=Ns(E),q=j.slice(0,z+1).join(""),I=this._getTextWidth(q);(x&&f&&v+l>b?I+C:I)<=m?(O=z+1,N=q,Y=I):w=z}if(N){if(A){const q=Ns(E),I=Ns(N),ut=q[I.length],at=ut===bh||ut===dv;let Q;if(at&&Y<=m)Q=I.length;else{const $=I.lastIndexOf(bh),X=I.lastIndexOf(dv);Q=Math.max($,X)+1}Q>0&&(O=Q,N=q.slice(0,O).join(""),Y=this._getTextWidth(N))}if(N=N.trimRight(),this._addTextLine(N),a=Math.max(a,Y),v+=l,this._shouldHandleEllipsis(v)){this._tryToAddEllipsisToLastLine();break}if(E=Ns(E).slice(O).join("").trimLeft(),E.length>0&&(M=this._getTextWidth(E),M<=m)){this._addTextLine(E),v+=l,a=Math.max(a,M);break}}else break}else this._addTextLine(E),v+=l,a=Math.max(a,M),this._shouldHandleEllipsis(v)&&T<S-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),f&&v+l>b)break}this.textHeight=n,this.textWidth=a}_shouldHandleEllipsis(t){const n=+this.fontSize(),a=this.lineHeight()*n,l=this.attrs.height,u=l!==Xu&&l!==void 0,r=this.padding(),o=l-r*2;return!(this.wrap()!==pv)||u&&t+a>o}_tryToAddEllipsisToLastLine(){const t=this.attrs.width,n=t!==Xu&&t!==void 0,a=this.padding(),l=t-a*2,u=this.ellipsis(),r=this.textArr[this.textArr.length-1];!r||!u||(n&&(this._getTextWidth(r.text+E2)<l||(r.text=r.text.slice(0,r.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(r.text+E2))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const t=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return t&&n?!0:super._useBufferCanvas()}};tc.Text=ze;ze.prototype._fillFunc=oM;ze.prototype._strokeFunc=fM;ze.prototype.className=eM;ze.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,WD._registerNode)(ze);zn.Factory.overWriteSetter(ze,"width",(0,ls.getNumberOrAutoValidator)());zn.Factory.overWriteSetter(ze,"height",(0,ls.getNumberOrAutoValidator)());zn.Factory.addGetterSetter(ze,"direction",D7);zn.Factory.addGetterSetter(ze,"fontFamily","Arial");zn.Factory.addGetterSetter(ze,"fontSize",12,(0,ls.getNumberValidator)());zn.Factory.addGetterSetter(ze,"fontStyle",N7);zn.Factory.addGetterSetter(ze,"fontVariant",N7);zn.Factory.addGetterSetter(ze,"padding",0,(0,ls.getNumberValidator)());zn.Factory.addGetterSetter(ze,"align",M7);zn.Factory.addGetterSetter(ze,"verticalAlign",nM);zn.Factory.addGetterSetter(ze,"lineHeight",1,(0,ls.getNumberValidator)());zn.Factory.addGetterSetter(ze,"wrap",sM);zn.Factory.addGetterSetter(ze,"ellipsis",!1,(0,ls.getBooleanValidator)());zn.Factory.addGetterSetter(ze,"letterSpacing",0,(0,ls.getNumberValidator)());zn.Factory.addGetterSetter(ze,"text","",(0,ls.getStringValidator)());zn.Factory.addGetterSetter(ze,"textDecoration","");var E0={};Object.defineProperty(E0,"__esModule",{value:!0});E0.TextPath=void 0;const C2=De,Qa=Ut,dM=ln,Xc=Ir,A2=tc,R7=bt,gM=xt,mM="",U7="normal";function z7(e){e.fillText(this.partialText,0,0)}function w7(e){e.strokeText(this.partialText,0,0)}class sn extends dM.Shape{constructor(t){super(t),this.dummyCanvas=C2.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Xc.Path.getPathLength(this.dataArray)}_getPointAtLength(t){if(!this.attrs.data)return null;const n=this.pathLength;return t-1>n?null:Xc.Path.getPointAtLengthOfDataArray(t,this.dataArray)}_readDataAttribute(){this.dataArray=Xc.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();const n=this.textDecoration(),a=this.fill(),l=this.fontSize(),u=this.glyphInfo;n==="underline"&&t.beginPath();for(let r=0;r<u.length;r++){t.save();const o=u[r].p0;t.translate(o.x,o.y),t.rotate(u[r].rotation),this.partialText=u[r].text,t.fillStrokeShape(this),n==="underline"&&(r===0&&t.moveTo(0,l/2+1),t.lineTo(l,l/2+1)),t.restore()}n==="underline"&&(t.strokeStyle=a,t.lineWidth=l/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();const n=this.glyphInfo;if(n.length>=1){const a=n[0].p0;t.moveTo(a.x,a.y)}for(let a=0;a<n.length;a++){const l=n[a].p1;t.lineTo(l.x,l.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return C2.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return A2.Text.prototype.setText.call(this,t)}_getContextFont(){return A2.Text.prototype._getContextFont.call(this)}_getTextSize(t){const a=this.dummyCanvas.getContext("2d");a.save(),a.font=this._getContextFont();const l=a.measureText(t);return a.restore(),{width:l.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:t,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=t,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;const a=this.letterSpacing(),l=this.align(),u=this.kerningFunc(),r=Math.max(this.textWidth+((this.attrs.text||"").length-1)*a,0);let o=0;l==="center"&&(o=Math.max(0,this.pathLength/2-r/2)),l==="right"&&(o=Math.max(0,this.pathLength-r));const f=(0,A2.stringToArray)(this.text());let g=o;for(let m=0;m<f.length;m++){const b=this._getPointAtLength(g);if(!b)return;let v=this._getTextSize(f[m]).width+a;if(f[m]===" "&&l==="justify"){const T=this.text().split(" ").length-1;v+=(this.pathLength-r)/T}const p=this._getPointAtLength(g+v);if(!p)return;const _=Xc.Path.getLineLength(b.x,b.y,p.x,p.y);let A=0;if(u)try{A=u(f[m-1],f[m])*this.fontSize()}catch{A=0}b.x+=A,p.x+=A,this.textWidth+=A;const x=Xc.Path.getPointOnLine(A+_/2,b.x,b.y,p.x,p.y),C=Math.atan2(p.y-b.y,p.x-b.x);this.glyphInfo.push({transposeX:x.x,transposeY:x.y,text:f[m],rotation:C,p0:b,p1:p}),g+=v}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const t=[];this.glyphInfo.forEach(function(g){t.push(g.p0.x),t.push(g.p0.y),t.push(g.p1.x),t.push(g.p1.y)});let n=t[0]||0,a=t[0]||0,l=t[1]||0,u=t[1]||0,r,o;for(let g=0;g<t.length/2;g++)r=t[g*2],o=t[g*2+1],n=Math.min(n,r),a=Math.max(a,r),l=Math.min(l,o),u=Math.max(u,o);const f=this.fontSize();return{x:n-f/2,y:l-f/2,width:a-n+f,height:u-l+f}}destroy(){return C2.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}E0.TextPath=sn;sn.prototype._fillFunc=z7;sn.prototype._strokeFunc=w7;sn.prototype._fillFuncHit=z7;sn.prototype._strokeFuncHit=w7;sn.prototype.className="TextPath";sn.prototype._attrsAffectingSize=["text","fontSize","data"];(0,gM._registerNode)(sn);Qa.Factory.addGetterSetter(sn,"data");Qa.Factory.addGetterSetter(sn,"fontFamily","Arial");Qa.Factory.addGetterSetter(sn,"fontSize",12,(0,R7.getNumberValidator)());Qa.Factory.addGetterSetter(sn,"fontStyle",U7);Qa.Factory.addGetterSetter(sn,"align","left");Qa.Factory.addGetterSetter(sn,"letterSpacing",0,(0,R7.getNumberValidator)());Qa.Factory.addGetterSetter(sn,"textBaseline","middle");Qa.Factory.addGetterSetter(sn,"fontVariant",U7);Qa.Factory.addGetterSetter(sn,"text",mM);Qa.Factory.addGetterSetter(sn,"textDecoration","");Qa.Factory.addGetterSetter(sn,"kerningFunc",void 0);var T0={};Object.defineProperty(T0,"__esModule",{value:!0});T0.Transformer=void 0;const ie=De,Pt=Ut,yv=be,pM=ln,yM=af,vv=Wr,Va=xt,is=bt,vM=xt,G7="tr-konva",SM=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(e=>e+`.${G7}`).join(" "),Sv="nodesRect",_M=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],bM={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},EM="ontouchstart"in Va.Konva._global;function TM(e,t,n){if(e==="rotater")return n;t+=ie.Util.degToRad(bM[e]||0);const a=(ie.Util.radToDeg(t)%360+360)%360;return ie.Util._inRange(a,315+22.5,360)||ie.Util._inRange(a,0,22.5)?"ns-resize":ie.Util._inRange(a,45-22.5,45+22.5)?"nesw-resize":ie.Util._inRange(a,90-22.5,90+22.5)?"ew-resize":ie.Util._inRange(a,135-22.5,135+22.5)?"nwse-resize":ie.Util._inRange(a,180-22.5,180+22.5)?"ns-resize":ie.Util._inRange(a,225-22.5,225+22.5)?"nesw-resize":ie.Util._inRange(a,270-22.5,270+22.5)?"ew-resize":ie.Util._inRange(a,315-22.5,315+22.5)?"nwse-resize":(ie.Util.error("Transformer has unknown angle for cursor detection: "+a),"pointer")}const Cd=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function CM(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}function H7(e,t,n){const a=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),l=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return{...e,rotation:e.rotation+t,x:a,y:l}}function AM(e,t){const n=CM(e);return H7(e,t,n)}function xM(e,t,n){let a=t;for(let l=0;l<e.length;l++){const u=Va.Konva.getAngle(e[l]),r=Math.abs(u-t)%(Math.PI*2);Math.min(r,Math.PI*2-r)<n&&(a=u)}return a}let km=0,Xt=class extends vv.Group{constructor(t){super(t),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(SM,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return ie.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return G7+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach();const n=t.filter(l=>l.isAncestorOf(this)?(ie.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=t=n,t.length===1&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(l=>{const u=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(l._attrsAffectingSize.length){const r=l._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");l.on(r,u)}l.on(_M.map(r=>r+`.${this._getEventNamespace()}`).join(" "),u),l.on(`absoluteTransformChange.${this._getEventNamespace()}`,u),this._proxyDrag(l)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(t){let n;t.on(`dragstart.${this._getEventNamespace()}`,a=>{n=t.getAbsolutePosition(),!this.isDragging()&&t!==this.findOne(".back")&&this.startDrag(a,!1)}),t.on(`dragmove.${this._getEventNamespace()}`,a=>{if(!n)return;const l=t.getAbsolutePosition(),u=l.x-n.x,r=l.y-n.y;this.nodes().forEach(o=>{if(o===t||o.isDragging())return;const f=o.getAbsolutePosition();o.setAbsolutePosition({x:f.x+u,y:f.y+r}),o.startDrag(a)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(t=>{t.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(Sv),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(Sv,this.__getNodeRect)}__getNodeShape(t,n=this.rotation(),a){const l=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),u=t.getAbsoluteScale(a),r=t.getAbsolutePosition(a),o=l.x*u.x-t.offsetX()*u.x,f=l.y*u.y-t.offsetY()*u.y,g=(Va.Konva.getAngle(t.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),m={x:r.x+o*Math.cos(g)+f*Math.sin(-g),y:r.y+f*Math.cos(g)+o*Math.sin(g),width:l.width*u.x,height:l.height*u.y,rotation:g};return H7(m,-Va.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(g=>{const m=g.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),b=[{x:m.x,y:m.y},{x:m.x+m.width,y:m.y},{x:m.x+m.width,y:m.y+m.height},{x:m.x,y:m.y+m.height}],v=g.getAbsoluteTransform();b.forEach(function(p){const _=v.point(p);n.push(_)})});const a=new ie.Transform;a.rotate(-Va.Konva.getAngle(this.rotation()));let l=1/0,u=1/0,r=-1/0,o=-1/0;n.forEach(function(g){const m=a.point(g);l===void 0&&(l=r=m.x,u=o=m.y),l=Math.min(l,m.x),u=Math.min(u,m.y),r=Math.max(r,m.x),o=Math.max(o,m.y)}),a.invert();const f=a.point({x:l,y:u});return{x:f.x,y:f.y,width:r-l,height:o-u,rotation:Va.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Cd.forEach(t=>{this._createAnchor(t)}),this._createAnchor("rotater")}_createAnchor(t){const n=new yM.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:EM?10:"auto"}),a=this;n.on("mousedown touchstart",function(l){a._handleMouseDown(l)}),n.on("dragstart",l=>{n.stopDrag(),l.cancelBubble=!0}),n.on("dragend",l=>{l.cancelBubble=!0}),n.on("mouseenter",()=>{const l=Va.Konva.getAngle(this.rotation()),u=this.rotateAnchorCursor(),r=TM(t,l,u);n.getStage().content&&(n.getStage().content.style.cursor=r),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const t=new pM.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n,a){const l=a.getParent(),u=l.padding();n.beginPath(),n.rect(-u,-u,a.width()+u*2,a.height()+u*2),n.moveTo(a.width()/2,-u),l.rotateEnabled()&&l.rotateLineVisible()&&n.lineTo(a.width()/2,-l.rotateAnchorOffset()*ie.Util._sign(a.height())-u),n.fillStrokeShape(a)},hitFunc:(n,a)=>{if(!this.shouldOverdrawWholeArea())return;const l=this.padding();n.beginPath(),n.rect(-l,-l,a.width()+l*2,a.height()+l*2),n.fillStrokeShape(a)}});this.add(t),this._proxyDrag(t),t.on("dragstart",n=>{n.cancelBubble=!0}),t.on("dragmove",n=>{n.cancelBubble=!0}),t.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(t){if(this._transforming)return;this._movingAnchorName=t.target.name().split(" ")[0];const n=this._getNodeRect(),a=n.width,l=n.height,u=Math.sqrt(Math.pow(a,2)+Math.pow(l,2));this.sin=Math.abs(l/u),this.cos=Math.abs(a/u),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const r=t.target.getAbsolutePosition(),o=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-r.x,y:o.y-r.y},km++,this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach(f=>{f._fire("transformstart",{evt:t.evt,target:f})})}_handleMouseMove(t){let n,a,l;const u=this.findOne("."+this._movingAnchorName),r=u.getStage();r.setPointersPositions(t);const o=r.getPointerPosition();let f={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const g=u.getAbsolutePosition();this.anchorDragBoundFunc()&&(f=this.anchorDragBoundFunc()(g,f,t)),u.setAbsolutePosition(f);const m=u.getAbsolutePosition();if(g.x===m.x&&g.y===m.y)return;if(this._movingAnchorName==="rotater"){const T=this._getNodeRect();n=u.x()-T.width/2,a=-u.y()+T.height/2;let S=Math.atan2(-a,n)+Math.PI/2;T.height<0&&(S-=Math.PI);const M=Va.Konva.getAngle(this.rotation())+S,O=Va.Konva.getAngle(this.rotationSnapTolerance()),N=xM(this.rotationSnaps(),M,O)-T.rotation,Y=AM(T,N);this._fitNodesInto(Y,t);return}const b=this.shiftBehavior();let v;b==="inverted"?v=this.keepRatio()&&!t.shiftKey:b==="none"?v=this.keepRatio():v=this.keepRatio()||t.shiftKey;let p=this.centeredScaling()||t.altKey;if(this._movingAnchorName==="top-left"){if(v){const T=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};l=Math.sqrt(Math.pow(T.x-u.x(),2)+Math.pow(T.y-u.y(),2));const S=this.findOne(".top-left").x()>T.x?-1:1,E=this.findOne(".top-left").y()>T.y?-1:1;n=l*this.cos*S,a=l*this.sin*E,this.findOne(".top-left").x(T.x-n),this.findOne(".top-left").y(T.y-a)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(u.y());else if(this._movingAnchorName==="top-right"){if(v){const T=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};l=Math.sqrt(Math.pow(u.x()-T.x,2)+Math.pow(T.y-u.y(),2));const S=this.findOne(".top-right").x()<T.x?-1:1,E=this.findOne(".top-right").y()>T.y?-1:1;n=l*this.cos*S,a=l*this.sin*E,this.findOne(".top-right").x(T.x+n),this.findOne(".top-right").y(T.y-a)}var _=u.position();this.findOne(".top-left").y(_.y),this.findOne(".bottom-right").x(_.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(u.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(u.x());else if(this._movingAnchorName==="bottom-left"){if(v){const T=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};l=Math.sqrt(Math.pow(T.x-u.x(),2)+Math.pow(u.y()-T.y,2));const S=T.x<u.x()?-1:1,E=u.y()<T.y?-1:1;n=l*this.cos*S,a=l*this.sin*E,u.x(T.x-n),u.y(T.y+a)}_=u.position(),this.findOne(".top-left").x(_.x),this.findOne(".bottom-right").y(_.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(u.y());else if(this._movingAnchorName==="bottom-right"){if(v){const T=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};l=Math.sqrt(Math.pow(u.x()-T.x,2)+Math.pow(u.y()-T.y,2));const S=this.findOne(".bottom-right").x()<T.x?-1:1,E=this.findOne(".bottom-right").y()<T.y?-1:1;n=l*this.cos*S,a=l*this.sin*E,this.findOne(".bottom-right").x(T.x+n),this.findOne(".bottom-right").y(T.y+a)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(p=this.centeredScaling()||t.altKey,p){const T=this.findOne(".top-left"),S=this.findOne(".bottom-right"),E=T.x(),M=T.y(),O=this.getWidth()-S.x(),w=this.getHeight()-S.y();S.move({x:-E,y:-M}),T.move({x:O,y:w})}const A=this.findOne(".top-left").getAbsolutePosition();n=A.x,a=A.y;const x=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),C=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:a,width:x,height:C,rotation:Va.Konva.getAngle(this.rotation())},t)}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const a=this.getNode();km--,this._fire("transformend",{evt:t,target:a}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),a&&this._nodes.forEach(l=>{var u;l._fire("transformend",{evt:t,target:l}),(u=l.getLayer())===null||u===void 0||u.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(t,n){const a=this._getNodeRect(),l=1;if(ie.Util._inRange(t.width,-this.padding()*2-l,l)){this.update();return}if(ie.Util._inRange(t.height,-this.padding()*2-l,l)){this.update();return}const u=new ie.Transform;if(u.rotate(Va.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const v=u.point({x:-this.padding()*2,y:0});t.x+=v.x,t.y+=v.y,t.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const v=u.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y,t.width+=this.padding()*2}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const v=u.point({x:0,y:-this.padding()*2});t.x+=v.x,t.y+=v.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y,t.height+=this.padding()*2}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const v=u.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y,t.height+=this.padding()*2}if(this.boundBoxFunc()){const v=this.boundBoxFunc()(a,t);v?t=v:ie.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const r=1e7,o=new ie.Transform;o.translate(a.x,a.y),o.rotate(a.rotation),o.scale(a.width/r,a.height/r);const f=new ie.Transform,g=t.width/r,m=t.height/r;this.flipEnabled()===!1?(f.translate(t.x,t.y),f.rotate(t.rotation),f.translate(t.width<0?t.width:0,t.height<0?t.height:0),f.scale(Math.abs(g),Math.abs(m))):(f.translate(t.x,t.y),f.rotate(t.rotation),f.scale(g,m));const b=f.multiply(o.invert());this._nodes.forEach(v=>{var p;const _=v.getParent().getAbsoluteTransform(),A=v.getTransform().copy();A.translate(v.offsetX(),v.offsetY());const x=new ie.Transform;x.multiply(_.copy().invert()).multiply(b).multiply(_).multiply(A);const C=x.decompose();v.setAttrs(C),(p=v.getLayer())===null||p===void 0||p.batchDraw()}),this.rotation(ie.Util._getRotation(t.rotation)),this._nodes.forEach(v=>{this._fire("transform",{evt:n,target:v}),v._fire("transform",{evt:n,target:v})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,n){this.findOne(t).setAttrs(n)}update(){var t;const n=this._getNodeRect();this.rotation(ie.Util._getRotation(n.rotation));const a=n.width,l=n.height,u=this.enabledAnchors(),r=this.resizeEnabled(),o=this.padding(),f=this.anchorSize(),g=this.find("._anchor");g.forEach(b=>{b.setAttrs({width:f,height:f,offsetX:f/2,offsetY:f/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:f/2+o,offsetY:f/2+o,visible:r&&u.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:a/2,y:0,offsetY:f/2+o,visible:r&&u.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:a,y:0,offsetX:f/2-o,offsetY:f/2+o,visible:r&&u.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:l/2,offsetX:f/2+o,visible:r&&u.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:a,y:l/2,offsetX:f/2-o,visible:r&&u.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:l,offsetX:f/2+o,offsetY:f/2-o,visible:r&&u.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:a/2,y:l,offsetY:f/2-o,visible:r&&u.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:a,y:l,offsetX:f/2-o,offsetY:f/2-o,visible:r&&u.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:a/2,y:-this.rotateAnchorOffset()*ie.Util._sign(l)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:a,height:l,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const m=this.anchorStyleFunc();m&&g.forEach(b=>{m(b)}),(t=this.getLayer())===null||t===void 0||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),vv.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return yv.Node.prototype.toObject.call(this)}clone(t){return yv.Node.prototype.clone.call(this,t)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};T0.Transformer=Xt;Xt.isTransforming=()=>km>0;function DM(e){return e instanceof Array||ie.Util.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach(function(t){Cd.indexOf(t)===-1&&ie.Util.warn("Unknown anchor name: "+t+". Available names are: "+Cd.join(", "))}),e||[]}Xt.prototype.className="Transformer";(0,vM._registerNode)(Xt);Pt.Factory.addGetterSetter(Xt,"enabledAnchors",Cd,DM);Pt.Factory.addGetterSetter(Xt,"flipEnabled",!0,(0,is.getBooleanValidator)());Pt.Factory.addGetterSetter(Xt,"resizeEnabled",!0);Pt.Factory.addGetterSetter(Xt,"anchorSize",10,(0,is.getNumberValidator)());Pt.Factory.addGetterSetter(Xt,"rotateEnabled",!0);Pt.Factory.addGetterSetter(Xt,"rotateLineVisible",!0);Pt.Factory.addGetterSetter(Xt,"rotationSnaps",[]);Pt.Factory.addGetterSetter(Xt,"rotateAnchorOffset",50,(0,is.getNumberValidator)());Pt.Factory.addGetterSetter(Xt,"rotateAnchorCursor","crosshair");Pt.Factory.addGetterSetter(Xt,"rotationSnapTolerance",5,(0,is.getNumberValidator)());Pt.Factory.addGetterSetter(Xt,"borderEnabled",!0);Pt.Factory.addGetterSetter(Xt,"anchorStroke","rgb(0, 161, 255)");Pt.Factory.addGetterSetter(Xt,"anchorStrokeWidth",1,(0,is.getNumberValidator)());Pt.Factory.addGetterSetter(Xt,"anchorFill","white");Pt.Factory.addGetterSetter(Xt,"anchorCornerRadius",0,(0,is.getNumberValidator)());Pt.Factory.addGetterSetter(Xt,"borderStroke","rgb(0, 161, 255)");Pt.Factory.addGetterSetter(Xt,"borderStrokeWidth",1,(0,is.getNumberValidator)());Pt.Factory.addGetterSetter(Xt,"borderDash");Pt.Factory.addGetterSetter(Xt,"keepRatio",!0);Pt.Factory.addGetterSetter(Xt,"shiftBehavior","default");Pt.Factory.addGetterSetter(Xt,"centeredScaling",!1);Pt.Factory.addGetterSetter(Xt,"ignoreStroke",!1);Pt.Factory.addGetterSetter(Xt,"padding",0,(0,is.getNumberValidator)());Pt.Factory.addGetterSetter(Xt,"nodes");Pt.Factory.addGetterSetter(Xt,"node");Pt.Factory.addGetterSetter(Xt,"boundBoxFunc");Pt.Factory.addGetterSetter(Xt,"anchorDragBoundFunc");Pt.Factory.addGetterSetter(Xt,"anchorStyleFunc");Pt.Factory.addGetterSetter(Xt,"shouldOverdrawWholeArea",!1);Pt.Factory.addGetterSetter(Xt,"useSingleNodeRotation",!0);Pt.Factory.backCompat(Xt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var C0={};Object.defineProperty(C0,"__esModule",{value:!0});C0.Wedge=void 0;const A0=Ut,MM=ln,NM=xt,B7=bt,OM=xt;class Wl extends MM.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,NM.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}C0.Wedge=Wl;Wl.prototype.className="Wedge";Wl.prototype._centroid=!0;Wl.prototype._attrsAffectingSize=["radius"];(0,OM._registerNode)(Wl);A0.Factory.addGetterSetter(Wl,"radius",0,(0,B7.getNumberValidator)());A0.Factory.addGetterSetter(Wl,"angle",0,(0,B7.getNumberValidator)());A0.Factory.addGetterSetter(Wl,"clockwise",!1);A0.Factory.backCompat(Wl,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var x0={};Object.defineProperty(x0,"__esModule",{value:!0});x0.Blur=void 0;const _v=Ut,RM=be,UM=bt;function bv(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const zM=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],wM=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function GM(e,t){const n=e.data,a=e.width,l=e.height;let u,r,o,f,g,m,b,v,p,_,A,x,C,T,S,E,M,O,w,N;const Y=t+t+1,z=a-1,j=l-1,q=t+1,I=q*(q+1)/2,ut=new bv,at=zM[t],Q=wM[t];let $=null,X=ut,et=null,rt=null;for(let ot=1;ot<Y;ot++)X=X.next=new bv,ot===q&&($=X);X.next=ut,o=r=0;for(let ot=0;ot<l;ot++){x=C=T=S=f=g=m=b=0,v=q*(E=n[r]),p=q*(M=n[r+1]),_=q*(O=n[r+2]),A=q*(w=n[r+3]),f+=I*E,g+=I*M,m+=I*O,b+=I*w,X=ut;for(let Et=0;Et<q;Et++)X.r=E,X.g=M,X.b=O,X.a=w,X=X.next;for(let Et=1;Et<q;Et++)u=r+((z<Et?z:Et)<<2),f+=(X.r=E=n[u])*(N=q-Et),g+=(X.g=M=n[u+1])*N,m+=(X.b=O=n[u+2])*N,b+=(X.a=w=n[u+3])*N,x+=E,C+=M,T+=O,S+=w,X=X.next;et=ut,rt=$;for(let Et=0;Et<a;Et++)n[r+3]=w=b*at>>Q,w!==0?(w=255/w,n[r]=(f*at>>Q)*w,n[r+1]=(g*at>>Q)*w,n[r+2]=(m*at>>Q)*w):n[r]=n[r+1]=n[r+2]=0,f-=v,g-=p,m-=_,b-=A,v-=et.r,p-=et.g,_-=et.b,A-=et.a,u=o+((u=Et+t+1)<z?u:z)<<2,x+=et.r=n[u],C+=et.g=n[u+1],T+=et.b=n[u+2],S+=et.a=n[u+3],f+=x,g+=C,m+=T,b+=S,et=et.next,v+=E=rt.r,p+=M=rt.g,_+=O=rt.b,A+=w=rt.a,x-=E,C-=M,T-=O,S-=w,rt=rt.next,r+=4;o+=a}for(let ot=0;ot<a;ot++){C=T=S=x=g=m=b=f=0,r=ot<<2,v=q*(E=n[r]),p=q*(M=n[r+1]),_=q*(O=n[r+2]),A=q*(w=n[r+3]),f+=I*E,g+=I*M,m+=I*O,b+=I*w,X=ut;for(let Ot=0;Ot<q;Ot++)X.r=E,X.g=M,X.b=O,X.a=w,X=X.next;let Et=a;for(let Ot=1;Ot<=t;Ot++)r=Et+ot<<2,f+=(X.r=E=n[r])*(N=q-Ot),g+=(X.g=M=n[r+1])*N,m+=(X.b=O=n[r+2])*N,b+=(X.a=w=n[r+3])*N,x+=E,C+=M,T+=O,S+=w,X=X.next,Ot<j&&(Et+=a);r=ot,et=ut,rt=$;for(let Ot=0;Ot<l;Ot++)u=r<<2,n[u+3]=w=b*at>>Q,w>0?(w=255/w,n[u]=(f*at>>Q)*w,n[u+1]=(g*at>>Q)*w,n[u+2]=(m*at>>Q)*w):n[u]=n[u+1]=n[u+2]=0,f-=v,g-=p,m-=_,b-=A,v-=et.r,p-=et.g,_-=et.b,A-=et.a,u=ot+((u=Ot+q)<j?u:j)*a<<2,f+=x+=et.r=n[u],g+=C+=et.g=n[u+1],m+=T+=et.b=n[u+2],b+=S+=et.a=n[u+3],et=et.next,v+=E=rt.r,p+=M=rt.g,_+=O=rt.b,A+=w=rt.a,x-=E,C-=M,T-=O,S-=w,rt=rt.next,r+=a}}const HM=function(t){const n=Math.round(this.blurRadius());n>0&&GM(t,n)};x0.Blur=HM;_v.Factory.addGetterSetter(RM.Node,"blurRadius",0,(0,UM.getNumberValidator)(),_v.Factory.afterSetFilter);var D0={};Object.defineProperty(D0,"__esModule",{value:!0});D0.Brighten=void 0;const Ev=Ut,BM=be,LM=bt,YM=function(e){const t=this.brightness()*255,n=e.data,a=n.length;for(let l=0;l<a;l+=4)n[l]+=t,n[l+1]+=t,n[l+2]+=t};D0.Brighten=YM;Ev.Factory.addGetterSetter(BM.Node,"brightness",0,(0,LM.getNumberValidator)(),Ev.Factory.afterSetFilter);var M0={};Object.defineProperty(M0,"__esModule",{value:!0});M0.Contrast=void 0;const Tv=Ut,VM=be,jM=bt,XM=function(e){const t=Math.pow((this.contrast()+100)/100,2),n=e.data,a=n.length;let l=150,u=150,r=150;for(let o=0;o<a;o+=4)l=n[o],u=n[o+1],r=n[o+2],l/=255,l-=.5,l*=t,l+=.5,l*=255,u/=255,u-=.5,u*=t,u+=.5,u*=255,r/=255,r-=.5,r*=t,r+=.5,r*=255,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,r=r<0?0:r>255?255:r,n[o]=l,n[o+1]=u,n[o+2]=r};M0.Contrast=XM;Tv.Factory.addGetterSetter(VM.Node,"contrast",0,(0,jM.getNumberValidator)(),Tv.Factory.afterSetFilter);var N0={};Object.defineProperty(N0,"__esModule",{value:!0});N0.Emboss=void 0;const Zi=Ut,O0=be,qM=De,L7=bt,KM=function(e){const t=this.embossStrength()*10,n=this.embossWhiteLevel()*255,a=this.embossDirection(),l=this.embossBlend(),u=e.data,r=e.width,o=e.height,f=r*4;let g=0,m=0,b=o;switch(a){case"top-left":g=-1,m=-1;break;case"top":g=-1,m=0;break;case"top-right":g=-1,m=1;break;case"right":g=0,m=1;break;case"bottom-right":g=1,m=1;break;case"bottom":g=1,m=0;break;case"bottom-left":g=1,m=-1;break;case"left":g=0,m=-1;break;default:qM.Util.error("Unknown emboss direction: "+a)}do{const v=(b-1)*f;let p=g;b+p<1&&(p=0),b+p>o&&(p=0);const _=(b-1+p)*r*4;let A=r;do{const x=v+(A-1)*4;let C=m;A+C<1&&(C=0),A+C>r&&(C=0);const T=_+(A-1+C)*4,S=u[x]-u[T],E=u[x+1]-u[T+1],M=u[x+2]-u[T+2];let O=S;const w=O>0?O:-O,N=E>0?E:-E,Y=M>0?M:-M;if(N>w&&(O=E),Y>w&&(O=M),O*=t,l){const z=u[x]+O,j=u[x+1]+O,q=u[x+2]+O;u[x]=z>255?255:z<0?0:z,u[x+1]=j>255?255:j<0?0:j,u[x+2]=q>255?255:q<0?0:q}else{let z=n-O;z<0?z=0:z>255&&(z=255),u[x]=u[x+1]=u[x+2]=z}}while(--A)}while(--b)};N0.Emboss=KM;Zi.Factory.addGetterSetter(O0.Node,"embossStrength",.5,(0,L7.getNumberValidator)(),Zi.Factory.afterSetFilter);Zi.Factory.addGetterSetter(O0.Node,"embossWhiteLevel",.5,(0,L7.getNumberValidator)(),Zi.Factory.afterSetFilter);Zi.Factory.addGetterSetter(O0.Node,"embossDirection","top-left",void 0,Zi.Factory.afterSetFilter);Zi.Factory.addGetterSetter(O0.Node,"embossBlend",!1,void 0,Zi.Factory.afterSetFilter);var R0={};Object.defineProperty(R0,"__esModule",{value:!0});R0.Enhance=void 0;const Cv=Ut,QM=be,kM=bt;function x2(e,t,n,a,l){const u=n-t,r=l-a;if(u===0)return a+r/2;if(r===0)return a;let o=(e-t)/u;return o=r*o+a,o}const ZM=function(e){const t=e.data,n=t.length;let a=t[0],l=a,u,r=t[1],o=r,f,g=t[2],m=g,b;const v=this.enhance();if(v===0)return;for(let S=0;S<n;S+=4)u=t[S+0],u<a?a=u:u>l&&(l=u),f=t[S+1],f<r?r=f:f>o&&(o=f),b=t[S+2],b<g?g=b:b>m&&(m=b);l===a&&(l=255,a=0),o===r&&(o=255,r=0),m===g&&(m=255,g=0);let p,_,A,x,C,T;if(v>0)p=l+v*(255-l),_=a-v*(a-0),A=o+v*(255-o),x=r-v*(r-0),C=m+v*(255-m),T=g-v*(g-0);else{const S=(l+a)*.5;p=l+v*(l-S),_=a+v*(a-S);const E=(o+r)*.5;A=o+v*(o-E),x=r+v*(r-E);const M=(m+g)*.5;C=m+v*(m-M),T=g+v*(g-M)}for(let S=0;S<n;S+=4)t[S+0]=x2(t[S+0],a,l,_,p),t[S+1]=x2(t[S+1],r,o,x,A),t[S+2]=x2(t[S+2],g,m,T,C)};R0.Enhance=ZM;Cv.Factory.addGetterSetter(QM.Node,"enhance",0,(0,kM.getNumberValidator)(),Cv.Factory.afterSetFilter);var U0={};Object.defineProperty(U0,"__esModule",{value:!0});U0.Grayscale=void 0;const FM=function(e){const t=e.data,n=t.length;for(let a=0;a<n;a+=4){const l=.34*t[a]+.5*t[a+1]+.16*t[a+2];t[a]=l,t[a+1]=l,t[a+2]=l}};U0.Grayscale=FM;var z0={};Object.defineProperty(z0,"__esModule",{value:!0});z0.HSL=void 0;const wr=Ut,dy=be,gy=bt;wr.Factory.addGetterSetter(dy.Node,"hue",0,(0,gy.getNumberValidator)(),wr.Factory.afterSetFilter);wr.Factory.addGetterSetter(dy.Node,"saturation",0,(0,gy.getNumberValidator)(),wr.Factory.afterSetFilter);wr.Factory.addGetterSetter(dy.Node,"luminance",0,(0,gy.getNumberValidator)(),wr.Factory.afterSetFilter);const JM=function(e){const t=e.data,n=t.length,a=1,l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,r=this.luminance()*127,o=a*l*Math.cos(u*Math.PI/180),f=a*l*Math.sin(u*Math.PI/180),g=.299*a+.701*o+.167*f,m=.587*a-.587*o+.33*f,b=.114*a-.114*o-.497*f,v=.299*a-.299*o-.328*f,p=.587*a+.413*o+.035*f,_=.114*a-.114*o+.293*f,A=.299*a-.3*o+1.25*f,x=.587*a-.586*o-1.05*f,C=.114*a+.886*o-.2*f;let T,S,E,M;for(let O=0;O<n;O+=4)T=t[O+0],S=t[O+1],E=t[O+2],M=t[O+3],t[O+0]=g*T+m*S+b*E+r,t[O+1]=v*T+p*S+_*E+r,t[O+2]=A*T+x*S+C*E+r,t[O+3]=M};z0.HSL=JM;var w0={};Object.defineProperty(w0,"__esModule",{value:!0});w0.HSV=void 0;const Gr=Ut,my=be,py=bt,WM=function(e){const t=e.data,n=t.length,a=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,r=a*l*Math.cos(u*Math.PI/180),o=a*l*Math.sin(u*Math.PI/180),f=.299*a+.701*r+.167*o,g=.587*a-.587*r+.33*o,m=.114*a-.114*r-.497*o,b=.299*a-.299*r-.328*o,v=.587*a+.413*r+.035*o,p=.114*a-.114*r+.293*o,_=.299*a-.3*r+1.25*o,A=.587*a-.586*r-1.05*o,x=.114*a+.886*r-.2*o;for(let C=0;C<n;C+=4){const T=t[C+0],S=t[C+1],E=t[C+2],M=t[C+3];t[C+0]=f*T+g*S+m*E,t[C+1]=b*T+v*S+p*E,t[C+2]=_*T+A*S+x*E,t[C+3]=M}};w0.HSV=WM;Gr.Factory.addGetterSetter(my.Node,"hue",0,(0,py.getNumberValidator)(),Gr.Factory.afterSetFilter);Gr.Factory.addGetterSetter(my.Node,"saturation",0,(0,py.getNumberValidator)(),Gr.Factory.afterSetFilter);Gr.Factory.addGetterSetter(my.Node,"value",0,(0,py.getNumberValidator)(),Gr.Factory.afterSetFilter);var G0={};Object.defineProperty(G0,"__esModule",{value:!0});G0.Invert=void 0;const PM=function(e){const t=e.data,n=t.length;for(let a=0;a<n;a+=4)t[a]=255-t[a],t[a+1]=255-t[a+1],t[a+2]=255-t[a+2]};G0.Invert=PM;var H0={};Object.defineProperty(H0,"__esModule",{value:!0});H0.Kaleidoscope=void 0;const Ad=Ut,Y7=be,Av=De,V7=bt,IM=function(e,t,n){const a=e.data,l=t.data,u=e.width,r=e.height,o=n.polarCenterX||u/2,f=n.polarCenterY||r/2;let g=Math.sqrt(o*o+f*f),m=u-o,b=r-f;const v=Math.sqrt(m*m+b*b);g=v>g?v:g;const p=r,_=u,A=360/_*Math.PI/180;for(let x=0;x<_;x+=1){const C=Math.sin(x*A),T=Math.cos(x*A);for(let S=0;S<p;S+=1){m=Math.floor(o+g*S/p*T),b=Math.floor(f+g*S/p*C);let E=(b*u+m)*4;const M=a[E+0],O=a[E+1],w=a[E+2],N=a[E+3];E=(x+S*u)*4,l[E+0]=M,l[E+1]=O,l[E+2]=w,l[E+3]=N}}},$M=function(e,t,n){const a=e.data,l=t.data,u=e.width,r=e.height,o=n.polarCenterX||u/2,f=n.polarCenterY||r/2;let g=Math.sqrt(o*o+f*f),m=u-o,b=r-f;const v=Math.sqrt(m*m+b*b);g=v>g?v:g;const p=r,_=u,A=0;let x,C;for(m=0;m<u;m+=1)for(b=0;b<r;b+=1){const T=m-o,S=b-f,E=Math.sqrt(T*T+S*S)*p/g;let M=(Math.atan2(S,T)*180/Math.PI+360+A)%360;M=M*_/360,x=Math.floor(M),C=Math.floor(E);let O=(C*u+x)*4;const w=a[O+0],N=a[O+1],Y=a[O+2],z=a[O+3];O=(b*u+m)*4,l[O+0]=w,l[O+1]=N,l[O+2]=Y,l[O+3]=z}},tN=function(e){const t=e.width,n=e.height;let a,l,u,r,o,f,g,m,b,v,p=Math.round(this.kaleidoscopePower());const _=Math.round(this.kaleidoscopeAngle()),A=Math.floor(t*(_%360)/360);if(p<1)return;const x=Av.Util.createCanvasElement();x.width=t,x.height=n;const C=x.getContext("2d").getImageData(0,0,t,n);Av.Util.releaseCanvas(x),IM(e,C,{polarCenterX:t/2,polarCenterY:n/2});let T=t/Math.pow(2,p);for(;T<=8;)T=T*2,p-=1;T=Math.ceil(T);let S=T,E=0,M=S,O=1;for(A+T>t&&(E=S,M=0,O=-1),l=0;l<n;l+=1)for(a=E;a!==M;a+=O)u=Math.round(a+A)%t,b=(t*l+u)*4,o=C.data[b+0],f=C.data[b+1],g=C.data[b+2],m=C.data[b+3],v=(t*l+a)*4,C.data[v+0]=o,C.data[v+1]=f,C.data[v+2]=g,C.data[v+3]=m;for(l=0;l<n;l+=1)for(S=Math.floor(T),r=0;r<p;r+=1){for(a=0;a<S+1;a+=1)b=(t*l+a)*4,o=C.data[b+0],f=C.data[b+1],g=C.data[b+2],m=C.data[b+3],v=(t*l+S*2-a-1)*4,C.data[v+0]=o,C.data[v+1]=f,C.data[v+2]=g,C.data[v+3]=m;S*=2}$M(C,e,{})};H0.Kaleidoscope=tN;Ad.Factory.addGetterSetter(Y7.Node,"kaleidoscopePower",2,(0,V7.getNumberValidator)(),Ad.Factory.afterSetFilter);Ad.Factory.addGetterSetter(Y7.Node,"kaleidoscopeAngle",0,(0,V7.getNumberValidator)(),Ad.Factory.afterSetFilter);var B0={};Object.defineProperty(B0,"__esModule",{value:!0});B0.Mask=void 0;const xv=Ut,eN=be,nN=bt;function Th(e,t,n){let a=(n*e.width+t)*4;const l=[];return l.push(e.data[a++],e.data[a++],e.data[a++],e.data[a++]),l}function qc(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}function aN(e){const t=[0,0,0];for(let n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}function lN(e,t){const n=Th(e,0,0),a=Th(e,e.width-1,0),l=Th(e,0,e.height-1),u=Th(e,e.width-1,e.height-1),r=t||10;if(qc(n,a)<r&&qc(a,u)<r&&qc(u,l)<r&&qc(l,n)<r){const o=aN([a,n,u,l]),f=[];for(let g=0;g<e.width*e.height;g++){const m=qc(o,[e.data[g*4],e.data[g*4+1],e.data[g*4+2]]);f[g]=m<r?0:255}return f}}function iN(e,t){for(let n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}function sN(e,t,n){const a=[1,1,1,1,0,1,1,1,1],l=Math.round(Math.sqrt(a.length)),u=Math.floor(l/2),r=[];for(let o=0;o<n;o++)for(let f=0;f<t;f++){const g=o*t+f;let m=0;for(let b=0;b<l;b++)for(let v=0;v<l;v++){const p=o+b-u,_=f+v-u;if(p>=0&&p<n&&_>=0&&_<t){const A=p*t+_,x=a[b*l+v];m+=e[A]*x}}r[g]=m===255*8?255:0}return r}function uN(e,t,n){const a=[1,1,1,1,1,1,1,1,1],l=Math.round(Math.sqrt(a.length)),u=Math.floor(l/2),r=[];for(let o=0;o<n;o++)for(let f=0;f<t;f++){const g=o*t+f;let m=0;for(let b=0;b<l;b++)for(let v=0;v<l;v++){const p=o+b-u,_=f+v-u;if(p>=0&&p<n&&_>=0&&_<t){const A=p*t+_,x=a[b*l+v];m+=e[A]*x}}r[g]=m>=255*4?255:0}return r}function rN(e,t,n){const a=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],l=Math.round(Math.sqrt(a.length)),u=Math.floor(l/2),r=[];for(let o=0;o<n;o++)for(let f=0;f<t;f++){const g=o*t+f;let m=0;for(let b=0;b<l;b++)for(let v=0;v<l;v++){const p=o+b-u,_=f+v-u;if(p>=0&&p<n&&_>=0&&_<t){const A=p*t+_,x=a[b*l+v];m+=e[A]*x}}r[g]=m}return r}const cN=function(e){const t=this.threshold();let n=lN(e,t);return n&&(n=sN(n,e.width,e.height),n=uN(n,e.width,e.height),n=rN(n,e.width,e.height),iN(e,n)),e};B0.Mask=cN;xv.Factory.addGetterSetter(eN.Node,"threshold",0,(0,nN.getNumberValidator)(),xv.Factory.afterSetFilter);var L0={};Object.defineProperty(L0,"__esModule",{value:!0});L0.Noise=void 0;const Dv=Ut,oN=be,fN=bt,hN=function(e){const t=this.noise()*255,n=e.data,a=n.length,l=t/2;for(let u=0;u<a;u+=4)n[u+0]+=l-2*l*Math.random(),n[u+1]+=l-2*l*Math.random(),n[u+2]+=l-2*l*Math.random()};L0.Noise=hN;Dv.Factory.addGetterSetter(oN.Node,"noise",.2,(0,fN.getNumberValidator)(),Dv.Factory.afterSetFilter);var Y0={};Object.defineProperty(Y0,"__esModule",{value:!0});Y0.Pixelate=void 0;const Mv=Ut,dN=De,gN=be,mN=bt,pN=function(e){let t=Math.ceil(this.pixelSize()),n=e.width,a=e.height,l=Math.ceil(n/t),u=Math.ceil(a/t),r=e.data;if(t<=0){dN.Util.error("pixelSize value can not be <= 0");return}for(let o=0;o<l;o+=1)for(let f=0;f<u;f+=1){let g=0,m=0,b=0,v=0;const p=o*t,_=p+t,A=f*t,x=A+t;let C=0;for(let T=p;T<_;T+=1)if(!(T>=n))for(let S=A;S<x;S+=1){if(S>=a)continue;const E=(n*S+T)*4;g+=r[E+0],m+=r[E+1],b+=r[E+2],v+=r[E+3],C+=1}g=g/C,m=m/C,b=b/C,v=v/C;for(let T=p;T<_;T+=1)if(!(T>=n))for(let S=A;S<x;S+=1){if(S>=a)continue;const E=(n*S+T)*4;r[E+0]=g,r[E+1]=m,r[E+2]=b,r[E+3]=v}}};Y0.Pixelate=pN;Mv.Factory.addGetterSetter(gN.Node,"pixelSize",8,(0,mN.getNumberValidator)(),Mv.Factory.afterSetFilter);var V0={};Object.defineProperty(V0,"__esModule",{value:!0});V0.Posterize=void 0;const Nv=Ut,yN=be,vN=bt,SN=function(e){const t=Math.round(this.levels()*254)+1,n=e.data,a=n.length,l=255/t;for(let u=0;u<a;u+=1)n[u]=Math.floor(n[u]/l)*l};V0.Posterize=SN;Nv.Factory.addGetterSetter(yN.Node,"levels",.5,(0,vN.getNumberValidator)(),Nv.Factory.afterSetFilter);var j0={};Object.defineProperty(j0,"__esModule",{value:!0});j0.RGB=void 0;const xd=Ut,yy=be,_N=bt,bN=function(e){const t=e.data,n=t.length,a=this.red(),l=this.green(),u=this.blue();for(let r=0;r<n;r+=4){const o=(.34*t[r]+.5*t[r+1]+.16*t[r+2])/255;t[r]=o*a,t[r+1]=o*l,t[r+2]=o*u,t[r+3]=t[r+3]}};j0.RGB=bN;xd.Factory.addGetterSetter(yy.Node,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});xd.Factory.addGetterSetter(yy.Node,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});xd.Factory.addGetterSetter(yy.Node,"blue",0,_N.RGBComponent,xd.Factory.afterSetFilter);var X0={};Object.defineProperty(X0,"__esModule",{value:!0});X0.RGBA=void 0;const No=Ut,q0=be,EN=bt,TN=function(e){const t=e.data,n=t.length,a=this.red(),l=this.green(),u=this.blue(),r=this.alpha();for(let o=0;o<n;o+=4){const f=1-r;t[o]=a*r+t[o]*f,t[o+1]=l*r+t[o+1]*f,t[o+2]=u*r+t[o+2]*f}};X0.RGBA=TN;No.Factory.addGetterSetter(q0.Node,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});No.Factory.addGetterSetter(q0.Node,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});No.Factory.addGetterSetter(q0.Node,"blue",0,EN.RGBComponent,No.Factory.afterSetFilter);No.Factory.addGetterSetter(q0.Node,"alpha",1,function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e});var K0={};Object.defineProperty(K0,"__esModule",{value:!0});K0.Sepia=void 0;const CN=function(e){const t=e.data,n=t.length;for(let a=0;a<n;a+=4){const l=t[a+0],u=t[a+1],r=t[a+2];t[a+0]=Math.min(255,l*.393+u*.769+r*.189),t[a+1]=Math.min(255,l*.349+u*.686+r*.168),t[a+2]=Math.min(255,l*.272+u*.534+r*.131)}};K0.Sepia=CN;var Q0={};Object.defineProperty(Q0,"__esModule",{value:!0});Q0.Solarize=void 0;const AN=function(e){const t=e.data,n=e.width,a=e.height,l=n*4;let u=a;do{const r=(u-1)*l;let o=n;do{const f=r+(o-1)*4;let g=t[f],m=t[f+1],b=t[f+2];g>127&&(g=255-g),m>127&&(m=255-m),b>127&&(b=255-b),t[f]=g,t[f+1]=m,t[f+2]=b}while(--o)}while(--u)};Q0.Solarize=AN;var k0={};Object.defineProperty(k0,"__esModule",{value:!0});k0.Threshold=void 0;const Ov=Ut,xN=be,DN=bt,MN=function(e){const t=this.threshold()*255,n=e.data,a=n.length;for(let l=0;l<a;l+=1)n[l]=n[l]<t?0:255};k0.Threshold=MN;Ov.Factory.addGetterSetter(xN.Node,"threshold",.5,(0,DN.getNumberValidator)(),Ov.Factory.afterSetFilter);Object.defineProperty(n0,"__esModule",{value:!0});n0.Konva=void 0;const Rv=Ed,NN=u0,ON=o0,RN=d0,UN=g0,zN=m0,Uv=zr,wN=ef,GN=Ir,HN=af,BN=v0,LN=S0,YN=_0,VN=b0,jN=tc,XN=E0,qN=T0,KN=C0,QN=x0,kN=D0,ZN=M0,FN=N0,JN=R0,WN=U0,PN=z0,IN=w0,$N=G0,tO=H0,eO=B0,nO=L0,aO=Y0,lO=V0,iO=j0,sO=X0,uO=K0,rO=Q0,cO=k0;n0.Konva=Rv.Konva.Util._assign(Rv.Konva,{Arc:NN.Arc,Arrow:ON.Arrow,Circle:RN.Circle,Ellipse:UN.Ellipse,Image:zN.Image,Label:Uv.Label,Tag:Uv.Tag,Line:wN.Line,Path:GN.Path,Rect:HN.Rect,RegularPolygon:BN.RegularPolygon,Ring:LN.Ring,Sprite:YN.Sprite,Star:VN.Star,Text:jN.Text,TextPath:XN.TextPath,Transformer:qN.Transformer,Wedge:KN.Wedge,Filters:{Blur:QN.Blur,Brighten:kN.Brighten,Contrast:ZN.Contrast,Emboss:FN.Emboss,Enhance:JN.Enhance,Grayscale:WN.Grayscale,HSL:PN.HSL,HSV:IN.HSV,Invert:$N.Invert,Kaleidoscope:tO.Kaleidoscope,Mask:eO.Mask,Noise:nO.Noise,Pixelate:aO.Pixelate,Posterize:lO.Posterize,RGB:iO.RGB,RGBA:sO.RGBA,Sepia:uO.Sepia,Solarize:rO.Solarize,Threshold:cO.Threshold}});var oO=s7.exports;Object.defineProperty(oO,"__esModule",{value:!0});const fO=n0;s7.exports=fO.Konva;var Zm={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var n=Ed;Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return n.Konva}});const a=Ed;e.exports=a.Konva})(Zm,Zm.exports);var hO=Zm.exports;const Dd=ap(hO);var j7={exports:{}},X7={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){e.exports=function(t){function n(i,s,c,h){return new Mb(i,s,c,h)}function a(){}function l(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function r(i){if(u(i)!==i)throw Error(l(188))}function o(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(l(188));return s!==i?null:i}for(var c=i,h=s;;){var d=c.return;if(d===null)break;var y=d.alternate;if(y===null){if(h=d.return,h!==null){c=h;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===c)return r(d),i;if(y===h)return r(d),s;y=y.sibling}throw Error(l(188))}if(c.return!==h.return)c=d,h=y;else{for(var D=!1,R=d.child;R;){if(R===c){D=!0,c=d,h=y;break}if(R===h){D=!0,h=d,c=y;break}R=R.sibling}if(!D){for(R=y.child;R;){if(R===c){D=!0,c=y,h=d;break}if(R===h){D=!0,h=y,c=d;break}R=R.sibling}if(!D)throw Error(l(189))}}if(c.alternate!==h)throw Error(l(190))}if(c.tag!==3)throw Error(l(188));return c.stateNode.current===c?i:s}function f(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=f(i),s!==null)return s;i=i.sibling}return null}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(i.tag!==4&&(s=g(i),s!==null))return s;i=i.sibling}return null}function m(i){return i===null||typeof i!="object"?null:(i=F3&&i[F3]||i["@@iterator"],typeof i=="function"?i:null)}function b(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===wb?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case gu:return"Fragment";case ag:return"Profiler";case k3:return"StrictMode";case ig:return"Suspense";case sg:return"SuspenseList";case rg:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case du:return"Portal";case ui:return(i.displayName||"Context")+".Provider";case Z3:return(i._context.displayName||"Context")+".Consumer";case lg:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ug:return s=i.displayName||null,s!==null?s:b(i.type)||"Memo";case ri:s=i._payload,i=i._init;try{return b(i(s))}catch{}}return null}function v(i){return{current:i}}function p(i){0>yu||(i.current=dg[yu],dg[yu]=null,yu--)}function _(i,s){yu++,dg[yu]=i.current,i.current=s}function A(i){return i>>>=0,i===0?32:31-(PE(i)/IE|0)|0}function x(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function C(i,s,c){var h=i.pendingLanes;if(h===0)return 0;var d=0,y=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var R=h&134217727;return R!==0?(h=R&~y,h!==0?d=x(h):(D&=R,D!==0?d=x(D):c||(c=R&~i,c!==0&&(d=x(c))))):(R=h&~y,R!==0?d=x(R):D!==0?d=x(D):c||(c=h&~i,c!==0&&(d=x(c)))),d===0?0:s!==0&&s!==d&&!(s&y)&&(y=d&-d,c=s&-s,y>=c||y===32&&(c&4194048)!==0)?s:d}function T(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function S(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E(){var i=Bf;return Bf<<=1,!(Bf&4194048)&&(Bf=256),i}function M(){var i=Lf;return Lf<<=1,!(Lf&62914560)&&(Lf=4194304),i}function O(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function w(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function N(i,s,c,h,d,y){var D=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var R=i.entanglements,L=i.expirationTimes,F=i.hiddenUpdates;for(c=D&~c;0<c;){var P=31-ea(c),it=1<<P;R[P]=0,L[P]=-1;var ct=F[P];if(ct!==null)for(F[P]=null,P=0;P<ct.length;P++){var At=ct[P];At!==null&&(At.lane&=-536870913)}c&=~it}h!==0&&Y(i,h,0),y!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=y&~(D&~s))}function Y(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-ea(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|c&4194090}function z(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var h=31-ea(c),d=1<<h;d&s|i[h]&s&&(i[h]|=s),c&=~d}}function j(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function q(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function I(i){if(typeof aT=="function"&&lT(i),na&&typeof na.setStrictMode=="function")try{na.setStrictMode(Ec,i)}catch{}}function ut(i){if(pg===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);pg=s&&s[1]||"",S5=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pg+i+S5}function at(i,s){if(!i||yg)return"";yg=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(At){var ct=At}Reflect.construct(i,[],it)}else{try{it.call()}catch(At){ct=At}i.call(it.prototype)}}else{try{throw Error()}catch(At){ct=At}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(At){if(At&&ct&&typeof At.stack=="string")return[At.stack,ct.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),D=y[0],R=y[1];if(D&&R){var L=D.split(`
`),F=R.split(`
`);for(d=h=0;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(h===L.length||d===F.length)for(h=L.length-1,d=F.length-1;1<=h&&0<=d&&L[h]!==F[d];)d--;for(;1<=h&&0<=d;h--,d--)if(L[h]!==F[d]){if(h!==1||d!==1)do if(h--,d--,0>d||L[h]!==F[d]){var P=`
`+L[h].replace(" at new "," at ");return i.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",i.displayName)),P}while(1<=h&&0<=d);break}}}finally{yg=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?ut(c):""}function Q(i){switch(i.tag){case 26:case 27:case 5:return ut(i.type);case 16:return ut("Lazy");case 13:return ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return at(i.type,!1);case 11:return at(i.type.render,!1);case 1:return at(i.type,!0);case 31:return ut("Activity");default:return""}}function $(i){try{var s="";do s+=Q(i),i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function X(i,s){if(typeof i=="object"&&i!==null){var c=_5.get(i);return c!==void 0?c:(s={value:i,source:s,stack:$(s)},_5.set(i,s),s)}return{value:i,source:s,stack:$(s)}}function et(i,s){Su[_u++]=jf,Su[_u++]=Vf,Vf=i,jf=s}function rt(i,s,c){ya[va++]=Sl,ya[va++]=_l,ya[va++]=ms,ms=i;var h=Sl;i=_l;var d=32-ea(h)-1;h&=~(1<<d),c+=1;var y=32-ea(s)+d;if(30<y){var D=d-d%5;y=(h&(1<<D)-1).toString(32),h>>=D,d-=D,Sl=1<<32-ea(s)+d|c<<d|h,_l=y+i}else Sl=1<<y|c<<d|h,_l=i}function ot(i){i.return!==null&&(et(i,1),rt(i,1,0))}function Et(i){for(;i===Vf;)Vf=Su[--_u],Su[_u]=null,jf=Su[--_u],Su[_u]=null;for(;i===ms;)ms=ya[--va],ya[va]=null,_l=ya[--va],ya[va]=null,Sl=ya[--va],ya[va]=null}function Ot(i,s){_(oi,s),_(Tc,i),_(Sn,null),i=Bb(s),p(Sn),_(Sn,i)}function me(){p(Sn),p(Tc),p(oi)}function Qt(i){i.memoizedState!==null&&_(Xf,i);var s=Sn.current,c=Lb(s,i.type);s!==c&&(_(Tc,i),_(Sn,c))}function re(i){Tc.current===i&&(p(Sn),p(Tc)),Xf.current===i&&(p(Xf),yl?gs._currentValue=mu:gs._currentValue2=mu)}function G(i){var s=Error(l(418,""));throw Ee(X(s,i)),vg}function Z(i,s){if(!pa)throw Error(l(175));GE(i.stateNode,i.type,i.memoizedProps,s,i)||G(i)}function ht(i){for(Gn=i.return;Gn;)switch(Gn.tag){case 5:case 13:Fa=!1;return;case 27:case 3:Fa=!0;return;default:Gn=Gn.return}}function Yt(i){if(!pa||i!==Gn)return!1;if(!Ft)return ht(i),Ft=!0,!1;var s=i.tag;if(Fe?s!==3&&s!==27&&(s!==5||u5(i.type)&&!Hf(i.type,i.memoizedProps))&&Je&&G(i):s!==3&&(s!==5||u5(i.type)&&!Hf(i.type,i.memoizedProps))&&Je&&G(i),ht(i),s===13){if(!pa)throw Error(l(316));if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(l(317));Je=LE(i)}else Je=Fe&&s===27?DE(i.type,Je):Gn?s5(i.stateNode):null;return!0}function Rt(){pa&&(Je=Gn=null,Ft=!1)}function It(){var i=ps;return i!==null&&(Kn===null?Kn=i:Kn.push.apply(Kn,i),ps=null),i}function Ee(i){ps===null?ps=[i]:ps.push(i)}function Yn(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}function zt(i,s,c){yl?(_(qf,s._currentValue),s._currentValue=c):(_(qf,s._currentValue2),s._currentValue2=c)}function Ve(i){var s=qf.current;yl?i._currentValue=s:i._currentValue2=s,p(qf)}function yn(i,s,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===c)break;i=i.return}}function nt(i,s,c,h){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var y=d.dependencies;if(y!==null){var D=d.child;y=y.firstContext;t:for(;y!==null;){var R=y;y=d;for(var L=0;L<s.length;L++)if(R.context===s[L]){y.lanes|=c,R=y.alternate,R!==null&&(R.lanes|=c),yn(y.return,c,i),h||(D=null);break t}y=R.next}}else if(d.tag===18){if(D=d.return,D===null)throw Error(l(341));D.lanes|=c,y=D.alternate,y!==null&&(y.lanes|=c),yn(D,c,i),D=null}else D=d.child;if(D!==null)D.return=d;else for(D=d;D!==null;){if(D===i){D=null;break}if(d=D.sibling,d!==null){d.return=D.return,D=d;break}D=D.return}d=D}}function vt(i,s,c,h){i=null;for(var d=s,y=!1;d!==null;){if(!y){if(d.flags&524288)y=!0;else if(d.flags&262144)break}if(d.tag===10){var D=d.alternate;if(D===null)throw Error(l(387));if(D=D.memoizedProps,D!==null){var R=d.type;aa(d.pendingProps.value,D.value)||(i!==null?i.push(R):i=[R])}}else if(d===Xf.current){if(D=d.alternate,D===null)throw Error(l(387));D.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(gs):i=[gs])}d=d.return}i!==null&&nt(s,i,c,h),s.flags|=262144}function ft(i){for(i=i.firstContext;i!==null;){var s=i.context;if(!aa(yl?s._currentValue:s._currentValue2,i.memoizedValue))return!0;i=i.next}return!1}function st(i){ys=i,bl=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function pt(i){return mt(ys,i)}function J(i,s){return ys===null&&st(i),mt(i,s)}function mt(i,s){var c=yl?s._currentValue:s._currentValue2;if(s={context:s,memoizedValue:c,next:null},bl===null){if(i===null)throw Error(l(308));bl=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else bl=bl.next=s;return c}function ic(){return{controller:new iT,data:new Map,refCount:0}}function U(i){i.refCount--,i.refCount===0&&sT(uT,function(){i.controller.abort()})}function lt(i){i!==bu&&i.next===null&&(bu===null?Kf=bu=i:bu=bu.next=i),Qf=!0,Sg||(Sg=!0,sb())}function Te(i,s){if(!_g&&Qf){_g=!0;do for(var c=!1,h=Kf;h!==null;){if(i!==0){var d=h.pendingLanes;if(d===0)var y=0;else{var D=h.suspendedLanes,R=h.pingedLanes;y=(1<<31-ea(42|i)+1)-1,y&=d&~(D&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,ff(h,y))}else y=qt,y=C(h,h===he?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==ds),!(y&3)||T(h,y)||(c=!0,ff(h,y));h=h.next}while(c);_g=!1}}function Ga(){fe()}function fe(){Qf=Sg=!1;var i=0;Eu!==0&&(Zb()&&(i=Eu),Eu=0);for(var s=La(),c=null,h=Kf;h!==null;){var d=h.next,y=Vn(h,s);y===0?(h.next=null,c===null?Kf=d:c.next=d,d===null&&(bu=c)):(c=h,(i!==0||y&3)&&(Qf=!0)),h=d}Te(i)}function Vn(i,s){for(var c=i.suspendedLanes,h=i.pingedLanes,d=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var D=31-ea(y),R=1<<D,L=d[D];L===-1?(!(R&c)||R&h)&&(d[D]=S(R,s)):L<=s&&(i.expiredLanes|=R),y&=~R}if(s=he,c=qt,c=C(i,i===s?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==ds),h=i.callbackNode,c===0||i===s&&(te===2||te===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&gg(h),i.callbackNode=null,i.callbackPriority=0;if(!(c&3)||T(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(h!==null&&gg(h),q(c)){case 2:case 8:c=eT;break;case 32:c=mg;break;case 268435456:c=nT;break;default:c=mg}return h=ma.bind(null,i),c=Yf(c,h),i.callbackPriority=s,i.callbackNode=c,s}return h!==null&&h!==null&&gg(h),i.callbackPriority=2,i.callbackNode=null,2}function ma(i,s){if(_n!==0&&_n!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(vc()&&i.callbackNode!==c)return null;var h=qt;return h=C(i,i===he?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==ds),h===0?null:(E3(i,h,s),Vn(i,La()),i.callbackNode!=null&&i.callbackNode===c?ma.bind(null,i):null)}function ff(i,s){if(vc())return null;E3(i,s,!0)}function sb(){$b?tE(function(){Vt&6?Yf(v5,Ga):fe()}):Yf(v5,Ga)}function n1(){return Eu===0&&(Eu=E()),Eu}function ub(i,s){if(Cc===null){var c=Cc=[];bg=0,Tu=n1(),Cu={status:"pending",value:void 0,then:function(h){c.push(h)}}}return bg++,s.then(Xy,Xy),s}function Xy(){if(--bg===0&&Cc!==null){Cu!==null&&(Cu.status="fulfilled");var i=Cc;Cc=null,Tu=0,Cu=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function rb(i,s){var c=[],h={status:"pending",value:null,reason:null,then:function(d){c.push(d)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var d=0;d<c.length;d++)(0,c[d])(s)},function(d){for(h.status="rejected",h.reason=d,d=0;d<c.length;d++)(0,c[d])(void 0)}),h}function a1(){var i=vs.current;return i!==null?i:he.pooledCache}function hf(i,s){s===null?_(vs,vs.current):_(vs,s.pool)}function qy(){var i=a1();return i===null?null:{parent:yl?Me._currentValue:Me._currentValue2,pool:i}}function df(i,s){if(aa(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),h=Object.keys(s);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var d=c[h];if(!rT.call(s,d)||!aa(i[d],s[d]))return!1}return!0}function Ky(i){return i=i.status,i==="fulfilled"||i==="rejected"}function gf(){}function Qy(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(gf,gf),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Zy(i),i;default:if(typeof s.status=="string")s.then(gf,gf);else{if(i=he,i!==null&&100<i.shellSuspendCounter)throw Error(l(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=h}},function(h){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Zy(i),i}throw Au=s,Ac}}function ky(){if(Au===null)throw Error(l(459));var i=Au;return Au=null,i}function Zy(i){if(i===Ac||i===kf)throw Error(l(483))}function mf(){for(var i=xu,s=Tg=xu=0;s<i;){var c=Sa[s];Sa[s++]=null;var h=Sa[s];Sa[s++]=null;var d=Sa[s];Sa[s++]=null;var y=Sa[s];if(Sa[s++]=null,h!==null&&d!==null){var D=h.pending;D===null?d.next=d:(d.next=D.next,D.next=d),h.pending=d}y!==0&&Fy(c,d,y)}}function pf(i,s,c,h){Sa[xu++]=i,Sa[xu++]=s,Sa[xu++]=c,Sa[xu++]=h,Tg|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function l1(i,s,c,h){return pf(i,s,c,h),yf(i)}function ru(i,s){return pf(i,null,null,s),yf(i)}function Fy(i,s,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var d=!1,y=i.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(d=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,d&&s!==null&&(d=31-ea(c),i=y.hiddenUpdates,h=i[d],h===null?i[d]=[s]:h.push(s),s.lane=c|536870912),y):null}function yf(i){if(50<Rc)throw Rc=0,wg=null,Error(l(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}function i1(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function s1(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function $l(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ti(i,s,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,Vt&2){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,s=yf(i),Fy(i,null,c),s}return pf(i,h,s,c),yf(i)}function sc(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,c|=h,s.lanes=c,z(i,c)}}function u1(i,s){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var d=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var D={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?d=y=D:y=y.next=D,c=c.next}while(c!==null);y===null?d=y=s:y=y.next=s}else d=y=s;c={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}function uc(){if(Cg){var i=Cu;if(i!==null)throw i}}function rc(i,s,c,h){Cg=!1;var d=i.updateQueue;fi=!1;var y=d.firstBaseUpdate,D=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var L=R,F=L.next;L.next=null,D===null?y=F:D.next=F,D=L;var P=i.alternate;P!==null&&(P=P.updateQueue,R=P.lastBaseUpdate,R!==D&&(R===null?P.firstBaseUpdate=F:R.next=F,P.lastBaseUpdate=L))}if(y!==null){var it=d.baseState;D=0,P=F=L=null,R=y;do{var ct=R.lane&-536870913,At=ct!==R.lane;if(At?(qt&ct)===ct:(h&ct)===ct){ct!==0&&ct===Tu&&(Cg=!0),P!==null&&(P=P.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Ea=i,Uc=R;ct=s;var bs=c;switch(Uc.tag){case 1:if(Ea=Uc.payload,typeof Ea=="function"){it=Ea.call(bs,it,ct);break t}it=Ea;break t;case 3:Ea.flags=Ea.flags&-65537|128;case 0:if(Ea=Uc.payload,ct=typeof Ea=="function"?Ea.call(bs,it,ct):Ea,ct==null)break t;it=ng({},it,ct);break t;case 2:fi=!0}}ct=R.callback,ct!==null&&(i.flags|=64,At&&(i.flags|=8192),At=d.callbacks,At===null?d.callbacks=[ct]:At.push(ct))}else At={lane:ct,tag:R.tag,payload:R.payload,callback:R.callback,next:null},P===null?(F=P=At,L=it):P=P.next=At,D|=ct;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;At=R,R=At.next,At.next=null,d.lastBaseUpdate=At,d.shared.pending=null}}while(!0);P===null&&(L=it),d.baseState=L,d.firstBaseUpdate=F,d.lastBaseUpdate=P,y===null&&(d.shared.lanes=0),gi|=D,i.lanes=D,i.memoizedState=it}}function Jy(i,s){if(typeof i!="function")throw Error(l(191,i));i.call(s)}function Wy(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)Jy(c[i],s)}function Py(i,s){i=Tl,_(Ff,i),_(Du,s),Tl=i|s.baseLanes}function r1(){_(Ff,Tl),_(Du,Du.current)}function c1(){Tl=Ff.current,p(Du),p(Ff)}function we(){throw Error(l(321))}function o1(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!aa(i[c],s[c]))return!1;return!0}function f1(i,s,c,h,d,y){return hi=y,Mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,yt.H=i===null||i.memoizedState===null?E5:T5,Ss=!1,y=c(h,d),Ss=!1,Mu&&(y=$y(s,c,h,d)),Iy(i),y}function Iy(i){yt.H=Pf;var s=le!==null&&le.next!==null;if(hi=0,Xe=le=Mt=null,Jf=!1,xc=0,Nu=null,s)throw Error(l(300));i===null||rn||(i=i.dependencies,i!==null&&ft(i)&&(rn=!0))}function $y(i,s,c,h){Mt=i;var d=0;do{if(Mu&&(Nu=null),xc=0,Mu=!1,25<=d)throw Error(l(301));if(d+=1,Xe=le=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}yt.H=oT,y=s(c,h)}while(Mu);return y}function cb(){var i=yt.H,s=i.useState()[0];return s=typeof s.then=="function"?cc(s):s,i=i.useState()[0],(le!==null?le.memoizedState:null)!==i&&(Mt.flags|=1024),s}function h1(){var i=Wf!==0;return Wf=0,i}function d1(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function g1(i){if(Jf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Jf=!1}hi=0,Xe=le=Mt=null,Mu=!1,xc=Wf=0,Nu=null}function jn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Mt.memoizedState=Xe=i:Xe=Xe.next=i,Xe}function je(){if(le===null){var i=Mt.alternate;i=i!==null?i.memoizedState:null}else i=le.next;var s=Xe===null?Mt.memoizedState:Xe.next;if(s!==null)Xe=s,le=i;else{if(i===null)throw Mt.alternate===null?Error(l(467)):Error(l(310));le=i,i={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},Xe===null?Mt.memoizedState=Xe=i:Xe=Xe.next=i}return Xe}function m1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cc(i){var s=xc;return xc+=1,Nu===null&&(Nu=[]),i=Qy(Nu,i,s),s=Mt,(Xe===null?s.memoizedState:Xe.next)===null&&(s=s.alternate,yt.H=s===null||s.memoizedState===null?E5:T5),i}function vf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return cc(i);if(i.$$typeof===ui)return pt(i)}throw Error(l(438,String(i)))}function p1(i){var s=null,c=Mt.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var h=Mt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=m1(),Mt.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),h=0;h<i;h++)c[h]=zb;return s.index++,c}function dl(i,s){return typeof s=="function"?s(i):s}function Sf(i){var s=je();return y1(s,le,i)}function y1(i,s,c){var h=i.queue;if(h===null)throw Error(l(311));h.lastRenderedReducer=c;var d=i.baseQueue,y=h.pending;if(y!==null){if(d!==null){var D=d.next;d.next=y.next,y.next=D}s.baseQueue=d=y,h.pending=null}if(y=i.baseState,d===null)i.memoizedState=y;else{s=d.next;var R=D=null,L=null,F=s,P=!1;do{var it=F.lane&-536870913;if(it!==F.lane?(qt&it)===it:(hi&it)===it){var ct=F.revertLane;if(ct===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),it===Tu&&(P=!0);else if((hi&ct)===ct){F=F.next,ct===Tu&&(P=!0);continue}else it={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},L===null?(R=L=it,D=y):L=L.next=it,Mt.lanes|=ct,gi|=ct;it=F.action,Ss&&c(y,it),y=F.hasEagerState?F.eagerState:c(y,it)}else ct={lane:it,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},L===null?(R=L=ct,D=y):L=L.next=ct,Mt.lanes|=it,gi|=it;F=F.next}while(F!==null&&F!==s);if(L===null?D=y:L.next=R,!aa(y,i.memoizedState)&&(rn=!0,P&&(c=Cu,c!==null)))throw c;i.memoizedState=y,i.baseState=D,i.baseQueue=L,h.lastRenderedState=y}return d===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function v1(i){var s=je(),c=s.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=i;var h=c.dispatch,d=c.pending,y=s.memoizedState;if(d!==null){c.pending=null;var D=d=d.next;do y=i(y,D.action),D=D.next;while(D!==d);aa(y,s.memoizedState)||(rn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),c.lastRenderedState=y}return[y,h]}function t4(i,s,c){var h=Mt,d=je(),y=Ft;if(y){if(c===void 0)throw Error(l(407));c=c()}else c=s();var D=!aa((le||d).memoizedState,c);D&&(d.memoizedState=c,rn=!0),d=d.queue;var R=a4.bind(null,h,d,i);if(oc(2048,8,R,[i]),d.getSnapshot!==s||D||Xe!==null&&Xe.memoizedState.tag&1){if(h.flags|=2048,cu(9,_f(),n4.bind(null,h,d,c,s),null),he===null)throw Error(l(349));y||hi&124||e4(h,s,c)}return c}function e4(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=Mt.updateQueue,s===null?(s=m1(),Mt.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function n4(i,s,c,h){s.value=c,s.getSnapshot=h,l4(s)&&i4(i)}function a4(i,s,c){return c(function(){l4(s)&&i4(i)})}function l4(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!aa(i,c)}catch{return!0}}function i4(i){var s=ru(i,2);s!==null&&$n(s,i,2)}function S1(i){var s=jn();if(typeof i=="function"){var c=i;if(i=c(),Ss){I(!0);try{c()}finally{I(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:i},s}function s4(i,s,c,h){return i.baseState=c,y1(i,le,typeof h=="function"?h:dl)}function ob(i,s,c,h,d){if(Ef(i))throw Error(l(485));if(i=s.action,i!==null){var y={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){y.listeners.push(D)}};yt.T!==null?c(!0):y.isTransition=!1,h(y),c=s.pending,c===null?(y.next=s.pending=y,u4(s,y)):(y.next=c.next,s.pending=c.next=y)}}function u4(i,s){var c=s.action,h=s.payload,d=i.state;if(s.isTransition){var y=yt.T,D={};yt.T=D;try{var R=c(d,h),L=yt.S;L!==null&&L(D,R),r4(i,s,R)}catch(F){_1(i,s,F)}finally{yt.T=y}}else try{y=c(d,h),r4(i,s,y)}catch(F){_1(i,s,F)}}function r4(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){c4(i,s,h)},function(h){return _1(i,s,h)}):c4(i,s,c)}function c4(i,s,c){s.status="fulfilled",s.value=c,o4(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,u4(i,c)))}function _1(i,s,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=c,o4(s),s=s.next;while(s!==h)}i.action=null}function o4(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function f4(i,s){return s}function h4(i,s){if(Ft){var c=he.formState;if(c!==null){t:{var h=Mt;if(Ft){if(Je){var d=AE(Je,Fa);if(d){Je=s5(d),h=xE(d);break t}}G(h)}h=!1}h&&(s=c[0])}}c=jn(),c.memoizedState=c.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f4,lastRenderedState:s},c.queue=h,c=O4.bind(null,Mt,h),h.dispatch=c,h=S1(!1);var y=C1.bind(null,Mt,!1,h.queue);return h=jn(),d={state:s,dispatch:null,action:i,pending:null},h.queue=d,c=ob.bind(null,Mt,d,y,c),d.dispatch=c,h.memoizedState=i,[s,c,!1]}function d4(i){var s=je();return g4(s,le,i)}function g4(i,s,c){if(s=y1(i,s,f4)[0],i=Sf(dl)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=cc(s)}catch(D){throw D===Ac?kf:D}else h=s;s=je();var d=s.queue,y=d.dispatch;return c!==s.memoizedState&&(Mt.flags|=2048,cu(9,_f(),fb.bind(null,d,c),null)),[h,y,i]}function fb(i,s){i.action=s}function m4(i){var s=je(),c=le;if(c!==null)return g4(s,c,i);je(),s=s.memoizedState,c=je();var h=c.queue.dispatch;return c.memoizedState=i,[s,h,!1]}function cu(i,s,c,h){return i={tag:i,create:c,deps:h,inst:s,next:null},s=Mt.updateQueue,s===null&&(s=m1(),Mt.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,s.lastEffect=i),i}function _f(){return{destroy:void 0,resource:void 0}}function p4(){return je().memoizedState}function bf(i,s,c,h){var d=jn();h=h===void 0?null:h,Mt.flags|=i,d.memoizedState=cu(1|s,_f(),c,h)}function oc(i,s,c,h){var d=je();h=h===void 0?null:h;var y=d.memoizedState.inst;le!==null&&h!==null&&o1(h,le.memoizedState.deps)?d.memoizedState=cu(s,y,c,h):(Mt.flags|=i,d.memoizedState=cu(1|s,y,c,h))}function y4(i,s){bf(8390656,8,i,s)}function v4(i,s){oc(2048,8,i,s)}function S4(i,s){return oc(4,2,i,s)}function _4(i,s){return oc(4,4,i,s)}function b4(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function E4(i,s,c){c=c!=null?c.concat([i]):null,oc(4,4,b4.bind(null,s,i),c)}function b1(){}function T4(i,s){var c=je();s=s===void 0?null:s;var h=c.memoizedState;return s!==null&&o1(s,h[1])?h[0]:(c.memoizedState=[i,s],i)}function C4(i,s){var c=je();s=s===void 0?null:s;var h=c.memoizedState;if(s!==null&&o1(s,h[1]))return h[0];if(h=i(),Ss){I(!0);try{i()}finally{I(!1)}}return c.memoizedState=[h,s],h}function E1(i,s,c){return c===void 0||hi&1073741824?i.memoizedState=s:(i.memoizedState=c,i=b3(),Mt.lanes|=i,gi|=i,c)}function A4(i,s,c,h){return aa(c,s)?c:Du.current!==null?(i=E1(i,c,h),aa(i,s)||(rn=!0),i):hi&42?(i=b3(),Mt.lanes|=i,gi|=i,s):(rn=!0,i.memoizedState=c)}function x4(i,s,c,h,d){var y=vl();un(y!==0&&8>y?y:8);var D=yt.T,R={};yt.T=R,C1(i,!1,s,c);try{var L=d(),F=yt.S;if(F!==null&&F(R,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var P=rb(L,h);fc(i,s,P,In(i))}else fc(i,s,h,In(i))}catch(it){fc(i,s,{then:function(){},status:"rejected",reason:it},In())}finally{un(y),yt.T=D}}function D4(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:mu,baseState:mu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:mu},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function T1(){return pt(gs)}function M4(){return je().memoizedState}function N4(){return je().memoizedState}function hb(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=In();i=$l(c);var h=ti(s,i,c);h!==null&&($n(h,s,c),sc(h,s,c)),s={cache:ic()},i.payload=s;return}s=s.return}}function db(i,s,c){var h=In();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Ef(i)?R4(s,c):(c=l1(i,s,c,h),c!==null&&($n(c,i,h),U4(c,s,h)))}function O4(i,s,c){var h=In();fc(i,s,c,h)}function fc(i,s,c,h){var d={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ef(i))R4(s,d);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var D=s.lastRenderedState,R=y(D,c);if(d.hasEagerState=!0,d.eagerState=R,aa(R,D))return pf(i,s,d,0),he===null&&mf(),!1}catch{}finally{}if(c=l1(i,s,d,h),c!==null)return $n(c,i,h),U4(c,s,h),!0}return!1}function C1(i,s,c,h){if(h={lane:2,revertLane:n1(),action:h,hasEagerState:!1,eagerState:null,next:null},Ef(i)){if(s)throw Error(l(479))}else s=l1(i,c,h,2),s!==null&&$n(s,i,2)}function Ef(i){var s=i.alternate;return i===Mt||s!==null&&s===Mt}function R4(i,s){Mu=Jf=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function U4(i,s,c){if(c&4194048){var h=s.lanes;h&=i.pendingLanes,c|=h,s.lanes=c,z(i,c)}}function Tf(i){var s=Dc;return Dc+=1,Ou===null&&(Ou=[]),Qy(Ou,i,s)}function hc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Cf(i,s){throw s.$$typeof===Rb?Error(l(525)):(i=Object.prototype.toString.call(s),Error(l(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function z4(i){var s=i._init;return s(i._payload)}function w4(i){function s(B,H){if(i){var V=B.deletions;V===null?(B.deletions=[H],B.flags|=16):V.push(H)}}function c(B,H){if(!i)return null;for(;H!==null;)s(B,H),H=H.sibling;return null}function h(B){for(var H=new Map;B!==null;)B.key!==null?H.set(B.key,B):H.set(B.index,B),B=B.sibling;return H}function d(B,H){return B=pl(B,H),B.index=0,B.sibling=null,B}function y(B,H,V){return B.index=V,i?(V=B.alternate,V!==null?(V=V.index,V<H?(B.flags|=67108866,H):V):(B.flags|=67108866,H)):(B.flags|=1048576,H)}function D(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function R(B,H,V,W){return H===null||H.tag!==6?(H=$1(V,B.mode,W),H.return=B,H):(H=d(H,V),H.return=B,H)}function L(B,H,V,W){var dt=V.type;return dt===gu?P(B,H,V.props.children,W,V.key):H!==null&&(H.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===ri&&z4(dt)===H.type)?(H=d(H,V.props),hc(H,V),H.return=B,H):(H=zf(V.type,V.key,V.props,null,B.mode,W),hc(H,V),H.return=B,H)}function F(B,H,V,W){return H===null||H.tag!==4||H.stateNode.containerInfo!==V.containerInfo||H.stateNode.implementation!==V.implementation?(H=tg(V,B.mode,W),H.return=B,H):(H=d(H,V.children||[]),H.return=B,H)}function P(B,H,V,W,dt){return H===null||H.tag!==7?(H=hs(V,B.mode,W,dt),H.return=B,H):(H=d(H,V),H.return=B,H)}function it(B,H,V){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=$1(""+H,B.mode,V),H.return=B,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case wf:return V=zf(H.type,H.key,H.props,null,B.mode,V),hc(V,H),V.return=B,V;case du:return H=tg(H,B.mode,V),H.return=B,H;case ri:var W=H._init;return H=W(H._payload),it(B,H,V)}if(Gf(H)||m(H))return H=hs(H,B.mode,V,null),H.return=B,H;if(typeof H.then=="function")return it(B,Tf(H),V);if(H.$$typeof===ui)return it(B,J(B,H),V);Cf(B,H)}return null}function ct(B,H,V,W){var dt=H!==null?H.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return dt!==null?null:R(B,H,""+V,W);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case wf:return V.key===dt?L(B,H,V,W):null;case du:return V.key===dt?F(B,H,V,W):null;case ri:return dt=V._init,V=dt(V._payload),ct(B,H,V,W)}if(Gf(V)||m(V))return dt!==null?null:P(B,H,V,W,null);if(typeof V.then=="function")return ct(B,H,Tf(V),W);if(V.$$typeof===ui)return ct(B,H,J(B,V),W);Cf(B,V)}return null}function At(B,H,V,W,dt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return B=B.get(V)||null,R(H,B,""+W,dt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case wf:return B=B.get(W.key===null?V:W.key)||null,L(H,B,W,dt);case du:return B=B.get(W.key===null?V:W.key)||null,F(H,B,W,dt);case ri:var pe=W._init;return W=pe(W._payload),At(B,H,V,W,dt)}if(Gf(W)||m(W))return B=B.get(V)||null,P(H,B,W,dt,null);if(typeof W.then=="function")return At(B,H,V,Tf(W),dt);if(W.$$typeof===ui)return At(B,H,V,J(H,W),dt);Cf(H,W)}return null}function Ea(B,H,V,W){for(var dt=null,pe=null,St=H,kt=H=0,on=null;St!==null&&kt<V.length;kt++){St.index>kt?(on=St,St=null):on=St.sibling;var Zt=ct(B,St,V[kt],W);if(Zt===null){St===null&&(St=on);break}i&&St&&Zt.alternate===null&&s(B,St),H=y(Zt,H,kt),pe===null?dt=Zt:pe.sibling=Zt,pe=Zt,St=on}if(kt===V.length)return c(B,St),Ft&&et(B,kt),dt;if(St===null){for(;kt<V.length;kt++)St=it(B,V[kt],W),St!==null&&(H=y(St,H,kt),pe===null?dt=St:pe.sibling=St,pe=St);return Ft&&et(B,kt),dt}for(St=h(St);kt<V.length;kt++)on=At(St,B,kt,V[kt],W),on!==null&&(i&&on.alternate!==null&&St.delete(on.key===null?kt:on.key),H=y(on,H,kt),pe===null?dt=on:pe.sibling=on,pe=on);return i&&St.forEach(function(yi){return s(B,yi)}),Ft&&et(B,kt),dt}function Uc(B,H,V,W){if(V==null)throw Error(l(151));for(var dt=null,pe=null,St=H,kt=H=0,on=null,Zt=V.next();St!==null&&!Zt.done;kt++,Zt=V.next()){St.index>kt?(on=St,St=null):on=St.sibling;var yi=ct(B,St,Zt.value,W);if(yi===null){St===null&&(St=on);break}i&&St&&yi.alternate===null&&s(B,St),H=y(yi,H,kt),pe===null?dt=yi:pe.sibling=yi,pe=yi,St=on}if(Zt.done)return c(B,St),Ft&&et(B,kt),dt;if(St===null){for(;!Zt.done;kt++,Zt=V.next())Zt=it(B,Zt.value,W),Zt!==null&&(H=y(Zt,H,kt),pe===null?dt=Zt:pe.sibling=Zt,pe=Zt);return Ft&&et(B,kt),dt}for(St=h(St);!Zt.done;kt++,Zt=V.next())Zt=At(St,B,kt,Zt.value,W),Zt!==null&&(i&&Zt.alternate!==null&&St.delete(Zt.key===null?kt:Zt.key),H=y(Zt,H,kt),pe===null?dt=Zt:pe.sibling=Zt,pe=Zt);return i&&St.forEach(function(dT){return s(B,dT)}),Ft&&et(B,kt),dt}function bs(B,H,V,W){if(typeof V=="object"&&V!==null&&V.type===gu&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case wf:t:{for(var dt=V.key;H!==null;){if(H.key===dt){if(dt=V.type,dt===gu){if(H.tag===7){c(B,H.sibling),W=d(H,V.props.children),W.return=B,B=W;break t}}else if(H.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===ri&&z4(dt)===H.type){c(B,H.sibling),W=d(H,V.props),hc(W,V),W.return=B,B=W;break t}c(B,H);break}else s(B,H);H=H.sibling}V.type===gu?(W=hs(V.props.children,B.mode,W,V.key),W.return=B,B=W):(W=zf(V.type,V.key,V.props,null,B.mode,W),hc(W,V),W.return=B,B=W)}return D(B);case du:t:{for(dt=V.key;H!==null;){if(H.key===dt)if(H.tag===4&&H.stateNode.containerInfo===V.containerInfo&&H.stateNode.implementation===V.implementation){c(B,H.sibling),W=d(H,V.children||[]),W.return=B,B=W;break t}else{c(B,H);break}else s(B,H);H=H.sibling}W=tg(V,B.mode,W),W.return=B,B=W}return D(B);case ri:return dt=V._init,V=dt(V._payload),bs(B,H,V,W)}if(Gf(V))return Ea(B,H,V,W);if(m(V)){if(dt=m(V),typeof dt!="function")throw Error(l(150));return V=dt.call(V),Uc(B,H,V,W)}if(typeof V.then=="function")return bs(B,H,Tf(V),W);if(V.$$typeof===ui)return bs(B,H,J(B,V),W);Cf(B,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,H!==null&&H.tag===6?(c(B,H.sibling),W=d(H,V),W.return=B,B=W):(c(B,H),W=$1(V,B.mode,W),W.return=B,B=W),D(B)):c(B,H)}return function(B,H,V,W){try{Dc=0;var dt=bs(B,H,V,W);return Ou=null,dt}catch(St){if(St===Ac||St===kf)throw St;var pe=n(29,St,null,B.mode);return pe.lanes=W,pe.return=B,pe}finally{}}}function ei(i){var s=i.alternate;_(We,We.current&1),_(_a,i),Ja===null&&(s===null||Du.current!==null||s.memoizedState!==null)&&(Ja=i)}function G4(i){if(i.tag===22){if(_(We,We.current),_(_a,i),Ja===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ja=i)}}else ni()}function ni(){_(We,We.current),_(_a,_a.current)}function gl(i){p(_a),Ja===i&&(Ja=null),p(We)}function Af(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||og(c)||fg(c)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function A1(i,s,c,h){s=i.memoizedState,c=c(h,s),c=c==null?s:ng({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}function H4(i,s,c,h,d,y,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,D):s.prototype&&s.prototype.isPureReactComponent?!df(c,h)||!df(d,y):!0}function B4(i,s,c,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,h),s.state!==i&&Ag.enqueueReplaceState(s,s.state,null)}function cs(i,s){var c=s;if("ref"in s){c={};for(var h in s)h!=="ref"&&(c[h]=s[h])}if(i=i.defaultProps){c===s&&(c=ng({},c));for(var d in i)c[d]===void 0&&(c[d]=i[d])}return c}function xf(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function L4(i,s,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function x1(i,s,c){return c=$l(c),c.tag=3,c.payload={element:null},c.callback=function(){xf(i,s)},c}function Y4(i){return i=$l(i),i.tag=3,i}function V4(i,s,c,h){var d=c.type.getDerivedStateFromError;if(typeof d=="function"){var y=h.value;i.payload=function(){return d(y)},i.callback=function(){L4(s,c,h)}}var D=c.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){L4(s,c,h),typeof d!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function gb(i,s,c,h,d){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=c.alternate,s!==null&&vt(s,c,d,!0),c=_a.current,c!==null){switch(c.tag){case 13:return Ja===null?J1():c.alternate===null&&Ne===0&&(Ne=3),c.flags&=-257,c.flags|=65536,c.lanes=d,h===Zf?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([h]):s.add(h),P1(i,h,d)),!1;case 22:return c.flags|=65536,h===Zf?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([h]):c.add(h)),P1(i,h,d)),!1}throw Error(l(435,c.tag))}return P1(i,h,d),J1(),!1}if(Ft)return s=_a.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=d,h!==vg&&(i=Error(l(422),{cause:h}),Ee(X(i,c)))):(h!==vg&&(s=Error(l(423),{cause:h}),Ee(X(s,c))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,h=X(h,c),d=x1(i.stateNode,h,d),u1(i,d),Ne!==4&&(Ne=2)),!1;var y=Error(l(520),{cause:h});if(y=X(y,c),Nc===null?Nc=[y]:Nc.push(y),Ne!==4&&(Ne=2),s===null)return!0;h=X(h,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=d&-d,c.lanes|=i,i=x1(c.stateNode,h,i),u1(c,i),!1;case 1:if(s=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mi===null||!mi.has(y))))return c.flags|=65536,d&=-d,c.lanes|=d,d=Y4(d),V4(d,i,c,h),u1(c,d),!1}c=c.return}while(c!==null);return!1}function vn(i,s,c,h){s.child=i===null?C5(s,null,c,h):Ru(s,i.child,c,h)}function j4(i,s,c,h,d){c=c.render;var y=s.ref;if("ref"in h){var D={};for(var R in h)R!=="ref"&&(D[R]=h[R])}else D=h;return st(s),h=f1(i,s,c,D,y,d),R=h1(),i!==null&&!rn?(d1(i,s,d),ml(i,s,d)):(Ft&&R&&ot(s),s.flags|=1,vn(i,s,h,d),s.child)}function X4(i,s,c,h,d){if(i===null){var y=c.type;return typeof y=="function"&&!I1(y)&&y.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=y,q4(i,s,y,h,d)):(i=zf(c.type,null,h,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!z1(i,d)){var D=y.memoizedProps;if(c=c.compare,c=c!==null?c:df,c(D,h)&&i.ref===s.ref)return ml(i,s,d)}return s.flags|=1,i=pl(y,h),i.ref=s.ref,i.return=s,s.child=i}function q4(i,s,c,h,d){if(i!==null){var y=i.memoizedProps;if(df(y,h)&&i.ref===s.ref)if(rn=!1,s.pendingProps=h=y,z1(i,d))i.flags&131072&&(rn=!0);else return s.lanes=i.lanes,ml(i,s,d)}return D1(i,s,c,h,d)}function K4(i,s,c){var h=s.pendingProps,d=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if(s.flags&128){if(h=y!==null?y.baseLanes|c:c,i!==null){for(d=s.child=i.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;s.childLanes=y&~h}else s.childLanes=0,s.child=null;return Q4(i,s,h,c)}if(c&536870912)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&hf(s,y!==null?y.cachePool:null),y!==null?Py(s,y):r1(),G4(s);else return s.lanes=s.childLanes=536870912,Q4(i,s,y!==null?y.baseLanes|c:c,c)}else y!==null?(hf(s,y.cachePool),Py(s,y),ni(),s.memoizedState=null):(i!==null&&hf(s,null),r1(),ni());return vn(i,s,d,c),s.child}function Q4(i,s,c,h){var d=a1();return d=d===null?null:{parent:yl?Me._currentValue:Me._currentValue2,pool:d},s.memoizedState={baseLanes:c,cachePool:d},i!==null&&hf(s,null),r1(),G4(s),i!==null&&vt(i,s,h,!0),null}function Df(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(l(284));(i===null||i.ref!==c)&&(s.flags|=4194816)}}function D1(i,s,c,h,d){return st(s),c=f1(i,s,c,h,void 0,d),h=h1(),i!==null&&!rn?(d1(i,s,d),ml(i,s,d)):(Ft&&h&&ot(s),s.flags|=1,vn(i,s,c,d),s.child)}function k4(i,s,c,h,d,y){return st(s),s.updateQueue=null,c=$y(s,h,c,d),Iy(i),h=h1(),i!==null&&!rn?(d1(i,s,y),ml(i,s,y)):(Ft&&h&&ot(s),s.flags|=1,vn(i,s,c,y),s.child)}function Z4(i,s,c,h,d){if(st(s),s.stateNode===null){var y=vu,D=c.contextType;typeof D=="object"&&D!==null&&(y=pt(D)),y=new c(h,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ag,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=h,y.state=s.memoizedState,y.refs={},i1(s),D=c.contextType,y.context=typeof D=="object"&&D!==null?pt(D):vu,y.state=s.memoizedState,D=c.getDerivedStateFromProps,typeof D=="function"&&(A1(s,c,D,h),y.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(D=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),D!==y.state&&Ag.enqueueReplaceState(y,y.state,null),rc(s,h,y,d),uc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){y=s.stateNode;var R=s.memoizedProps,L=cs(c,R);y.props=L;var F=y.context,P=c.contextType;D=vu,typeof P=="object"&&P!==null&&(D=pt(P));var it=c.getDerivedStateFromProps;P=typeof it=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,P||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||F!==D)&&B4(s,y,h,D),fi=!1;var ct=s.memoizedState;y.state=ct,rc(s,h,y,d),uc(),F=s.memoizedState,R||ct!==F||fi?(typeof it=="function"&&(A1(s,c,it,h),F=s.memoizedState),(L=fi||H4(s,c,L,h,ct,F,D))?(P||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=F),y.props=h,y.state=F,y.context=D,h=L):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{y=s.stateNode,s1(i,s),D=s.memoizedProps,P=cs(c,D),y.props=P,it=s.pendingProps,ct=y.context,F=c.contextType,L=vu,typeof F=="object"&&F!==null&&(L=pt(F)),R=c.getDerivedStateFromProps,(F=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D!==it||ct!==L)&&B4(s,y,h,L),fi=!1,ct=s.memoizedState,y.state=ct,rc(s,h,y,d),uc();var At=s.memoizedState;D!==it||ct!==At||fi||i!==null&&i.dependencies!==null&&ft(i.dependencies)?(typeof R=="function"&&(A1(s,c,R,h),At=s.memoizedState),(P=fi||H4(s,c,P,h,ct,At,L)||i!==null&&i.dependencies!==null&&ft(i.dependencies))?(F||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,At,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,At,L)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||D===i.memoizedProps&&ct===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ct===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=At),y.props=h,y.state=At,y.context=L,h=P):(typeof y.componentDidUpdate!="function"||D===i.memoizedProps&&ct===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ct===i.memoizedState||(s.flags|=1024),h=!1)}return y=h,Df(i,s),h=(s.flags&128)!==0,y||h?(y=s.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&h?(s.child=Ru(s,i.child,null,d),s.child=Ru(s,null,c,d)):vn(i,s,c,d),s.memoizedState=y.state,i=s.child):i=ml(i,s,d),i}function F4(i,s,c,h){return Rt(),s.flags|=256,vn(i,s,c,h),s.child}function M1(i){return{baseLanes:i,cachePool:qy()}}function N1(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=ba),i}function J4(i,s,c){var h=s.pendingProps,d=!1,y=(s.flags&128)!==0,D;if((D=y)||(D=i!==null&&i.memoizedState===null?!1:(We.current&2)!==0),D&&(d=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ft){if(d?ei(s):ni(),Ft){var R=Je,L;(L=R)&&(R=wE(R,Fa),R!==null?(s.memoizedState={dehydrated:R,treeContext:ms!==null?{id:Sl,overflow:_l}:null,retryLane:536870912,hydrationErrors:null},L=n(18,null,null,0),L.stateNode=R,L.return=s,s.child=L,Gn=s,Je=null,L=!0):L=!1),L||G(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return fg(R)?s.lanes=32:s.lanes=536870912,null;gl(s)}return R=h.children,h=h.fallback,d?(ni(),d=s.mode,R=Mf({mode:"hidden",children:R},d),h=hs(h,d,c,null),R.return=s,h.return=s,R.sibling=h,s.child=R,d=s.child,d.memoizedState=M1(c),d.childLanes=N1(i,D,c),s.memoizedState=xg,h):(ei(s),O1(s,R))}if(L=i.memoizedState,L!==null&&(R=L.dehydrated,R!==null)){if(y)s.flags&256?(ei(s),s.flags&=-257,s=R1(i,s,c)):s.memoizedState!==null?(ni(),s.child=i.child,s.flags|=128,s=null):(ni(),d=h.fallback,R=s.mode,h=Mf({mode:"visible",children:h.children},R),d=hs(d,R,c,null),d.flags|=2,h.return=s,d.return=s,h.sibling=d,s.child=h,Ru(s,i.child,null,c),h=s.child,h.memoizedState=M1(c),h.childLanes=N1(i,D,c),s.memoizedState=xg,s=d);else if(ei(s),fg(R))D=TE(R).digest,h=Error(l(419)),h.stack="",h.digest=D,Ee({value:h,source:null,stack:null}),s=R1(i,s,c);else if(rn||vt(i,s,c,!1),D=(c&i.childLanes)!==0,rn||D){if(D=he,D!==null&&(h=c&-c,h=h&42?1:j(h),h=h&(D.suspendedLanes|c)?0:h,h!==0&&h!==L.retryLane))throw L.retryLane=h,ru(i,h),$n(D,i,h),x5;og(R)||J1(),s=R1(i,s,c)}else og(R)?(s.flags|=192,s.child=i.child,s=null):(i=L.treeContext,pa&&(Je=OE(R),Gn=s,Ft=!0,ps=null,Fa=!1,i!==null&&(ya[va++]=Sl,ya[va++]=_l,ya[va++]=ms,Sl=i.id,_l=i.overflow,ms=s)),s=O1(s,h.children),s.flags|=4096);return s}return d?(ni(),d=h.fallback,R=s.mode,L=i.child,y=L.sibling,h=pl(L,{mode:"hidden",children:h.children}),h.subtreeFlags=L.subtreeFlags&65011712,y!==null?d=pl(y,d):(d=hs(d,R,c,null),d.flags|=2),d.return=s,h.return=s,h.sibling=d,s.child=h,h=d,d=s.child,R=i.child.memoizedState,R===null?R=M1(c):(L=R.cachePool,L!==null?(y=yl?Me._currentValue:Me._currentValue2,L=L.parent!==y?{parent:y,pool:y}:L):L=qy(),R={baseLanes:R.baseLanes|c,cachePool:L}),d.memoizedState=R,d.childLanes=N1(i,D,c),s.memoizedState=xg,h):(ei(s),c=i.child,i=c.sibling,c=pl(c,{mode:"visible",children:h.children}),c.return=s,c.sibling=null,i!==null&&(D=s.deletions,D===null?(s.deletions=[i],s.flags|=16):D.push(i)),s.child=c,s.memoizedState=null,c)}function O1(i,s){return s=Mf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Mf(i,s){return i=n(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function R1(i,s,c){return Ru(s,i.child,null,c),i=O1(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function W4(i,s,c){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),yn(i.return,s,c)}function U1(i,s,c,h,d){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:d}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=d)}function P4(i,s,c){var h=s.pendingProps,d=h.revealOrder,y=h.tail;if(vn(i,s,h.children,c),h=We.current,h&2)h=h&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&W4(i,c,s);else if(i.tag===19)W4(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(_(We,h),d){case"forwards":for(c=s.child,d=null;c!==null;)i=c.alternate,i!==null&&Af(i)===null&&(d=c),c=c.sibling;c=d,c===null?(d=s.child,s.child=null):(d=c.sibling,c.sibling=null),U1(s,!1,d,c,y);break;case"backwards":for(c=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&Af(i)===null){s.child=d;break}i=d.sibling,d.sibling=c,c=d,d=i}U1(s,!0,c,null,y);break;case"together":U1(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ml(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),gi|=s.lanes,!(c&s.childLanes))if(i!==null){if(vt(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(l(153));if(s.child!==null){for(i=s.child,c=pl(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=pl(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function z1(i,s){return i.lanes&s?!0:(i=i.dependencies,!!(i!==null&&ft(i)))}function mb(i,s,c){switch(s.tag){case 3:Ot(s,s.stateNode.containerInfo),zt(s,Me,i.memoizedState.cache),Rt();break;case 27:case 5:Qt(s);break;case 4:Ot(s,s.stateNode.containerInfo);break;case 10:zt(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(ei(s),s.flags|=128,null):c&s.child.childLanes?J4(i,s,c):(ei(s),i=ml(i,s,c),i!==null?i.sibling:null);ei(s);break;case 19:var d=(i.flags&128)!==0;if(h=(c&s.childLanes)!==0,h||(vt(i,s,c,!1),h=(c&s.childLanes)!==0),d){if(h)return P4(i,s,c);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),_(We,We.current),h)break;return null;case 22:case 23:return s.lanes=0,K4(i,s,c);case 24:zt(s,Me,i.memoizedState.cache)}return ml(i,s,c)}function I4(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)rn=!0;else{if(!z1(i,c)&&!(s.flags&128))return rn=!1,mb(i,s,c);rn=!!(i.flags&131072)}else rn=!1,Ft&&s.flags&1048576&&rt(s,jf,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var h=s.elementType,d=h._init;if(h=d(h._payload),s.type=h,typeof h=="function")I1(h)?(i=cs(h,i),s.tag=1,s=Z4(null,s,h,i,c)):(s.tag=0,s=D1(null,s,h,i,c));else{if(h!=null){if(d=h.$$typeof,d===lg){s.tag=11,s=j4(null,s,h,i,c);break t}else if(d===ug){s.tag=14,s=X4(null,s,h,i,c);break t}}throw s=b(h)||h,Error(l(306,s,""))}}return s;case 0:return D1(i,s,s.type,s.pendingProps,c);case 1:return h=s.type,d=cs(h,s.pendingProps),Z4(i,s,h,d,c);case 3:t:{if(Ot(s,s.stateNode.containerInfo),i===null)throw Error(l(387));var y=s.pendingProps;d=s.memoizedState,h=d.element,s1(i,s),rc(s,y,null,c);var D=s.memoizedState;if(y=D.cache,zt(s,Me,y),y!==d.cache&&nt(s,[Me],c,!0),uc(),y=D.element,pa&&d.isDehydrated)if(d={element:y,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=F4(i,s,y,c);break t}else if(y!==h){h=X(Error(l(424)),s),Ee(h),s=F4(i,s,y,c);break t}else for(pa&&(Je=NE(s.stateNode.containerInfo),Gn=s,Ft=!0,ps=null,Fa=!0),c=C5(s,null,y,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Rt(),y===h){s=ml(i,s,c);break t}vn(i,s,y,c)}s=s.child}return s;case 26:if(Ba)return Df(i,s),i===null?(c=c5(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ft||(s.stateNode=kE(s.type,s.pendingProps,oi.current,s)):s.memoizedState=c5(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:if(Fe)return Qt(s),i===null&&Fe&&Ft&&(h=s.stateNode=m5(s.type,s.pendingProps,oi.current,Sn.current,!1),Gn=s,Fa=!0,Je=RE(s.type,h,Je)),vn(i,s,s.pendingProps.children,c),Df(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ft&&(qE(s.type,s.pendingProps,Sn.current),(d=h=Je)&&(h=UE(h,s.type,s.pendingProps,Fa),h!==null?(s.stateNode=h,Gn=s,Je=ME(h),Fa=!1,d=!0):d=!1),d||G(s)),Qt(s),d=s.type,y=s.pendingProps,D=i!==null?i.memoizedProps:null,h=y.children,Hf(d,y)?h=null:D!==null&&Hf(d,D)&&(s.flags|=32),s.memoizedState!==null&&(d=f1(i,s,cb,null,null,c),yl?gs._currentValue=d:gs._currentValue2=d),Df(i,s),vn(i,s,h,c),s.child;case 6:return i===null&&Ft&&(KE(s.pendingProps,Sn.current),(i=c=Je)&&(c=zE(c,s.pendingProps,Fa),c!==null?(s.stateNode=c,Gn=s,Je=null,i=!0):i=!1),i||G(s)),null;case 13:return J4(i,s,c);case 4:return Ot(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Ru(s,null,h,c):vn(i,s,h,c),s.child;case 11:return j4(i,s,s.type,s.pendingProps,c);case 7:return vn(i,s,s.pendingProps,c),s.child;case 8:return vn(i,s,s.pendingProps.children,c),s.child;case 12:return vn(i,s,s.pendingProps.children,c),s.child;case 10:return h=s.pendingProps,zt(s,s.type,h.value),vn(i,s,h.children,c),s.child;case 9:return d=s.type._context,h=s.pendingProps.children,st(s),d=pt(d),h=h(d),s.flags|=1,vn(i,s,h,c),s.child;case 14:return X4(i,s,s.type,s.pendingProps,c);case 15:return q4(i,s,s.type,s.pendingProps,c);case 19:return P4(i,s,c);case 31:return h=s.pendingProps,c=s.mode,h={mode:h.mode,children:h.children},i===null?(c=Mf(h,c),c.ref=s.ref,s.child=c,c.return=s,s=c):(c=pl(i.child,h),c.ref=s.ref,s.child=c,c.return=s,s=c),s;case 22:return K4(i,s,c);case 24:return st(s),h=pt(Me),i===null?(d=a1(),d===null&&(d=he,y=ic(),d.pooledCache=y,y.refCount++,y!==null&&(d.pooledCacheLanes|=c),d=y),s.memoizedState={parent:h,cache:d},i1(s),zt(s,Me,d)):(i.lanes&c&&(s1(i,s),rc(s,null,null,c),uc()),d=i.memoizedState,y=s.memoizedState,d.parent!==h?(d={parent:h,cache:h},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),zt(s,Me,h)):(h=y.cache,zt(s,Me,h),h!==d.cache&&nt(s,[Me],c,!0))),vn(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(l(156,s.tag))}function Pn(i){i.flags|=4}function $4(i,s){if(i!==null&&i.child===s.child)return!1;if(s.flags&16)return!0;for(i=s.child;i!==null;){if(i.flags&13878||i.subtreeFlags&13878)return!0;i=i.sibling}return!1}function w1(i,s,c,h){if(Dn)for(c=s.child;c!==null;){if(c.tag===5||c.tag===6)cg(i,c.stateNode);else if(!(c.tag===4||Fe&&c.tag===27)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}else if(ci)for(var d=s.child;d!==null;){if(d.tag===5){var y=d.stateNode;c&&h&&(y=l5(y,d.type,d.memoizedProps)),cg(i,y)}else if(d.tag===6)y=d.stateNode,c&&h&&(y=i5(y,d.memoizedProps)),cg(i,y);else if(d.tag!==4){if(d.tag===22&&d.memoizedState!==null)y=d.child,y!==null&&(y.return=d),w1(i,d,!0,!0);else if(d.child!==null){d.child.return=d,d=d.child;continue}}if(d===s)break;for(;d.sibling===null;){if(d.return===null||d.return===s)return;d=d.return}d.sibling.return=d.return,d=d.sibling}}function t3(i,s,c,h){var d=!1;if(ci)for(var y=s.child;y!==null;){if(y.tag===5){var D=y.stateNode;c&&h&&(D=l5(D,y.type,y.memoizedProps)),n5(i,D)}else if(y.tag===6)D=y.stateNode,c&&h&&(D=i5(D,y.memoizedProps)),n5(i,D);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)d=y.child,d!==null&&(d.return=y),t3(i,y,!0,!0),d=!0;else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===s)break;for(;y.sibling===null;){if(y.return===null||y.return===s)return d;y=y.return}y.sibling.return=y.return,y=y.sibling}return d}function e3(i,s){if(ci&&$4(i,s)){i=s.stateNode;var c=i.containerInfo,h=e5();t3(h,s,!1,!1),i.pendingChildren=h,Pn(s),EE(c,h)}}function G1(i,s,c,h){if(Dn)i.memoizedProps!==h&&Pn(s);else if(ci){var d=i.stateNode,y=i.memoizedProps;if((i=$4(i,s))||y!==h){var D=Sn.current;y=bE(d,c,y,h,!i,null),y===d?s.stateNode=d:(W3(y,c,h,D)&&Pn(s),s.stateNode=y,i?w1(y,s,!1,!1):Pn(s))}else s.stateNode=d}}function H1(i,s,c){if(Jb(s,c)){if(i.flags|=16777216,!I3(s,c))if(x3())i.flags|=8192;else throw Au=Zf,Eg}else i.flags&=-16777217}function n3(i,s){if(FE(s)){if(i.flags|=16777216,!g5(s))if(x3())i.flags|=8192;else throw Au=Zf,Eg}else i.flags&=-16777217}function Nf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?M():536870912,i.lanes|=s,wu|=s)}function dc(i,s){if(!Ft)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ce(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(s)for(var d=i.child;d!==null;)c|=d.lanes|d.childLanes,h|=d.subtreeFlags&65011712,h|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)c|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=h,i.childLanes=c,s}function pb(i,s,c){var h=s.pendingProps;switch(Et(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(s),null;case 1:return Ce(s),null;case 3:return c=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Ve(Me),me(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Yt(s)?Pn(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,It())),e3(i,s),Ce(s),null;case 26:if(Ba){c=s.type;var d=s.memoizedState;return i===null?(Pn(s),d!==null?(Ce(s),n3(s,d)):(Ce(s),H1(s,c,h))):d?d!==i.memoizedState?(Pn(s),Ce(s),n3(s,d)):(Ce(s),s.flags&=-16777217):(Dn?i.memoizedProps!==h&&Pn(s):G1(i,s,c,h),Ce(s),H1(s,c,h)),null}case 27:if(Fe){if(re(s),c=oi.current,d=s.type,i!==null&&s.stateNode!=null)Dn?i.memoizedProps!==h&&Pn(s):G1(i,s,d,h);else{if(!h){if(s.stateNode===null)throw Error(l(166));return Ce(s),null}i=Sn.current,Yt(s)?Z(s,i):(i=m5(d,h,c,i,!0),s.stateNode=i,Pn(s))}return Ce(s),null}case 5:if(re(s),c=s.type,i!==null&&s.stateNode!=null)G1(i,s,c,h);else{if(!h){if(s.stateNode===null)throw Error(l(166));return Ce(s),null}i=Sn.current,Yt(s)?Z(s,i):(d=jb(c,h,oi.current,i,s),w1(d,s,!1,!1),s.stateNode=d,W3(d,c,h,i)&&Pn(s))}return Ce(s),H1(s,s.type,s.pendingProps),null;case 6:if(i&&s.stateNode!=null)c=i.memoizedProps,Dn?c!==h&&Pn(s):ci&&(c!==h?(s.stateNode=P3(h,oi.current,Sn.current,s),Pn(s)):s.stateNode=i.stateNode);else{if(typeof h!="string"&&s.stateNode===null)throw Error(l(166));if(i=oi.current,c=Sn.current,Yt(s)){if(!pa)throw Error(l(176));if(i=s.stateNode,c=s.memoizedProps,h=null,d=Gn,d!==null)switch(d.tag){case 27:case 5:h=d.memoizedProps}HE(i,c,s,h)||G(s)}else s.stateNode=P3(h,i,c,s)}return Ce(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Yt(s),h!==null&&h.dehydrated!==null){if(i===null){if(!d)throw Error(l(318));if(!pa)throw Error(l(344));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));BE(d,s)}else Rt(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ce(s),d=!1}else d=It(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(gl(s),s):(gl(s),null)}if(gl(s),s.flags&128)return s.lanes=c,s;if(c=h!==null,i=i!==null&&i.memoizedState!==null,c){h=s.child,d=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(d=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==d&&(h.flags|=2048)}return c!==i&&c&&(s.child.flags|=8192),Nf(s,s.updateQueue),Ce(s),null;case 4:return me(),e3(i,s),i===null&&Qb(s.stateNode.containerInfo),Ce(s),null;case 10:return Ve(s.type),Ce(s),null;case 19:if(p(We),d=s.memoizedState,d===null)return Ce(s),null;if(h=(s.flags&128)!==0,y=d.rendering,y===null)if(h)dc(d,!1);else{if(Ne!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(y=Af(i),y!==null){for(s.flags|=128,dc(d,!1),i=y.updateQueue,s.updateQueue=i,Nf(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)V3(c,i),c=c.sibling;return _(We,We.current&1|2),s.child}i=i.sibling}d.tail!==null&&La()>Oc&&(s.flags|=128,h=!0,dc(d,!1),s.lanes=4194304)}else{if(!h)if(i=Af(y),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,s.updateQueue=i,Nf(s,i),dc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Ft)return Ce(s),null}else 2*La()-d.renderingStartTime>Oc&&c!==536870912&&(s.flags|=128,h=!0,dc(d,!1),s.lanes=4194304);d.isBackwards?(y.sibling=s.child,s.child=y):(i=d.last,i!==null?i.sibling=y:s.child=y,d.last=y)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=La(),s.sibling=null,i=We.current,_(We,h?i&1|2:i&1),s):(Ce(s),null);case 22:case 23:return gl(s),c1(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?c&536870912&&!(s.flags&128)&&(Ce(s),s.subtreeFlags&6&&(s.flags|=8192)):Ce(s),c=s.updateQueue,c!==null&&Nf(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==c&&(s.flags|=2048),i!==null&&p(vs),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ve(Me),Ce(s),null;case 25:return null;case 30:return null}throw Error(l(156,s.tag))}function yb(i,s){switch(Et(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ve(Me),me(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return re(s),null;case 13:if(gl(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(l(340));Rt()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return p(We),null;case 4:return me(),null;case 10:return Ve(s.type),null;case 22:case 23:return gl(s),c1(),i!==null&&p(vs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ve(Me),null;case 25:return null;default:return null}}function a3(i,s){switch(Et(s),s.tag){case 3:Ve(Me),me();break;case 26:case 27:case 5:re(s);break;case 4:me();break;case 13:gl(s);break;case 19:p(We);break;case 10:Ve(s.type);break;case 22:case 23:gl(s),c1(),i!==null&&p(vs);break;case 24:Ve(Me)}}function gc(i,s){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var d=h.next;c=d;do{if((c.tag&i)===i){h=void 0;var y=c.create,D=c.inst;h=y(),D.destroy=h}c=c.next}while(c!==d)}}catch(R){$t(s,s.return,R)}}function ai(i,s,c){try{var h=s.updateQueue,d=h!==null?h.lastEffect:null;if(d!==null){var y=d.next;h=y;do{if((h.tag&i)===i){var D=h.inst,R=D.destroy;if(R!==void 0){D.destroy=void 0,d=s;var L=c,F=R;try{F()}catch(P){$t(d,L,P)}}}h=h.next}while(h!==y)}}catch(P){$t(s,s.return,P)}}function l3(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{Wy(s,c)}catch(h){$t(i,i.return,h)}}}function i3(i,s,c){c.props=cs(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){$t(i,s,h)}}function mc(i,s){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=Sc(i.stateNode);break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(d){$t(i,s,d)}}function ka(i,s){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(d){$t(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(d){$t(i,s,d)}else c.current=null}function s3(i){var s=i.type,c=i.memoizedProps,h=i.stateNode;try{oE(h,s,c,i)}catch(d){$t(i,i.return,d)}}function B1(i,s,c){try{fE(i.stateNode,i.type,c,s,i)}catch(h){$t(i,i.return,h)}}function u3(i){return i.tag===5||i.tag===3||(Ba?i.tag===26:!1)||(Fe?i.tag===27&&pu(i.type):!1)||i.tag===4}function L1(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||u3(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(Fe&&i.tag===27&&pu(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Y1(i,s,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?dE(c,i,s):rE(c,i);else if(h!==4&&(Fe&&h===27&&pu(i.type)&&(c=i.stateNode,s=null),i=i.child,i!==null))for(Y1(i,s,c),i=i.sibling;i!==null;)Y1(i,s,c),i=i.sibling}function Of(i,s,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?hE(c,i,s):uE(c,i);else if(h!==4&&(Fe&&h===27&&pu(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Of(i,s,c),i=i.sibling;i!==null;)Of(i,s,c),i=i.sibling}function r3(i,s,c){i=i.containerInfo;try{a5(i,c)}catch(h){$t(s,s.return,h)}}function c3(i){var s=i.stateNode,c=i.memoizedProps;try{WE(i.type,c,s,i)}catch(h){$t(i,i.return,h)}}function vb(i,s){for(Yb(i.containerInfo),cn=s;cn!==null;)if(i=cn,s=i.child,(i.subtreeFlags&1024)!==0&&s!==null)s.return=i,cn=s;else for(;cn!==null;){i=cn;var c=i.alternate;switch(s=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&c!==null){s=void 0;var h=i,d=c.memoizedProps;c=c.memoizedState;var y=h.stateNode;try{var D=cs(h.type,d,h.elementType===h.type);s=y.getSnapshotBeforeUpdate(D,c),y.__reactInternalSnapshotBeforeUpdate=s}catch(R){$t(h,h.return,R)}}break;case 3:s&1024&&Dn&&_E(i.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(l(163))}if(s=i.sibling,s!==null){s.return=i.return,cn=s;break}cn=i.return}}function o3(i,s,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:li(i,c),h&4&&gc(5,c);break;case 1:if(li(i,c),h&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(D){$t(c,c.return,D)}else{var d=cs(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(D){$t(c,c.return,D)}}h&64&&l3(c),h&512&&mc(c,c.return);break;case 3:if(li(i,c),h&64&&(i=c.updateQueue,i!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=Sc(c.child.stateNode);break;case 1:s=c.child.stateNode}try{Wy(i,s)}catch(D){$t(c,c.return,D)}}break;case 27:Fe&&s===null&&h&4&&c3(c);case 26:case 5:li(i,c),s===null&&h&4&&s3(c),h&512&&mc(c,c.return);break;case 12:li(i,c);break;case 13:li(i,c),h&4&&h3(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=Ab.bind(null,c),CE(i,c))));break;case 22:if(h=c.memoizedState!==null||El,!h){s=s!==null&&s.memoizedState!==null||Ge,d=El;var y=Ge;El=h,(Ge=s)&&!y?ii(i,c,(c.subtreeFlags&8772)!==0):li(i,c),El=d,Ge=y}break;case 30:break;default:li(i,c)}}function f3(i){var s=i.alternate;s!==null&&(i.alternate=null,f3(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Fb(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Ha(i,s,c){for(c=c.child;c!==null;)V1(i,s,c),c=c.sibling}function V1(i,s,c){if(na&&typeof na.onCommitFiberUnmount=="function")try{na.onCommitFiberUnmount(Ec,c)}catch{}switch(c.tag){case 26:if(Ba){Ge||ka(c,s),Ha(i,s,c),c.memoizedState?f5(c.memoizedState):c.stateNode&&d5(c.stateNode);break}case 27:if(Fe){Ge||ka(c,s);var h=qe,d=qn;pu(c.type)&&(qe=c.stateNode,qn=!1),Ha(i,s,c),p5(c.stateNode),qe=h,qn=d;break}case 5:Ge||ka(c,s);case 6:if(Dn){if(h=qe,d=qn,qe=null,Ha(i,s,c),qe=h,qn=d,qe!==null)if(qn)try{mE(qe,c.stateNode)}catch(y){$t(c,s,y)}else try{gE(qe,c.stateNode)}catch(y){$t(c,s,y)}}else Ha(i,s,c);break;case 18:Dn&&qe!==null&&(qn?XE(qe,c.stateNode):jE(qe,c.stateNode));break;case 4:Dn?(h=qe,d=qn,qe=c.stateNode.containerInfo,qn=!0,Ha(i,s,c),qe=h,qn=d):(ci&&r3(c.stateNode,c,e5()),Ha(i,s,c));break;case 0:case 11:case 14:case 15:Ge||ai(2,c,s),Ge||ai(4,c,s),Ha(i,s,c);break;case 1:Ge||(ka(c,s),h=c.stateNode,typeof h.componentWillUnmount=="function"&&i3(c,s,h)),Ha(i,s,c);break;case 21:Ha(i,s,c);break;case 22:Ge=(h=Ge)||c.memoizedState!==null,Ha(i,s,c),Ge=h;break;default:Ha(i,s,c)}}function h3(i,s){if(pa&&s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{VE(i)}catch(c){$t(s,s.return,c)}}function Sb(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new D5),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new D5),s;default:throw Error(l(435,i.tag))}}function j1(i,s){var c=Sb(i);s.forEach(function(h){var d=xb.bind(null,i,h);c.has(h)||(c.add(h),h.then(d,d))})}function wn(i,s){var c=s.deletions;if(c!==null)for(var h=0;h<c.length;h++){var d=c[h],y=i,D=s;if(Dn){var R=D;t:for(;R!==null;){switch(R.tag){case 27:if(Fe){if(pu(R.type)){qe=R.stateNode,qn=!1;break t}break}case 5:qe=R.stateNode,qn=!1;break t;case 3:case 4:qe=R.stateNode.containerInfo,qn=!0;break t}R=R.return}if(qe===null)throw Error(l(160));V1(y,D,d),qe=null,qn=!1}else V1(y,D,d);y=d.alternate,y!==null&&(y.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)d3(s,i),s=s.sibling}function d3(i,s){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(s,i),Xn(i),h&4&&(ai(3,i,i.return),gc(3,i),ai(5,i,i.return));break;case 1:wn(s,i),Xn(i),h&512&&(Ge||c===null||ka(c,c.return)),h&64&&El&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:if(Ba){var d=Ya;if(wn(s,i),Xn(i),h&512&&(Ge||c===null||ka(c,c.return)),h&4){h=c!==null?c.memoizedState:null;var y=i.memoizedState;c===null?y===null?i.stateNode===null?i.stateNode=QE(d,i.type,i.memoizedProps,i):h5(d,i.type,i.stateNode):i.stateNode=o5(d,y,i.memoizedProps):h!==y?(h===null?c.stateNode!==null&&d5(c.stateNode):f5(h),y===null?h5(d,i.type,i.stateNode):o5(d,y,i.memoizedProps)):y===null&&i.stateNode!==null&&B1(i,i.memoizedProps,c.memoizedProps)}break}case 27:if(Fe){wn(s,i),Xn(i),h&512&&(Ge||c===null||ka(c,c.return)),c!==null&&h&4&&B1(i,i.memoizedProps,c.memoizedProps);break}case 5:if(wn(s,i),Xn(i),h&512&&(Ge||c===null||ka(c,c.return)),Dn){if(i.flags&32){d=i.stateNode;try{t5(d)}catch(P){$t(i,i.return,P)}}h&4&&i.stateNode!=null&&(d=i.memoizedProps,B1(i,d,c!==null?c.memoizedProps:d)),h&1024&&(Dg=!0)}break;case 6:if(wn(s,i),Xn(i),h&4&&Dn){if(i.stateNode===null)throw Error(l(162));h=i.memoizedProps,c=c!==null?c.memoizedProps:h,d=i.stateNode;try{cE(d,c,h)}catch(P){$t(i,i.return,P)}}break;case 3:if(Ba?(ZE(),d=Ya,Ya=hg(s.containerInfo),wn(s,i),Ya=d):wn(s,i),Xn(i),h&4){if(Dn&&pa&&c!==null&&c.memoizedState.isDehydrated)try{YE(s.containerInfo)}catch(P){$t(i,i.return,P)}if(ci){h=s.containerInfo,c=s.pendingChildren;try{a5(h,c)}catch(P){$t(i,i.return,P)}}}Dg&&(Dg=!1,g3(i));break;case 4:Ba?(c=Ya,Ya=hg(i.stateNode.containerInfo),wn(s,i),Xn(i),Ya=c):(wn(s,i),Xn(i)),h&4&&ci&&r3(i.stateNode,i,i.stateNode.pendingChildren);break;case 12:wn(s,i),Xn(i);break;case 13:wn(s,i),Xn(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Rg=La()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,j1(i,h)));break;case 22:d=i.memoizedState!==null;var D=c!==null&&c.memoizedState!==null,R=El,L=Ge;if(El=R||d,Ge=L||D,wn(s,i),Ge=L,El=R,Xn(i),h&8192&&(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(c===null||D||El||Ge||os(i)),Dn)){t:if(c=null,Dn)for(s=i;;){if(s.tag===5||Ba&&s.tag===26){if(c===null){D=c=s;try{y=D.stateNode,d?pE(y):vE(D.stateNode,D.memoizedProps)}catch(P){$t(D,D.return,P)}}}else if(s.tag===6){if(c===null){D=s;try{var F=D.stateNode;d?yE(F):SE(F,D.memoizedProps)}catch(P){$t(D,D.return,P)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,j1(i,c))));break;case 19:wn(s,i),Xn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,j1(i,h)));break;case 30:break;case 21:break;default:wn(s,i),Xn(i)}}function Xn(i){var s=i.flags;if(s&2){try{if(Dn){for(var c,h=i.return;h!==null;){if(u3(h)){c=h;break}h=h.return}if(c==null)throw Error(l(160));switch(c.tag){case 27:if(Fe){var d=c.stateNode,y=L1(i);Of(i,y,d);break}case 5:var D=c.stateNode;c.flags&32&&(t5(D),c.flags&=-33);var R=L1(i);Of(i,R,D);break;case 3:case 4:var L=c.stateNode.containerInfo,F=L1(i);Y1(i,F,L);break;default:throw Error(l(161))}}}catch(P){$t(i,i.return,P)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function g3(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;g3(s),s.tag===5&&s.flags&1024&&Ib(s.stateNode),i=i.sibling}}function li(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)o3(i,s.alternate,s),s=s.sibling}function os(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ai(4,s,s.return),os(s);break;case 1:ka(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&i3(s,s.return,c),os(s);break;case 27:Fe&&p5(s.stateNode);case 26:case 5:ka(s,s.return),os(s);break;case 22:s.memoizedState===null&&os(s);break;case 30:os(s);break;default:os(s)}i=i.sibling}}function ii(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,d=i,y=s,D=y.flags;switch(y.tag){case 0:case 11:case 15:ii(d,y,c),gc(4,y);break;case 1:if(ii(d,y,c),h=y,d=h.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){$t(h,h.return,F)}if(h=y,d=h.updateQueue,d!==null){var R=h.stateNode;try{var L=d.shared.hiddenCallbacks;if(L!==null)for(d.shared.hiddenCallbacks=null,d=0;d<L.length;d++)Jy(L[d],R)}catch(F){$t(h,h.return,F)}}c&&D&64&&l3(y),mc(y,y.return);break;case 27:Fe&&c3(y);case 26:case 5:ii(d,y,c),c&&h===null&&D&4&&s3(y),mc(y,y.return);break;case 12:ii(d,y,c);break;case 13:ii(d,y,c),c&&D&4&&h3(d,y);break;case 22:y.memoizedState===null&&ii(d,y,c),mc(y,y.return);break;case 30:break;default:ii(d,y,c)}s=s.sibling}}function X1(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&U(c))}function q1(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&U(i))}function Za(i,s,c,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)m3(i,s,c,h),s=s.sibling}function m3(i,s,c,h){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Za(i,s,c,h),d&2048&&gc(9,s);break;case 1:Za(i,s,c,h);break;case 3:Za(i,s,c,h),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&U(i)));break;case 12:if(d&2048){Za(i,s,c,h),i=s.stateNode;try{var y=s.memoizedProps,D=y.id,R=y.onPostCommit;typeof R=="function"&&R(D,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){$t(s,s.return,L)}}else Za(i,s,c,h);break;case 13:Za(i,s,c,h);break;case 23:break;case 22:y=s.stateNode,D=s.alternate,s.memoizedState!==null?y._visibility&2?Za(i,s,c,h):pc(i,s):y._visibility&2?Za(i,s,c,h):(y._visibility|=2,ou(i,s,c,h,(s.subtreeFlags&10256)!==0)),d&2048&&X1(D,s);break;case 24:Za(i,s,c,h),d&2048&&q1(s.alternate,s);break;default:Za(i,s,c,h)}}function ou(i,s,c,h,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,D=s,R=c,L=h,F=D.flags;switch(D.tag){case 0:case 11:case 15:ou(y,D,R,L,d),gc(8,D);break;case 23:break;case 22:var P=D.stateNode;D.memoizedState!==null?P._visibility&2?ou(y,D,R,L,d):pc(y,D):(P._visibility|=2,ou(y,D,R,L,d)),d&&F&2048&&X1(D.alternate,D);break;case 24:ou(y,D,R,L,d),d&&F&2048&&q1(D.alternate,D);break;default:ou(y,D,R,L,d)}s=s.sibling}}function pc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,h=s,d=h.flags;switch(h.tag){case 22:pc(c,h),d&2048&&X1(h.alternate,h);break;case 24:pc(c,h),d&2048&&q1(h.alternate,h);break;default:pc(c,h)}s=s.sibling}}function fs(i){if(i.subtreeFlags&Uu)for(i=i.child;i!==null;)p3(i),i=i.sibling}function p3(i){switch(i.tag){case 26:fs(i),i.flags&Uu&&(i.memoizedState!==null?JE(Ya,i.memoizedState,i.memoizedProps):$3(i.type,i.memoizedProps));break;case 5:fs(i),i.flags&Uu&&$3(i.type,i.memoizedProps);break;case 3:case 4:if(Ba){var s=Ya;Ya=hg(i.stateNode.containerInfo),fs(i),Ya=s}else fs(i);break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Uu,Uu=16777216,fs(i),Uu=s):fs(i));break;default:fs(i)}}function y3(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function yc(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];cn=h,S3(h,i)}y3(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)v3(i),i=i.sibling}function v3(i){switch(i.tag){case 0:case 11:case 15:yc(i),i.flags&2048&&ai(9,i,i.return);break;case 3:yc(i);break;case 12:yc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Rf(i)):yc(i);break;default:yc(i)}}function Rf(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];cn=h,S3(h,i)}y3(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ai(8,s,s.return),Rf(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Rf(s));break;default:Rf(s)}i=i.sibling}}function S3(i,s){for(;cn!==null;){var c=cn;switch(c.tag){case 0:case 11:case 15:ai(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:U(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,cn=h;else t:for(c=i;cn!==null;){h=cn;var d=h.sibling,y=h.return;if(f3(h),h===c){cn=null;break t}if(d!==null){d.return=y,cn=d;break t}cn=y}}}function K1(i){var s=Kb(i);if(s!=null){if(typeof s.memoizedProps["data-testname"]!="string")throw Error(l(364));return s}if(i=eE(i),i===null)throw Error(l(362));return i.stateNode.current}function Q1(i,s){var c=i.tag;switch(s.$$typeof){case If:if(i.type===s.value)return!0;break;case $f:t:{for(s=s.value,i=[i,0],c=0;c<i.length;){var h=i[c++],d=h.tag,y=i[c++],D=s[y];if(d!==5&&d!==26&&d!==27||!bc(h)){for(;D!=null&&Q1(h,D);)y++,D=s[y];if(y===s.length){s=!0;break t}else for(h=h.child;h!==null;)i.push(h,y),h=h.sibling}}s=!1}return s;case th:if((c===5||c===26||c===27)&&lE(i.stateNode,s.value))return!0;break;case nh:if((c===5||c===6||c===26||c===27)&&(i=aE(i),i!==null&&0<=i.indexOf(s.value)))return!0;break;case eh:if((c===5||c===26||c===27)&&(i=i.memoizedProps["data-testname"],typeof i=="string"&&i.toLowerCase()===s.value.toLowerCase()))return!0;break;default:throw Error(l(365))}return!1}function k1(i){switch(i.$$typeof){case If:return"<"+(b(i.value)||"Unknown")+">";case $f:return":has("+(k1(i)||"")+")";case th:return'[role="'+i.value+'"]';case nh:return'"'+i.value+'"';case eh:return'[data-testname="'+i.value+'"]';default:throw Error(l(365))}}function _3(i,s){var c=[];i=[i,0];for(var h=0;h<i.length;){var d=i[h++],y=d.tag,D=i[h++],R=s[D];if(y!==5&&y!==26&&y!==27||!bc(d)){for(;R!=null&&Q1(d,R);)D++,R=s[D];if(D===s.length)c.push(d);else for(d=d.child;d!==null;)i.push(d,D),d=d.sibling}}return c}function Z1(i,s){if(!_c)throw Error(l(363));i=K1(i),i=_3(i,s),s=[],i=Array.from(i);for(var c=0;c<i.length;){var h=i[c++],d=h.tag;if(d===5||d===26||d===27)bc(h)||s.push(h.stateNode);else for(h=h.child;h!==null;)i.push(h),h=h.sibling}return s}function In(){if(Vt&2&&qt!==0)return qt&-qt;if(yt.T!==null){var i=Tu;return i!==0?i:n1()}return kb()}function b3(){ba===0&&(ba=!(qt&536870912)||Ft?E():536870912);var i=_a.current;return i!==null&&(i.flags|=32),ba}function $n(i,s,c){(i===he&&(te===2||te===9)||i.cancelPendingCommit!==null)&&(fu(i,0),si(i,qt,ba,!1)),w(i,c),(!(Vt&2)||i!==he)&&(i===he&&(!(Vt&2)&&(_s|=c),Ne===4&&si(i,qt,ba,!1)),lt(i))}function E3(i,s,c){if(Vt&6)throw Error(l(327));var h=!c&&(s&124)===0&&(s&i.expiredLanes)===0||T(i,s),d=h?Eb(i,s):W1(i,s,!0),y=h;do{if(d===0){zu&&!h&&si(i,s,0,!1);break}else{if(c=i.current.alternate,y&&!_b(c)){d=W1(i,s,!1),y=!1;continue}if(d===2){if(y=s,i.errorRecoveryDisabledLanes&y)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;t:{var R=i;d=Nc;var L=pa&&R.current.memoizedState.isDehydrated;if(L&&(fu(R,D).flags|=256),D=W1(R,D,!1),D!==2){if(Mg&&!L){R.errorRecoveryDisabledLanes|=y,_s|=y,d=4;break t}y=Kn,Kn=d,y!==null&&(Kn===null?Kn=y:Kn.push.apply(Kn,y))}d=D}if(y=!1,d!==2)continue}}if(d===1){fu(i,0),si(i,s,0,!0);break}t:{switch(h=i,y=d,y){case 0:case 1:throw Error(l(345));case 4:if((s&4194048)!==s)break;case 6:si(h,s,ba,!di);break t;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((s&62914560)===s&&(d=Rg+300-La(),10<d)){if(si(h,s,ba,!di),C(h,0,!0)!==0)break t;h.timeoutHandle=Xb(T3.bind(null,h,c,Kn,ah,Og,s,ba,_s,wu,di,y,2,-0,0),d);break t}T3(h,c,Kn,ah,Og,s,ba,_s,wu,di,y,0,-0,0)}}break}while(!0);lt(i)}function T3(i,s,c,h,d,y,D,R,L,F,P,it,ct,At){if(i.timeoutHandle=ds,it=s.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(Wb(),p3(s),it=Pb(),it!==null)){i.cancelPendingCommit=it(U3.bind(null,i,s,y,c,h,d,D,R,L,P,1,ct,At)),si(i,y,D,!F);return}U3(i,s,y,c,h,d,D,R,L)}function _b(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var d=c[h],y=d.getSnapshot;d=d.value;try{if(!aa(y(),d))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function si(i,s,c,h){s&=~Ng,s&=~_s,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var d=s;0<d;){var y=31-ea(d),D=1<<y;h[y]=-1,d&=~D}c!==0&&Y(i,c,s)}function C3(){return Vt&6?!0:(Te(0),!1)}function F1(){if(Gt!==null){if(te===0)var i=Gt.return;else i=Gt,bl=ys=null,g1(i),Ou=null,Dc=0,i=Gt;for(;i!==null;)a3(i.alternate,i),i=i.return;Gt=null}}function fu(i,s){var c=i.timeoutHandle;c!==ds&&(i.timeoutHandle=ds,qb(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),F1(),he=i,Gt=c=pl(i.current,null),qt=s,te=0,la=null,di=!1,zu=T(i,s),Mg=!1,wu=ba=Ng=_s=gi=Ne=0,Kn=Nc=null,Og=!1,s&8&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var d=31-ea(h),y=1<<d;s|=i[d],h&=~y}return Tl=s,mf(),c}function A3(i,s){Mt=null,yt.H=Pf,s===Ac||s===kf?(s=ky(),te=3):s===Eg?(s=ky(),te=4):te=s===x5?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,la=s,Gt===null&&(Ne=1,xf(i,X(s,i.current)))}function x3(){var i=_a.current;return i===null?!0:(qt&4194048)===qt?Ja===null:(qt&62914560)===qt||qt&536870912?i===Ja:!1}function D3(){var i=yt.H;return yt.H=Pf,i===null?Pf:i}function M3(){var i=yt.A;return yt.A=fT,i}function J1(){Ne=4,di||(qt&4194048)!==qt&&_a.current!==null||(zu=!0),!(gi&134217727)&&!(_s&134217727)||he===null||si(he,qt,ba,!1)}function W1(i,s,c){var h=Vt;Vt|=2;var d=D3(),y=M3();(he!==i||qt!==s)&&(ah=null,fu(i,s)),s=!1;var D=Ne;t:do try{if(te!==0&&Gt!==null){var R=Gt,L=la;switch(te){case 8:F1(),D=6;break t;case 3:case 2:case 9:case 6:_a.current===null&&(s=!0);var F=te;if(te=0,la=null,hu(i,R,L,F),c&&zu){D=0;break t}break;default:F=te,te=0,la=null,hu(i,R,L,F)}}bb(),D=Ne;break}catch(P){A3(i,P)}while(!0);return s&&i.shellSuspendCounter++,bl=ys=null,Vt=h,yt.H=d,yt.A=y,Gt===null&&(he=null,qt=0,mf()),D}function bb(){for(;Gt!==null;)N3(Gt)}function Eb(i,s){var c=Vt;Vt|=2;var h=D3(),d=M3();he!==i||qt!==s?(ah=null,Oc=La()+500,fu(i,s)):zu=T(i,s);t:do try{if(te!==0&&Gt!==null){s=Gt;var y=la;e:switch(te){case 1:te=0,la=null,hu(i,s,y,1);break;case 2:case 9:if(Ky(y)){te=0,la=null,O3(s);break}s=function(){te!==2&&te!==9||he!==i||(te=7),lt(i)},y.then(s,s);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:Ky(y)?(te=0,la=null,O3(s)):(te=0,la=null,hu(i,s,y,7));break;case 5:var D=null;switch(Gt.tag){case 26:D=Gt.memoizedState;case 5:case 27:var R=Gt,L=R.type,F=R.pendingProps;if(D?g5(D):I3(L,F)){te=0,la=null;var P=R.sibling;if(P!==null)Gt=P;else{var it=R.return;it!==null?(Gt=it,Uf(it)):Gt=null}break e}}te=0,la=null,hu(i,s,y,5);break;case 6:te=0,la=null,hu(i,s,y,6);break;case 8:F1(),Ne=6;break t;default:throw Error(l(462))}}Tb();break}catch(ct){A3(i,ct)}while(!0);return bl=ys=null,yt.H=h,yt.A=d,Vt=c,Gt!==null?0:(he=null,qt=0,mf(),Ne)}function Tb(){for(;Gt!==null&&!$E();)N3(Gt)}function N3(i){var s=I4(i.alternate,i,Tl);i.memoizedProps=i.pendingProps,s===null?Uf(i):Gt=s}function O3(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=k4(c,s,s.pendingProps,s.type,void 0,qt);break;case 11:s=k4(c,s,s.pendingProps,s.type.render,s.ref,qt);break;case 5:g1(s);default:a3(c,s),s=Gt=V3(s,Tl),s=I4(c,s,Tl)}i.memoizedProps=i.pendingProps,s===null?Uf(i):Gt=s}function hu(i,s,c,h){bl=ys=null,g1(s),Ou=null,Dc=0;var d=s.return;try{if(gb(i,d,s,c,qt)){Ne=1,xf(i,X(c,i.current)),Gt=null;return}}catch(y){if(d!==null)throw Gt=d,y;Ne=1,xf(i,X(c,i.current)),Gt=null;return}s.flags&32768?(Ft||h===1?i=!0:zu||qt&536870912?i=!1:(di=i=!0,(h===2||h===9||h===3||h===6)&&(h=_a.current,h!==null&&h.tag===13&&(h.flags|=16384))),R3(s,i)):Uf(s)}function Uf(i){var s=i;do{if(s.flags&32768){R3(s,di);return}i=s.return;var c=pb(s.alternate,s,Tl);if(c!==null){Gt=c;return}if(s=s.sibling,s!==null){Gt=s;return}Gt=s=i}while(s!==null);Ne===0&&(Ne=5)}function R3(i,s){do{var c=yb(i.alternate,i);if(c!==null){c.flags&=32767,Gt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){Gt=i;return}Gt=i=c}while(i!==null);Ne=6,Gt=null}function U3(i,s,c,h,d,y,D,R,L){i.cancelPendingCommit=null;do vc();while(_n!==0);if(Vt&6)throw Error(l(327));if(s!==null){if(s===i.current)throw Error(l(177));if(y=s.lanes|s.childLanes,y|=Tg,N(i,c,y,D,R,L),i===he&&(Gt=he=null,qt=0),Gu=s,pi=i,Hu=c,Ug=y,zg=d,M5=h,s.subtreeFlags&10256||s.flags&10256?(i.callbackNode=null,i.callbackPriority=0,Db(mg,function(){return B3(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,s.subtreeFlags&13878||h){h=yt.T,yt.T=null,d=vl(),un(2),D=Vt,Vt|=4;try{vb(i,s,c)}finally{Vt=D,un(d),yt.T=h}}_n=1,z3(),w3(),G3()}}function z3(){if(_n===1){_n=0;var i=pi,s=Gu,c=(s.flags&13878)!==0;if(s.subtreeFlags&13878||c){c=yt.T,yt.T=null;var h=vl();un(2);var d=Vt;Vt|=4;try{d3(s,i),Vb(i.containerInfo)}finally{Vt=d,un(h),yt.T=c}}i.current=s,_n=2}}function w3(){if(_n===2){_n=0;var i=pi,s=Gu,c=(s.flags&8772)!==0;if(s.subtreeFlags&8772||c){c=yt.T,yt.T=null;var h=vl();un(2);var d=Vt;Vt|=4;try{o3(i,s.alternate,s)}finally{Vt=d,un(h),yt.T=c}}_n=3}}function G3(){if(_n===4||_n===3){_n=0,tT();var i=pi,s=Gu,c=Hu,h=M5;s.subtreeFlags&10256||s.flags&10256?_n=5:(_n=0,Gu=pi=null,H3(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(mi=null),q(c),s=s.stateNode,na&&typeof na.onCommitFiberRoot=="function")try{na.onCommitFiberRoot(Ec,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=yt.T,d=vl(),un(2),yt.T=null;try{for(var y=i.onRecoverableError,D=0;D<h.length;D++){var R=h[D];y(R.value,{componentStack:R.stack})}}finally{yt.T=s,un(d)}}Hu&3&&vc(),lt(i),d=i.pendingLanes,c&4194090&&d&42?i===wg?Rc++:(Rc=0,wg=i):Rc=0,Te(0)}}function H3(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,U(s)))}function vc(i){return z3(),w3(),G3(),B3()}function B3(){if(_n!==5)return!1;var i=pi,s=Ug;Ug=0;var c=q(Hu),h=32>c?32:c;c=yt.T;var d=vl();try{un(h),yt.T=null,h=zg,zg=null;var y=pi,D=Hu;if(_n=0,Gu=pi=null,Hu=0,Vt&6)throw Error(l(331));var R=Vt;if(Vt|=4,v3(y.current),m3(y,y.current,D,h),Vt=R,Te(0,!1),na&&typeof na.onPostCommitFiberRoot=="function")try{na.onPostCommitFiberRoot(Ec,y)}catch{}return!0}finally{un(d),yt.T=c,H3(i,s)}}function L3(i,s,c){s=X(c,s),s=x1(i.stateNode,s,2),i=ti(i,s,2),i!==null&&(w(i,2),lt(i))}function $t(i,s,c){if(i.tag===3)L3(i,i,c);else for(;s!==null;){if(s.tag===3){L3(s,i,c);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(mi===null||!mi.has(h))){i=X(c,i),c=Y4(2),h=ti(s,c,2),h!==null&&(V4(c,h,s,i),w(h,2),lt(h));break}}s=s.return}}function P1(i,s,c){var h=i.pingCache;if(h===null){h=i.pingCache=new hT;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(c)||(Mg=!0,d.add(c),i=Cb.bind(null,i,s,c),s.then(i,i))}function Cb(i,s,c){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,he===i&&(qt&c)===c&&(Ne===4||Ne===3&&(qt&62914560)===qt&&300>La()-Rg?!(Vt&2)&&fu(i,0):Ng|=c,wu===qt&&(wu=0)),lt(i)}function Y3(i,s){s===0&&(s=M()),i=ru(i,s),i!==null&&(w(i,s),lt(i))}function Ab(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),Y3(i,c)}function xb(i,s){var c=0;switch(i.tag){case 13:var h=i.stateNode,d=i.memoizedState;d!==null&&(c=d.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(l(314))}h!==null&&h.delete(s),Y3(i,c)}function Db(i,s){return Yf(i,s)}function Mb(i,s,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function I1(i){return i=i.prototype,!(!i||!i.isReactComponent)}function pl(i,s){var c=i.alternate;return c===null?(c=n(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function V3(i,s){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function zf(i,s,c,h,d,y){var D=0;if(h=i,typeof i=="function")I1(i)&&(D=1);else if(typeof i=="string")D=Ba&&Fe?r5(i,c,Sn.current)?26:y5(i)?27:5:Ba?r5(i,c,Sn.current)?26:5:Fe&&y5(i)?27:5;else t:switch(i){case rg:return i=n(31,c,s,d),i.elementType=rg,i.lanes=y,i;case gu:return hs(c.children,d,y,s);case k3:D=8,d|=24;break;case ag:return i=n(12,c,s,d|2),i.elementType=ag,i.lanes=y,i;case ig:return i=n(13,c,s,d),i.elementType=ig,i.lanes=y,i;case sg:return i=n(19,c,s,d),i.elementType=sg,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ub:case ui:D=10;break t;case Z3:D=9;break t;case lg:D=11;break t;case ug:D=14;break t;case ri:D=16,h=null;break t}D=29,c=Error(l(130,i===null?"null":typeof i,"")),h=null}return s=n(D,c,s,d),s.elementType=i,s.type=h,s.lanes=y,s}function hs(i,s,c,h){return i=n(7,i,h,s),i.lanes=c,i}function $1(i,s,c){return i=n(6,i,null,s),i.lanes=c,i}function tg(i,s,c){return s=n(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Nb(i,s,c,h,d,y,D,R){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ds,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=h,this.onUncaughtError=d,this.onCaughtError=y,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function j3(i,s,c,h,d,y,D,R,L,F,P,it){return i=new Nb(i,s,c,D,R,L,F,it),s=1,y===!0&&(s|=24),y=n(3,null,null,s),i.current=y,y.stateNode=i,s=ic(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:s},i1(y),i}function X3(i){return i?(i=vu,i):vu}function q3(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(l(188)):(i=Object.keys(i).join(","),Error(l(268,i)));return i=o(s),i=i!==null?f(i):null,i===null?null:Sc(i.stateNode)}function K3(i,s,c,h,d,y){d=X3(d),h.context===null?h.context=d:h.pendingContext=d,h=$l(s),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=ti(i,h,s),c!==null&&($n(c,i,s),sc(c,i,s))}function Q3(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function eg(i,s){Q3(i,s),(i=i.alternate)&&Q3(i,s)}var wt={},Ob=tt,ta=Fc,ng=Object.assign,Rb=Symbol.for("react.element"),wf=Symbol.for("react.transitional.element"),du=Symbol.for("react.portal"),gu=Symbol.for("react.fragment"),k3=Symbol.for("react.strict_mode"),ag=Symbol.for("react.profiler"),Ub=Symbol.for("react.provider"),Z3=Symbol.for("react.consumer"),ui=Symbol.for("react.context"),lg=Symbol.for("react.forward_ref"),ig=Symbol.for("react.suspense"),sg=Symbol.for("react.suspense_list"),ug=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),rg=Symbol.for("react.activity"),zb=Symbol.for("react.memo_cache_sentinel"),F3=Symbol.iterator,wb=Symbol.for("react.client.reference"),Gf=Array.isArray,yt=Ob.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Gb=t.rendererVersion,Hb=t.rendererPackageName,J3=t.extraDevToolsConfig,Sc=t.getPublicInstance,Bb=t.getRootHostContext,Lb=t.getChildHostContext,Yb=t.prepareForCommit,Vb=t.resetAfterCommit,jb=t.createInstance;t.cloneMutableInstance;var cg=t.appendInitialChild,W3=t.finalizeInitialChildren,Hf=t.shouldSetTextContent,P3=t.createTextInstance;t.cloneMutableTextInstance;var Xb=t.scheduleTimeout,qb=t.cancelTimeout,ds=t.noTimeout,yl=t.isPrimaryRenderer;t.warnsIfNotActing;var Dn=t.supportsMutation,ci=t.supportsPersistence,pa=t.supportsHydration,Kb=t.getInstanceFromNode;t.beforeActiveInstanceBlur;var Qb=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var un=t.setCurrentUpdatePriority,vl=t.getCurrentUpdatePriority,kb=t.resolveUpdatePriority;t.trackSchedulerEvent,t.resolveEventType,t.resolveEventTimeStamp;var Zb=t.shouldAttemptEagerTransition,Fb=t.detachDeletedInstance;t.requestPostPaintCallback;var Jb=t.maySuspendCommit,I3=t.preloadInstance,Wb=t.startSuspendingCommit,$3=t.suspendInstance;t.suspendOnActiveViewTransition;var Pb=t.waitForCommitToBeReady,mu=t.NotPendingTransition,gs=t.HostTransitionContext,Ib=t.resetFormInstance;t.bindToConsole;var $b=t.supportsMicrotasks,tE=t.scheduleMicrotask,_c=t.supportsTestSelectors,eE=t.findFiberRoot,nE=t.getBoundingRect,aE=t.getTextContent,bc=t.isHiddenSubtree,lE=t.matchAccessibilityRole,iE=t.setFocusIfFocusable,sE=t.setupIntersectionObserver,uE=t.appendChild,rE=t.appendChildToContainer,cE=t.commitTextUpdate,oE=t.commitMount,fE=t.commitUpdate,hE=t.insertBefore,dE=t.insertInContainerBefore,gE=t.removeChild,mE=t.removeChildFromContainer,t5=t.resetTextContent,pE=t.hideInstance,yE=t.hideTextInstance,vE=t.unhideInstance,SE=t.unhideTextInstance;t.cancelViewTransitionName,t.cancelRootViewTransitionName,t.restoreRootViewTransitionName,t.cloneRootViewTransitionContainer,t.removeRootViewTransitionClone,t.measureClonedInstance,t.hasInstanceChanged,t.hasInstanceAffectedParent,t.startViewTransition,t.startGestureTransition,t.stopGestureTransition,t.getCurrentGestureOffset,t.subscribeToGestureDirection,t.createViewTransitionInstance;var _E=t.clearContainer;t.createFragmentInstance,t.updateFragmentInstanceFiber,t.commitNewChildToFragmentInstance,t.deleteChildFromFragmentInstance;var bE=t.cloneInstance,e5=t.createContainerChildSet,n5=t.appendChildToContainerChildSet,EE=t.finalizeContainerChildren,a5=t.replaceContainerChildren,l5=t.cloneHiddenInstance,i5=t.cloneHiddenTextInstance,og=t.isSuspenseInstancePending,fg=t.isSuspenseInstanceFallback,TE=t.getSuspenseInstanceFallbackErrorDetails,CE=t.registerSuspenseInstanceRetry,AE=t.canHydrateFormStateMarker,xE=t.isFormStateMarkerMatching,s5=t.getNextHydratableSibling,DE=t.getNextHydratableSiblingAfterSingleton,ME=t.getFirstHydratableChild,NE=t.getFirstHydratableChildWithinContainer,OE=t.getFirstHydratableChildWithinSuspenseInstance,RE=t.getFirstHydratableChildWithinSingleton,UE=t.canHydrateInstance,zE=t.canHydrateTextInstance,wE=t.canHydrateSuspenseInstance,GE=t.hydrateInstance,HE=t.hydrateTextInstance,BE=t.hydrateSuspenseInstance,LE=t.getNextHydratableInstanceAfterSuspenseInstance,YE=t.commitHydratedContainer,VE=t.commitHydratedSuspenseInstance,jE=t.clearSuspenseBoundary,XE=t.clearSuspenseBoundaryFromContainer,u5=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var qE=t.validateHydratableInstance,KE=t.validateHydratableTextInstance,Ba=t.supportsResources,r5=t.isHostHoistableType,hg=t.getHoistableRoot,c5=t.getResource,o5=t.acquireResource,f5=t.releaseResource,QE=t.hydrateHoistable,h5=t.mountHoistable,d5=t.unmountHoistable,kE=t.createHoistableInstance,ZE=t.prepareToCommitHoistables,FE=t.mayResourceSuspendCommit,g5=t.preloadResource,JE=t.suspendResource,Fe=t.supportsSingletons,m5=t.resolveSingletonInstance,WE=t.acquireSingletonInstance,p5=t.releaseSingletonInstance,y5=t.isHostSingletonType,pu=t.isSingletonScope,dg=[],yu=-1,vu={},ea=Math.clz32?Math.clz32:A,PE=Math.log,IE=Math.LN2,Bf=256,Lf=4194304,Yf=ta.unstable_scheduleCallback,gg=ta.unstable_cancelCallback,$E=ta.unstable_shouldYield,tT=ta.unstable_requestPaint,La=ta.unstable_now,v5=ta.unstable_ImmediatePriority,eT=ta.unstable_UserBlockingPriority,mg=ta.unstable_NormalPriority,nT=ta.unstable_IdlePriority,aT=ta.log,lT=ta.unstable_setDisableYieldValue,Ec=null,na=null,pg,S5,yg=!1,_5=new WeakMap,Su=[],_u=0,Vf=null,jf=0,ya=[],va=0,ms=null,Sl=1,_l="",Sn=v(null),Tc=v(null),oi=v(null),Xf=v(null),Gn=null,Je=null,Ft=!1,ps=null,Fa=!1,vg=Error(l(519)),aa=typeof Object.is=="function"?Object.is:Yn,qf=v(null),ys=null,bl=null,iT=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},sT=ta.unstable_scheduleCallback,uT=ta.unstable_NormalPriority,Me={$$typeof:ui,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Kf=null,bu=null,Sg=!1,Qf=!1,_g=!1,Eu=0,Cc=null,bg=0,Tu=0,Cu=null,b5=yt.S;yt.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ub(i,s),b5!==null&&b5(i,s)};var vs=v(null),rT=Object.prototype.hasOwnProperty,Ac=Error(l(460)),Eg=Error(l(474)),kf=Error(l(542)),Zf={then:function(){}},Au=null,Sa=[],xu=0,Tg=0,fi=!1,Cg=!1,Du=v(null),Ff=v(0),hi=0,Mt=null,le=null,Xe=null,Jf=!1,Mu=!1,Ss=!1,Wf=0,xc=0,Nu=null,cT=0,Pf={readContext:pt,use:vf,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we},E5={readContext:pt,use:vf,useCallback:function(i,s){return jn().memoizedState=[i,s===void 0?null:s],i},useContext:pt,useEffect:y4,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,bf(4194308,4,b4.bind(null,s,i),c)},useLayoutEffect:function(i,s){return bf(4194308,4,i,s)},useInsertionEffect:function(i,s){bf(4,2,i,s)},useMemo:function(i,s){var c=jn();s=s===void 0?null:s;var h=i();if(Ss){I(!0);try{i()}finally{I(!1)}}return c.memoizedState=[h,s],h},useReducer:function(i,s,c){var h=jn();if(c!==void 0){var d=c(s);if(Ss){I(!0);try{c(s)}finally{I(!1)}}}else d=s;return h.memoizedState=h.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},h.queue=i,i=i.dispatch=db.bind(null,Mt,i),[h.memoizedState,i]},useRef:function(i){var s=jn();return i={current:i},s.memoizedState=i},useState:function(i){i=S1(i);var s=i.queue,c=O4.bind(null,Mt,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:b1,useDeferredValue:function(i,s){var c=jn();return E1(c,i,s)},useTransition:function(){var i=S1(!1);return i=x4.bind(null,Mt,i.queue,!0,!1),jn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var h=Mt,d=jn();if(Ft){if(c===void 0)throw Error(l(407));c=c()}else{if(c=s(),he===null)throw Error(l(349));qt&124||e4(h,s,c)}d.memoizedState=c;var y={value:c,getSnapshot:s};return d.queue=y,y4(a4.bind(null,h,y,i),[i]),h.flags|=2048,cu(9,_f(),n4.bind(null,h,y,c,s),null),c},useId:function(){var i=jn(),s=he.identifierPrefix;if(Ft){var c=_l,h=Sl;c=(h&~(1<<32-ea(h)-1)).toString(32)+c,s="«"+s+"R"+c,c=Wf++,0<c&&(s+="H"+c.toString(32)),s+="»"}else c=cT++,s="«"+s+"r"+c.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:T1,useFormState:h4,useActionState:h4,useOptimistic:function(i){var s=jn();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=C1.bind(null,Mt,!0,c),c.dispatch=s,[i,s]},useMemoCache:p1,useCacheRefresh:function(){return jn().memoizedState=hb.bind(null,Mt)}},T5={readContext:pt,use:vf,useCallback:T4,useContext:pt,useEffect:v4,useImperativeHandle:E4,useInsertionEffect:S4,useLayoutEffect:_4,useMemo:C4,useReducer:Sf,useRef:p4,useState:function(){return Sf(dl)},useDebugValue:b1,useDeferredValue:function(i,s){var c=je();return A4(c,le.memoizedState,i,s)},useTransition:function(){var i=Sf(dl)[0],s=je().memoizedState;return[typeof i=="boolean"?i:cc(i),s]},useSyncExternalStore:t4,useId:M4,useHostTransitionStatus:T1,useFormState:d4,useActionState:d4,useOptimistic:function(i,s){var c=je();return s4(c,le,i,s)},useMemoCache:p1,useCacheRefresh:N4},oT={readContext:pt,use:vf,useCallback:T4,useContext:pt,useEffect:v4,useImperativeHandle:E4,useInsertionEffect:S4,useLayoutEffect:_4,useMemo:C4,useReducer:v1,useRef:p4,useState:function(){return v1(dl)},useDebugValue:b1,useDeferredValue:function(i,s){var c=je();return le===null?E1(c,i,s):A4(c,le.memoizedState,i,s)},useTransition:function(){var i=v1(dl)[0],s=je().memoizedState;return[typeof i=="boolean"?i:cc(i),s]},useSyncExternalStore:t4,useId:M4,useHostTransitionStatus:T1,useFormState:m4,useActionState:m4,useOptimistic:function(i,s){var c=je();return le!==null?s4(c,le,i,s):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:p1,useCacheRefresh:N4},Ou=null,Dc=0,Ru=w4(!0),C5=w4(!1),_a=v(null),Ja=null,We=v(0),Ag={enqueueSetState:function(i,s,c){i=i._reactInternals;var h=In(),d=$l(h);d.payload=s,c!=null&&(d.callback=c),s=ti(i,d,h),s!==null&&($n(s,i,h),sc(s,i,h))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var h=In(),d=$l(h);d.tag=1,d.payload=s,c!=null&&(d.callback=c),s=ti(i,d,h),s!==null&&($n(s,i,h),sc(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=In(),h=$l(c);h.tag=2,s!=null&&(h.callback=s),s=ti(i,h,c),s!==null&&($n(s,i,c),sc(s,i,c))}},A5=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},x5=Error(l(461)),rn=!1,xg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},El=!1,Ge=!1,Dg=!1,D5=typeof WeakSet=="function"?WeakSet:Set,cn=null,qe=null,qn=!1,Ya=null,Uu=8192,fT={getCacheForType:function(i){var s=pt(Me),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c}},If=0,$f=1,th=2,eh=3,nh=4;if(typeof Symbol=="function"&&Symbol.for){var Mc=Symbol.for;If=Mc("selector.component"),$f=Mc("selector.has_pseudo_class"),th=Mc("selector.role"),eh=Mc("selector.test_id"),nh=Mc("selector.text")}var hT=typeof WeakMap=="function"?WeakMap:Map,Vt=0,he=null,Gt=null,qt=0,te=0,la=null,di=!1,zu=!1,Mg=!1,Tl=0,Ne=0,gi=0,_s=0,Ng=0,ba=0,wu=0,Nc=null,Kn=null,Og=!1,Rg=0,Oc=1/0,ah=null,mi=null,_n=0,pi=null,Gu=null,Hu=0,Ug=0,zg=null,M5=null,Rc=0,wg=null;return wt.attemptContinuousHydration=function(i){if(i.tag===13){var s=ru(i,67108864);s!==null&&$n(s,i,67108864),eg(i,67108864)}},wt.attemptHydrationAtCurrentPriority=function(i){if(i.tag===13){var s=In();s=j(s);var c=ru(i,s);c!==null&&$n(c,i,s),eg(i,s)}},wt.attemptSynchronousHydration=function(i){switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=x(i.pendingLanes);if(s!==0){for(i.pendingLanes|=2,i.entangledLanes|=2;s;){var c=1<<31-ea(s);i.entanglements[1]|=c,s&=~c}lt(i),!(Vt&6)&&(Oc=La()+500,Te(0))}}break;case 13:s=ru(i,2),s!==null&&$n(s,i,2),C3(),eg(i,2)}},wt.batchedUpdates=function(i,s){return i(s)},wt.createComponentSelector=function(i){return{$$typeof:If,value:i}},wt.createContainer=function(i,s,c,h,d,y,D,R,L,F){return j3(i,s,!1,null,c,h,y,D,R,L,F,null)},wt.createHasPseudoClassSelector=function(i){return{$$typeof:$f,value:i}},wt.createHydrationContainer=function(i,s,c,h,d,y,D,R,L,F,P,it,ct){return i=j3(c,h,!0,i,d,y,R,L,F,P,it,ct),i.context=X3(null),c=i.current,h=In(),h=j(h),d=$l(h),d.callback=s??null,ti(c,d,h),s=h,i.current.lanes=s,w(i,s),lt(i),i},wt.createPortal=function(i,s,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:du,key:h==null?null:""+h,children:i,containerInfo:s,implementation:c}},wt.createRoleSelector=function(i){return{$$typeof:th,value:i}},wt.createTestNameSelector=function(i){return{$$typeof:eh,value:i}},wt.createTextSelector=function(i){return{$$typeof:nh,value:i}},wt.defaultOnCaughtError=function(i){console.error(i)},wt.defaultOnRecoverableError=function(i){A5(i)},wt.defaultOnUncaughtError=function(i){A5(i)},wt.deferredUpdates=function(i){var s=yt.T,c=vl();try{return un(32),yt.T=null,i()}finally{un(c),yt.T=s}},wt.discreteUpdates=function(i,s,c,h,d){var y=yt.T,D=vl();try{return un(2),yt.T=null,i(s,c,h,d)}finally{un(D),yt.T=y,Vt===0&&(Oc=La()+500)}},wt.findAllNodes=Z1,wt.findBoundingRects=function(i,s){if(!_c)throw Error(l(363));s=Z1(i,s),i=[];for(var c=0;c<s.length;c++)i.push(nE(s[c]));for(s=i.length-1;0<s;s--){c=i[s];for(var h=c.x,d=h+c.width,y=c.y,D=y+c.height,R=s-1;0<=R;R--)if(s!==R){var L=i[R],F=L.x,P=F+L.width,it=L.y,ct=it+L.height;if(h>=F&&y>=it&&d<=P&&D<=ct){i.splice(s,1);break}else if(h!==F||c.width!==L.width||ct<y||it>D){if(!(y!==it||c.height!==L.height||P<h||F>d)){F>h&&(L.width+=F-h,L.x=h),P<d&&(L.width=d-F),i.splice(s,1);break}}else{it>y&&(L.height+=it-y,L.y=y),ct<D&&(L.height=D-it),i.splice(s,1);break}}}return i},wt.findHostInstance=q3,wt.findHostInstanceWithNoPortals=function(i){return i=o(i),i=i!==null?g(i):null,i===null?null:Sc(i.stateNode)},wt.findHostInstanceWithWarning=function(i){return q3(i)},wt.flushPassiveEffects=vc,wt.flushSyncFromReconciler=function(i){var s=Vt;Vt|=1;var c=yt.T,h=vl();try{if(un(2),yt.T=null,i)return i()}finally{un(h),yt.T=c,Vt=s,!(Vt&6)&&Te(0)}},wt.flushSyncWork=C3,wt.focusWithin=function(i,s){if(!_c)throw Error(l(363));for(i=K1(i),s=_3(i,s),s=Array.from(s),i=0;i<s.length;){var c=s[i++],h=c.tag;if(!bc(c)){if((h===5||h===26||h===27)&&iE(c.stateNode))return!0;for(c=c.child;c!==null;)s.push(c),c=c.sibling}}return!1},wt.getFindAllNodesFailureDescription=function(i,s){if(!_c)throw Error(l(363));var c=0,h=[];i=[K1(i),0];for(var d=0;d<i.length;){var y=i[d++],D=y.tag,R=i[d++],L=s[R];if((D!==5&&D!==26&&D!==27||!bc(y))&&(Q1(y,L)&&(h.push(k1(L)),R++,R>c&&(c=R)),R<s.length))for(y=y.child;y!==null;)i.push(y,R),y=y.sibling}if(c<s.length){for(i=[];c<s.length;c++)i.push(k1(s[c]));return`findAllNodes was able to match part of the selector:
  `+(h.join(" > ")+`

No matching component was found for:
  `)+i.join(" > ")}return null},wt.getPublicRootInstance=function(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 27:case 5:return Sc(i.child.stateNode);default:return i.child.stateNode}},wt.injectIntoDevTools=function(){var i={bundleType:0,version:Gb,rendererPackageName:Hb,currentDispatcherRef:yt,reconcilerVersion:"19.1.0"};if(J3!==null&&(i.rendererConfig=J3),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")i=!1;else{var s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(s.isDisabled||!s.supportsFiber)i=!0;else{try{Ec=s.inject(i),na=s}catch{}i=!!s.checkDCE}}return i},wt.isAlreadyRendering=function(){return(Vt&6)!==0},wt.observeVisibleRects=function(i,s,c,h){if(!_c)throw Error(l(363));i=Z1(i,s);var d=sE(i,c,h).disconnect;return{disconnect:function(){d()}}},wt.shouldError=function(){return null},wt.shouldSuspend=function(){return!1},wt.startHostTransition=function(i,s,c,h){if(i.tag!==5)throw Error(l(476));var d=D4(i).queue;x4(i,d,s,mu,c===null?a:function(){var y=D4(i).next.queue;return fc(i,y,{},In()),c(h)})},wt.updateContainer=function(i,s,c,h){var d=s.current,y=In();return K3(d,y,i,s,c,h),y},wt.updateContainerSync=function(i,s,c,h){return K3(s.current,2,i,s,c,h),2},wt},e.exports.default=e.exports,Object.defineProperty(e.exports,"__esModule",{value:!0})})(X7);var dO=X7.exports;j7.exports=dO;var gO=j7.exports;const mO=ap(gO);var q7={exports:{}},ss={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ss.ConcurrentRoot=1;ss.ContinuousEventPriority=8;ss.DefaultEventPriority=32;ss.DiscreteEventPriority=2;ss.IdleEventPriority=268435456;ss.LegacyRoot=0;ss.NoEventPriority=0;q7.exports=ss;var Z0=q7.exports;const zv={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let wv=!1,Gv=!1;const Md=".react-konva-event",pO=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,yO=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,vO={};function F0(e,t,n=vO){if(!wv&&"zIndex"in t&&(console.warn(yO),wv=!0),!Gv&&t.draggable){var a=t.x!==void 0||t.y!==void 0,l=t.onDragEnd||t.onDragMove;a&&!l&&(console.warn(pO),Gv=!0)}for(var u in n)if(!zv[u]){var r=u.slice(0,2)==="on",o=n[u]!==t[u];if(r&&o){var f=u.substr(2).toLowerCase();f.substr(0,7)==="content"&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),e.off(f,n[u])}var g=!t.hasOwnProperty(u);g&&e.setAttr(u,void 0)}var m=t._useStrictMode,b={},v=!1;const p={};for(var u in t)if(!zv[u]){var r=u.slice(0,2)==="on",_=n[u]!==t[u];if(r&&_){var f=u.substr(2).toLowerCase();f.substr(0,7)==="content"&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),t[u]&&(p[f]=t[u])}!r&&(t[u]!==n[u]||m&&t[u]!==e.getAttr(u))&&(v=!0,b[u]=t[u])}v&&(e.setAttrs(b),us(e));for(var f in p)e.off(f+Md),e.on(f+Md,p[f])}function us(e){if(!xt.Konva.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}const K7={},SO={};Dd.Node.prototype._applyProps=F0;let Q7=Z0.DefaultEventPriority;function _O(e,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}e.add(t),us(e)}function bO(e,t,n){let a=Dd[e];a||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),a=Dd.Group);const l={},u={};for(var r in t)if(r!=="ref"){var o=r.slice(0,2)==="on";o?u[r]=t[r]:l[r]=t[r]}const f=new a(l);return F0(f,u),f}function EO(e,t,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function TO(e,t,n){return!1}function CO(e){return e}function AO(){return null}function xO(){return null}function DO(e,t,n,a){return SO}function MO(){}function NO(e){}function OO(e,t){return!1}function RO(){return K7}function UO(){return K7}const zO=setTimeout,wO=clearTimeout,GO=!0,HO=e=>{e()},BO=-1;function LO(e,t){return!1}const YO=!1,VO=!1,jO=!0,XO=!1,qO=!1;function KO(e,t){t.parent===e?t.moveToTop():e.add(t),us(e)}function QO(e,t){t.parent===e?t.moveToTop():e.add(t),us(e)}function k7(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),us(e)}function kO(e,t,n){k7(e,t,n)}function ZO(e,t){t.destroy(),t.off(Md),us(e)}function FO(e,t){t.destroy(),t.off(Md),us(e)}function JO(e,t,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function WO(e,t,n){}function PO(e,t,n,a){F0(e,a,n)}function IO(e){e.hide(),us(e)}function $O(e){}function tR(e,t){(t.visible==null||t.visible)&&e.show()}function eR(e,t){}function nR(e){}function aR(){}function lR(){return Z0.DefaultEventPriority}function iR(){}function sR(){return null}function uR(e){Q7=e}function rR(){return Q7}function cR(){return Z0.DiscreteEventPriority}function oR(){return!1}function fR(){}function hR(){return!1}function dR(){return!0}function gR(){}function mR(){}function pR(){return null}const yR=null;function vR(){}const SR=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:yR,appendChild:KO,appendChildToContainer:QO,appendInitialChild:_O,cancelTimeout:wO,clearContainer:nR,commitMount:WO,commitTextUpdate:JO,commitUpdate:PO,createInstance:bO,createTextInstance:EO,detachDeletedInstance:aR,finalizeInitialChildren:TO,getChildHostContext:UO,getCurrentEventPriority:lR,getCurrentUpdatePriority:rR,getInstanceFromScope:sR,getPublicInstance:CO,getRootHostContext:RO,hideInstance:IO,hideTextInstance:$O,idlePriority:Fc.unstable_IdlePriority,insertBefore:k7,insertInContainerBefore:kO,isPrimaryRenderer:YO,maySuspendCommit:hR,noTimeout:BO,now:Fc.unstable_now,preloadInstance:dR,prepareForCommit:AO,preparePortalMount:xO,prepareScopeUpdate:iR,prepareUpdate:DO,removeChild:ZO,removeChildFromContainer:FO,requestPostPaintCallback:fR,resetAfterCommit:MO,resetFormInstance:vR,resetTextContent:NO,resolveUpdatePriority:cR,run:Fc.unstable_runWithPriority,scheduleMicrotask:HO,scheduleTimeout:zO,setCurrentUpdatePriority:uR,shouldAttemptEagerTransition:oR,shouldDeprioritizeSubtree:OO,shouldSetTextContent:LO,startSuspendingCommit:gR,supportsHydration:qO,supportsMicrotasks:GO,supportsMutation:jO,supportsPersistence:XO,suspendInstance:mR,unhideInstance:tR,unhideTextInstance:eR,waitForCommitToBeReady:pR,warnsIfNotActing:VO},Symbol.toStringTag,{value:"Module"}));function Z7(e,t,n){if(!e)return;if(n(e)===!0)return e;let a=e.child;for(;a;){const l=Z7(a,t,n);if(l)return l;a=a.sibling}}function F7(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return e}}const vy=F7(tt.createContext(null));class J7 extends tt.Component{render(){return tt.createElement(vy.Provider,{value:this._reactInternals},this.props.children)}}function _R(){const e=tt.useContext(vy);if(e===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=tt.useId();return tt.useMemo(()=>{for(const n of[e,e==null?void 0:e.alternate]){if(!n)continue;const a=Z7(n,!1,l=>{let u=l.memoizedState;for(;u;){if(u.memoizedState===t)return!0;u=u.next}});if(a)return a}},[e,t])}const bR=Symbol.for("react.context"),ER=e=>e!==null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===bR;function TR(){const e=_R(),[t]=tt.useState(()=>new Map);t.clear();let n=e;for(;n;){const a=n.type;ER(a)&&a!==vy&&!t.has(a)&&t.set(a,tt.use(F7(a))),n=n.return}return t}function CR(){const e=TR();return tt.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>a=>tt.createElement(t,null,tt.createElement(n.Provider,{...a,value:e.get(n)})),t=>tt.createElement(J7,{...t})),[e])}if(Ie.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function AR(e){const t=Ie.useRef({});return Ie.useLayoutEffect(()=>{t.current=e}),Ie.useLayoutEffect(()=>()=>{t.current={}},[]),t.current}const xR=()=>{const e=Ie.useRef(0);return Ie.useMemo(()=>{e.current++},[]),e.current>1},DR=e=>{const t=Ie.useRef(null),n=Ie.useRef(null),a=Ie.useRef(null),l=AR(e),u=CR(),r=Ie.useRef(!1),o=g=>{const{forwardedRef:m}=e;m&&(typeof m=="function"?m(g):m.current=g)},f=xR();return Ie.useLayoutEffect(()=>r.current&&f?()=>{r.current=!1,o(null),Ju.updateContainer(null,a.current,null),n.current.destroy()}:(r.current=!0,n.current=new Dd.Stage({width:e.width,height:e.height,container:t.current}),o(n.current),a.current=Ju.createContainer(n.current,Z0.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Ju.updateContainer(Ie.createElement(u,{},e.children),a.current,null,()=>{}),()=>{f||(o(null),Ju.updateContainer(null,a.current,null),n.current.destroy())}),[]),Ie.useLayoutEffect(()=>{o(n.current),F0(n.current,e,l),Ju.updateContainer(Ie.createElement(u,{},e.children),a.current,null)}),Ie.createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},MR="Layer",NR="Rect",OR="Circle",RR="Ellipse",D2="Line",UR="Image",zR="Text",wR="Transformer",Ju=mO(SR);Ju.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Ie.version,rendererPackageName:"react-konva"});const GR=Ie.forwardRef((e,t)=>Ie.createElement(J7,{},Ie.createElement(DR,{...e,forwardedRef:t}))),Fn=()=>new Map,Fm=e=>{const t=Fn();return e.forEach((n,a)=>{t.set(a,n)}),t},hl=(e,t,n)=>{let a=e.get(t);return a===void 0&&e.set(t,a=n()),a},HR=(e,t)=>{const n=[];for(const[a,l]of e)n.push(t(l,a));return n},BR=(e,t)=>{for(const[n,a]of e)if(t(a,n))return!0;return!1},Fi=()=>new Set,M2=e=>e[e.length-1],LR=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},Kl=Array.from,YR=Array.isArray;class VR{constructor(){this._observers=Fn()}on(t,n){return hl(this._observers,t,Fi).add(n),n}once(t,n){const a=(...l)=>{this.off(t,a),n(...l)};this.on(t,a)}off(t,n){const a=this._observers.get(t);a!==void 0&&(a.delete(n),a.size===0&&this._observers.delete(t))}emit(t,n){return Kl((this._observers.get(t)||Fn()).values()).forEach(a=>a(...n))}destroy(){this._observers=Fn()}}class W7{constructor(){this._observers=Fn()}on(t,n){hl(this._observers,t,Fi).add(n)}once(t,n){const a=(...l)=>{this.off(t,a),n(...l)};this.on(t,a)}off(t,n){const a=this._observers.get(t);a!==void 0&&(a.delete(n),a.size===0&&this._observers.delete(t))}emit(t,n){return Kl((this._observers.get(t)||Fn()).values()).forEach(a=>a(...n))}destroy(){this._observers=Fn()}}const Ql=Math.floor,Xh=Math.abs,Sy=(e,t)=>e<t?e:t,su=(e,t)=>e>t?e:t,jR=Math.pow,P7=e=>e!==0?e<0:1/e<0,Hv=1,Bv=2,N2=4,O2=8,Oo=32,Yl=64,da=128,J0=31,Jm=63,Ls=127,XR=2147483647,I7=Number.MAX_SAFE_INTEGER,qR=Number.isInteger||(e=>typeof e=="number"&&isFinite(e)&&Ql(e)===e),KR=String.fromCharCode,QR=e=>e.toLowerCase(),kR=/^\s*/g,ZR=e=>e.replace(kR,""),FR=/([A-Z])/g,Lv=(e,t)=>ZR(e.replace(FR,n=>`${t}${QR(n)}`)),JR=e=>{const t=unescape(encodeURIComponent(e)),n=t.length,a=new Uint8Array(n);for(let l=0;l<n;l++)a[l]=t.codePointAt(l);return a},Ro=typeof TextEncoder<"u"?new TextEncoder:null,WR=e=>Ro.encode(e),PR=Ro?WR:JR;let oo=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});oo&&oo.decode(new Uint8Array).length===1&&(oo=null);class lf{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Nn=()=>new lf,_y=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},xe=e=>{const t=new Uint8Array(_y(e));let n=0;for(let a=0;a<e.bufs.length;a++){const l=e.bufs[a];t.set(l,n),n+=l.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},IR=(e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(su(n,t)*2),e.cpos=0)},fn=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(n*2),e.cpos=0),e.cbuf[e.cpos++]=t},Wm=fn,gt=(e,t)=>{for(;t>Ls;)fn(e,da|Ls&t),t=Ql(t/128);fn(e,Ls&t)},by=(e,t)=>{const n=P7(t);for(n&&(t=-t),fn(e,(t>Jm?da:0)|(n?Yl:0)|Jm&t),t=Ql(t/64);t>0;)fn(e,(t>Ls?da:0)|Ls&t),t=Ql(t/128)},Pm=new Uint8Array(3e4),$R=Pm.length/3,tU=(e,t)=>{if(t.length<$R){const n=Ro.encodeInto(t,Pm).written||0;gt(e,n);for(let a=0;a<n;a++)fn(e,Pm[a])}else Be(e,PR(t))},eU=(e,t)=>{const n=unescape(encodeURIComponent(t)),a=n.length;gt(e,a);for(let l=0;l<a;l++)fn(e,n.codePointAt(l))},Ys=Ro&&Ro.encodeInto?tU:eU,W0=(e,t)=>{const n=e.cbuf.length,a=e.cpos,l=Sy(n-a,t.length),u=t.length-l;e.cbuf.set(t.subarray(0,l),a),e.cpos+=l,u>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(su(n*2,u)),e.cbuf.set(t.subarray(l)),e.cpos=u)},Be=(e,t)=>{gt(e,t.byteLength),W0(e,t)},Ey=(e,t)=>{IR(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},nU=(e,t)=>Ey(e,4).setFloat32(0,t,!1),aU=(e,t)=>Ey(e,8).setFloat64(0,t,!1),lU=(e,t)=>Ey(e,8).setBigInt64(0,t,!1),Yv=new DataView(new ArrayBuffer(4)),iU=e=>(Yv.setFloat32(0,e),Yv.getFloat32(0)===e),Uo=(e,t)=>{switch(typeof t){case"string":fn(e,119),Ys(e,t);break;case"number":qR(t)&&Xh(t)<=XR?(fn(e,125),by(e,t)):iU(t)?(fn(e,124),nU(e,t)):(fn(e,123),aU(e,t));break;case"bigint":fn(e,122),lU(e,t);break;case"object":if(t===null)fn(e,126);else if(YR(t)){fn(e,117),gt(e,t.length);for(let n=0;n<t.length;n++)Uo(e,t[n])}else if(t instanceof Uint8Array)fn(e,116),Be(e,t);else{fn(e,118);const n=Object.keys(t);gt(e,n.length);for(let a=0;a<n.length;a++){const l=n[a];Ys(e,l),Uo(e,t[l])}}break;case"boolean":fn(e,t?120:121);break;default:fn(e,127)}};class Vv extends lf{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&gt(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const jv=e=>{e.count>0&&(by(e.encoder,e.count===1?e.s:-e.s),e.count>1&&gt(e.encoder,e.count-2))};class qh{constructor(){this.encoder=new lf,this.s=0,this.count=0}write(t){this.s===t?this.count++:(jv(this),this.count=1,this.s=t)}toUint8Array(){return jv(this),xe(this.encoder)}}const Xv=e=>{if(e.count>0){const t=e.diff*2+(e.count===1?0:1);by(e.encoder,t),e.count>1&&gt(e.encoder,e.count-2)}};class R2{constructor(){this.encoder=new lf,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(Xv(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return Xv(this),xe(this.encoder)}}class sU{constructor(){this.sarr=[],this.s="",this.lensE=new qh}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new lf;return this.sarr.push(this.s),this.s="",Ys(t,this.sarr.join("")),W0(t,this.lensE.toUint8Array()),xe(t)}}const Ji=e=>new Error(e),ll=()=>{throw Ji("Method unimplemented")},il=()=>{throw Ji("Unexpected case")},$7=Ji("Unexpected end of array"),t_=Ji("Integer out of Range");class P0{constructor(t){this.arr=t,this.pos=0}}const rs=e=>new P0(e),uU=e=>e.pos!==e.arr.length,rU=(e,t)=>{const n=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},Mn=e=>rU(e,Ct(e)),Hr=e=>e.arr[e.pos++],Ct=e=>{let t=0,n=1;const a=e.arr.length;for(;e.pos<a;){const l=e.arr[e.pos++];if(t=t+(l&Ls)*n,n*=128,l<da)return t;if(t>I7)throw t_}throw $7},Ty=e=>{let t=e.arr[e.pos++],n=t&Jm,a=64;const l=(t&Yl)>0?-1:1;if(!(t&da))return l*n;const u=e.arr.length;for(;e.pos<u;){if(t=e.arr[e.pos++],n=n+(t&Ls)*a,a*=128,t<da)return l*n;if(n>I7)throw t_}throw $7},cU=e=>{let t=Ct(e);if(t===0)return"";{let n=String.fromCodePoint(Hr(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(Hr(e));else for(;t>0;){const a=t<1e4?t:1e4,l=e.arr.subarray(e.pos,e.pos+a);e.pos+=a,n+=String.fromCodePoint.apply(null,l),t-=a}return decodeURIComponent(escape(n))}},oU=e=>oo.decode(Mn(e)),qi=oo?oU:cU,Cy=(e,t)=>{const n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},fU=e=>Cy(e,4).getFloat32(0,!1),hU=e=>Cy(e,8).getFloat64(0,!1),dU=e=>Cy(e,8).getBigInt64(0,!1),gU=[e=>{},e=>null,Ty,fU,hU,dU,e=>!1,e=>!0,qi,e=>{const t=Ct(e),n={};for(let a=0;a<t;a++){const l=qi(e);n[l]=zo(e)}return n},e=>{const t=Ct(e),n=[];for(let a=0;a<t;a++)n.push(zo(e));return n},Mn],zo=e=>gU[127-Hr(e)](e);class qv extends P0{constructor(t,n){super(t),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),uU(this)?this.count=Ct(this)+1:this.count=-1),this.count--,this.s}}class Kh extends P0{constructor(t){super(t),this.s=0,this.count=0}read(){if(this.count===0){this.s=Ty(this);const t=P7(this.s);this.count=1,t&&(this.s=-this.s,this.count=Ct(this)+2)}return this.count--,this.s}}class U2 extends P0{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const t=Ty(this),n=t&1;this.diff=Ql(t/2),this.count=1,n&&(this.count=Ct(this)+2)}return this.s+=this.diff,this.count--,this.s}}class mU{constructor(t){this.decoder=new Kh(t),this.str=qi(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),n=this.str.slice(this.spos,t);return this.spos=t,n}}const pU=crypto.getRandomValues.bind(crypto),e_=()=>pU(new Uint32Array(1))[0],yU="10000000-1000-4000-8000"+-1e11,vU=()=>yU.replace(/[018]/g,e=>(e^e_()&15>>e/4).toString(16)),Ks=Date.now,Kv=e=>new Promise(e);Promise.all.bind(Promise);const Qv=e=>e===void 0?null:e;class SU{constructor(){this.map=new Map}setItem(t,n){this.map.set(t,n)}getItem(t){return this.map.get(t)}}let n_=new SU,Ay=!0;try{typeof localStorage<"u"&&localStorage&&(n_=localStorage,Ay=!1)}catch{}const a_=n_,_U=e=>Ay||addEventListener("storage",e),bU=e=>Ay||removeEventListener("storage",e),EU=Object.assign,l_=Object.keys,TU=(e,t)=>{for(const n in e)t(e[n],n)},CU=(e,t)=>{const n=[];for(const a in e)n.push(t(e[a],a));return n},kv=e=>l_(e).length,Zv=e=>l_(e).length,AU=e=>{for(const t in e)return!1;return!0},xU=(e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0},i_=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),DU=(e,t)=>e===t||Zv(e)===Zv(t)&&xU(e,(n,a)=>(n!==void 0||i_(t,a))&&t[a]===n),MU=Object.freeze,s_=e=>{for(const t in e){const n=e[t];(typeof n=="object"||typeof n=="function")&&s_(e[t])}return MU(e)},Fv=Symbol("Equality"),xy=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&xy(e,t,n+1)}},NU=e=>e,fo=(e,t)=>{if(e===t)return!0;if(e==null||t==null||e.constructor!==t.constructor)return!1;if(e[Fv]!=null)return e[Fv](t);switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:{if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;break}case Set:{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;break}case Map:{if(e.size!==t.size)return!1;for(const n of e.keys())if(!t.has(n)||!fo(e.get(n),t.get(n)))return!1;break}case Object:if(kv(e)!==kv(t))return!1;for(const n in e)if(!i_(e,n)||!fo(e[n],t[n]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!fo(e[n],t[n]))return!1;break;default:return!1}return!0},OU=(e,t)=>t.includes(e);var u_={};const Wi=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",r_=typeof window<"u"&&typeof document<"u"&&!Wi;let Pa;const RU=()=>{if(Pa===void 0)if(Wi){Pa=Fn();const e=process.argv;let t=null;for(let n=0;n<e.length;n++){const a=e[n];a[0]==="-"?(t!==null&&Pa.set(t,""),t=a):t!==null&&(Pa.set(t,a),t=null)}t!==null&&Pa.set(t,"")}else typeof location=="object"?(Pa=Fn(),(location.search||"?").slice(1).split("&").forEach(e=>{if(e.length!==0){const[t,n]=e.split("=");Pa.set(`--${Lv(t,"-")}`,n),Pa.set(`-${Lv(t,"-")}`,n)}})):Pa=Fn();return Pa},Im=e=>RU().has(e),Nd=e=>Qv(Wi?u_[e.toUpperCase().replaceAll("-","_")]:a_.getItem(e)),c_=e=>Im("--"+e)||Nd(e)!==null;c_("production");const UU=Wi&&OU(u_.FORCE_COLOR,["true","1","2"]),zU=UU||!Im("--no-colors")&&!c_("no-color")&&(!Wi||process.stdout.isTTY)&&(!Wi||Im("--color")||Nd("COLORTERM")!==null||(Nd("TERM")||"").includes("color")),o_=e=>new Uint8Array(e),wU=(e,t,n)=>new Uint8Array(e,t,n),GU=e=>new Uint8Array(e),HU=e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=KR(e[n]);return btoa(t)},BU=e=>Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"),LU=e=>{const t=atob(e),n=o_(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n},YU=e=>{const t=Buffer.from(e,"base64");return wU(t.buffer,t.byteOffset,t.byteLength)},VU=r_?HU:BU,jU=r_?LU:YU,XU=e=>{const t=o_(e.byteLength);return t.set(e),t};class qU{constructor(t,n){this.left=t,this.right=n}}const Ml=(e,t)=>new qU(e,t);typeof DOMParser<"u"&&new DOMParser;const KU=e=>HR(e,(t,n)=>`${n}:${t};`).join(""),Pl=Symbol,f_=Pl(),h_=Pl(),QU=Pl(),kU=Pl(),ZU=Pl(),d_=Pl(),FU=Pl(),Dy=Pl(),JU=Pl(),WU=e=>{var l;e.length===1&&((l=e[0])==null?void 0:l.constructor)===Function&&(e=e[0]());const t=[],n=[];let a=0;for(;a<e.length;a++){const u=e[a];if(u===void 0)break;if(u.constructor===String||u.constructor===Number)t.push(u);else if(u.constructor===Object)break}for(a>0&&n.push(t.join(""));a<e.length;a++){const u=e[a];u instanceof Symbol||n.push(u)}return n},PU={[f_]:Ml("font-weight","bold"),[h_]:Ml("font-weight","normal"),[QU]:Ml("color","blue"),[ZU]:Ml("color","green"),[kU]:Ml("color","grey"),[d_]:Ml("color","red"),[FU]:Ml("color","purple"),[Dy]:Ml("color","orange"),[JU]:Ml("color","black")},IU=e=>{var r;e.length===1&&((r=e[0])==null?void 0:r.constructor)===Function&&(e=e[0]());const t=[],n=[],a=Fn();let l=[],u=0;for(;u<e.length;u++){const o=e[u],f=PU[o];if(f!==void 0)a.set(f.left,f.right);else{if(o===void 0)break;if(o.constructor===String||o.constructor===Number){const g=KU(a);u>0||g.length>0?(t.push("%c"+o),n.push(g)):t.push(o)}else break}}for(u>0&&(l=n,l.unshift(t.join("")));u<e.length;u++){const o=e[u];o instanceof Symbol||l.push(o)}return l},g_=zU?IU:WU,$U=(...e)=>{console.log(...g_(e)),m_.forEach(t=>t.print(e))},tz=(...e)=>{console.warn(...g_(e)),e.unshift(Dy),m_.forEach(t=>t.print(e))},m_=Fi(),p_=e=>({[Symbol.iterator](){return this},next:e}),ez=(e,t)=>p_(()=>{let n;do n=e.next();while(!n.done&&!t(n.value));return n}),z2=(e,t)=>p_(()=>{const{done:n,value:a}=e.next();return{done:n,value:n?void 0:t(a)}});class My{constructor(t,n){this.clock=t,this.len=n}}class sf{constructor(){this.clients=new Map}}const y_=(e,t,n)=>t.clients.forEach((a,l)=>{const u=e.doc.store.clients.get(l);if(u!=null){const r=u[u.length-1],o=r.id.clock+r.length;for(let f=0,g=a[f];f<a.length&&g.clock<o;g=a[++f])O_(e,u,g.clock,g.len,n)}}),nz=(e,t)=>{let n=0,a=e.length-1;for(;n<=a;){const l=Ql((n+a)/2),u=e[l],r=u.clock;if(r<=t){if(t<r+u.len)return l;n=l+1}else a=l-1}return null},v_=(e,t)=>{const n=e.clients.get(t.client);return n!==void 0&&nz(n,t.clock)!==null},Ny=e=>{e.clients.forEach(t=>{t.sort((l,u)=>l.clock-u.clock);let n,a;for(n=1,a=1;n<t.length;n++){const l=t[a-1],u=t[n];l.clock+l.len>=u.clock?l.len=su(l.len,u.clock+u.len-l.clock):(a<n&&(t[a]=u),a++)}t.length=a})},az=e=>{const t=new sf;for(let n=0;n<e.length;n++)e[n].clients.forEach((a,l)=>{if(!t.clients.has(l)){const u=a.slice();for(let r=n+1;r<e.length;r++)LR(u,e[r].clients.get(l)||[]);t.clients.set(l,u)}});return Ny(t),t},Od=(e,t,n,a)=>{hl(e.clients,t,()=>[]).push(new My(n,a))},lz=()=>new sf,iz=e=>{const t=lz();return e.clients.forEach((n,a)=>{const l=[];for(let u=0;u<n.length;u++){const r=n[u];if(r.deleted){const o=r.id.clock;let f=r.length;if(u+1<n.length)for(let g=n[u+1];u+1<n.length&&g.deleted;g=n[++u+1])f+=g.length;l.push(new My(o,f))}}l.length>0&&t.clients.set(a,l)}),t},ec=(e,t)=>{gt(e.restEncoder,t.clients.size),Kl(t.clients.entries()).sort((n,a)=>a[0]-n[0]).forEach(([n,a])=>{e.resetDsCurVal(),gt(e.restEncoder,n);const l=a.length;gt(e.restEncoder,l);for(let u=0;u<l;u++){const r=a[u];e.writeDsClock(r.clock),e.writeDsLen(r.len)}})},Oy=e=>{const t=new sf,n=Ct(e.restDecoder);for(let a=0;a<n;a++){e.resetDsCurVal();const l=Ct(e.restDecoder),u=Ct(e.restDecoder);if(u>0){const r=hl(t.clients,l,()=>[]);for(let o=0;o<u;o++)r.push(new My(e.readDsClock(),e.readDsLen()))}}return t},Jv=(e,t,n)=>{const a=new sf,l=Ct(e.restDecoder);for(let u=0;u<l;u++){e.resetDsCurVal();const r=Ct(e.restDecoder),o=Ct(e.restDecoder),f=n.clients.get(r)||[],g=mn(n,r);for(let m=0;m<o;m++){const b=e.readDsClock(),v=b+e.readDsLen();if(b<g){g<v&&Od(a,r,g,v-g);let p=sl(f,b),_=f[p];for(!_.deleted&&_.id.clock<b&&(f.splice(p+1,0,Bd(t,_,b-_.id.clock)),p++);p<f.length&&(_=f[p++],_.id.clock<v);)_.deleted||(v<_.id.clock+_.length&&f.splice(p,0,Bd(t,_,v-_.id.clock)),_.delete(t))}else Od(a,r,b,v-b)}}if(a.clients.size>0){const u=new Qs;return gt(u.restEncoder,0),ec(u,a),u.toUint8Array()}return null},S_=e_;class nc extends VR{constructor({guid:t=vU(),collectionid:n=null,gc:a=!0,gcFilter:l=()=>!0,meta:u=null,autoLoad:r=!1,shouldLoad:o=!0}={}){super(),this.gc=a,this.gcFilter=l,this.clientID=S_(),this.guid=t,this.collectionid=n,this.share=new Map,this.store=new M_,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=o,this.autoLoad=r,this.meta=u,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=Kv(g=>{this.on("load",()=>{this.isLoaded=!0,g(this)})});const f=()=>Kv(g=>{const m=b=>{(b===void 0||b===!0)&&(this.off("sync",m),g())};this.on("sync",m)});this.on("sync",g=>{g===!1&&this.isSynced&&(this.whenSynced=f()),this.isSynced=g===void 0||g===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=f()}load(){const t=this._item;t!==null&&!this.shouldLoad&&de(t.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Kl(this.subdocs).map(t=>t.guid))}transact(t,n=null){return de(this,t,n)}get(t,n=xn){const a=hl(this.share,t,()=>{const u=new n;return u._integrate(this,null),u}),l=a.constructor;if(n!==xn&&l!==n)if(l===xn){const u=new n;u._map=a._map,a._map.forEach(r=>{for(;r!==null;r=r.left)r.parent=u}),u._start=a._start;for(let r=u._start;r!==null;r=r.right)r.parent=u;return u._length=a._length,this.share.set(t,u),u._integrate(this,null),u}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return a}getArray(t=""){return this.get(t,Sr)}getText(t=""){return this.get(t,Yr)}getMap(t=""){return this.get(t,Lr)}getXmlElement(t=""){return this.get(t,Vr)}getXmlFragment(t=""){return this.get(t,ks)}toJSON(){const t={};return this.share.forEach((n,a)=>{t[a]=n.toJSON()}),t}destroy(){this.isDestroyed=!0,Kl(this.subdocs).forEach(n=>n.destroy());const t=this._item;if(t!==null){this._item=null;const n=t.content;n.doc=new nc({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=t,de(t.parent.doc,a=>{const l=n.doc;t.deleted||a.subdocsAdded.add(l),a.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class __{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return Ct(this.restDecoder)}readDsLen(){return Ct(this.restDecoder)}}class b_ extends __{readLeftID(){return jt(Ct(this.restDecoder),Ct(this.restDecoder))}readRightID(){return jt(Ct(this.restDecoder),Ct(this.restDecoder))}readClient(){return Ct(this.restDecoder)}readInfo(){return Hr(this.restDecoder)}readString(){return qi(this.restDecoder)}readParentInfo(){return Ct(this.restDecoder)===1}readTypeRef(){return Ct(this.restDecoder)}readLen(){return Ct(this.restDecoder)}readAny(){return zo(this.restDecoder)}readBuf(){return XU(Mn(this.restDecoder))}readJSON(){return JSON.parse(qi(this.restDecoder))}readKey(){return qi(this.restDecoder)}}class sz{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Ct(this.restDecoder),this.dsCurrVal}readDsLen(){const t=Ct(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class Br extends sz{constructor(t){super(t),this.keys=[],Ct(t),this.keyClockDecoder=new U2(Mn(t)),this.clientDecoder=new Kh(Mn(t)),this.leftClockDecoder=new U2(Mn(t)),this.rightClockDecoder=new U2(Mn(t)),this.infoDecoder=new qv(Mn(t),Hr),this.stringDecoder=new mU(Mn(t)),this.parentInfoDecoder=new qv(Mn(t),Hr),this.typeRefDecoder=new Kh(Mn(t)),this.lenDecoder=new Kh(Mn(t))}readLeftID(){return new vr(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new vr(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return zo(this.restDecoder)}readBuf(){return Mn(this.restDecoder)}readJSON(){return zo(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class E_{constructor(){this.restEncoder=Nn()}toUint8Array(){return xe(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){gt(this.restEncoder,t)}writeDsLen(t){gt(this.restEncoder,t)}}class uf extends E_{writeLeftID(t){gt(this.restEncoder,t.client),gt(this.restEncoder,t.clock)}writeRightID(t){gt(this.restEncoder,t.client),gt(this.restEncoder,t.clock)}writeClient(t){gt(this.restEncoder,t)}writeInfo(t){Wm(this.restEncoder,t)}writeString(t){Ys(this.restEncoder,t)}writeParentInfo(t){gt(this.restEncoder,t?1:0)}writeTypeRef(t){gt(this.restEncoder,t)}writeLen(t){gt(this.restEncoder,t)}writeAny(t){Uo(this.restEncoder,t)}writeBuf(t){Be(this.restEncoder,t)}writeJSON(t){Ys(this.restEncoder,JSON.stringify(t))}writeKey(t){Ys(this.restEncoder,t)}}class T_{constructor(){this.restEncoder=Nn(),this.dsCurrVal=0}toUint8Array(){return xe(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const n=t-this.dsCurrVal;this.dsCurrVal=t,gt(this.restEncoder,n)}writeDsLen(t){t===0&&il(),gt(this.restEncoder,t-1),this.dsCurrVal+=t}}class Qs extends T_{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new R2,this.clientEncoder=new qh,this.leftClockEncoder=new R2,this.rightClockEncoder=new R2,this.infoEncoder=new Vv(Wm),this.stringEncoder=new sU,this.parentInfoEncoder=new Vv(Wm),this.typeRefEncoder=new qh,this.lenEncoder=new qh}toUint8Array(){const t=Nn();return gt(t,0),Be(t,this.keyClockEncoder.toUint8Array()),Be(t,this.clientEncoder.toUint8Array()),Be(t,this.leftClockEncoder.toUint8Array()),Be(t,this.rightClockEncoder.toUint8Array()),Be(t,xe(this.infoEncoder)),Be(t,this.stringEncoder.toUint8Array()),Be(t,xe(this.parentInfoEncoder)),Be(t,this.typeRefEncoder.toUint8Array()),Be(t,this.lenEncoder.toUint8Array()),W0(t,xe(this.restEncoder)),xe(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){Uo(this.restEncoder,t)}writeBuf(t){Be(this.restEncoder,t)}writeJSON(t){Uo(this.restEncoder,t)}writeKey(t){const n=this.keyMap.get(t);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(n)}}const uz=(e,t,n,a)=>{a=su(a,t[0].id.clock);const l=sl(t,a);gt(e.restEncoder,t.length-l),e.writeClient(n),gt(e.restEncoder,a);const u=t[l];u.write(e,a-u.id.clock);for(let r=l+1;r<t.length;r++)t[r].write(e,0)},Ry=(e,t,n)=>{const a=new Map;n.forEach((l,u)=>{mn(t,u)>l&&a.set(u,l)}),I0(t).forEach((l,u)=>{n.has(u)||a.set(u,0)}),gt(e.restEncoder,a.size),Kl(a.entries()).sort((l,u)=>u[0]-l[0]).forEach(([l,u])=>{uz(e,t.clients.get(l),l,u)})},rz=(e,t)=>{const n=Fn(),a=Ct(e.restDecoder);for(let l=0;l<a;l++){const u=Ct(e.restDecoder),r=new Array(u),o=e.readClient();let f=Ct(e.restDecoder);n.set(o,{i:0,refs:r});for(let g=0;g<u;g++){const m=e.readInfo();switch(J0&m){case 0:{const b=e.readLen();r[g]=new Oa(jt(o,f),b),f+=b;break}case 10:{const b=Ct(e.restDecoder);r[g]=new Ra(jt(o,f),b),f+=b;break}default:{const b=(m&(Yl|da))===0,v=new en(jt(o,f),null,(m&da)===da?e.readLeftID():null,null,(m&Yl)===Yl?e.readRightID():null,b?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,b&&(m&Oo)===Oo?e.readString():null,J_(e,m));r[g]=v,f+=v.length}}}}return n},cz=(e,t,n)=>{const a=[];let l=Kl(n.keys()).sort((p,_)=>p-_);if(l.length===0)return null;const u=()=>{if(l.length===0)return null;let p=n.get(l[l.length-1]);for(;p.refs.length===p.i;)if(l.pop(),l.length>0)p=n.get(l[l.length-1]);else return null;return p};let r=u();if(r===null)return null;const o=new M_,f=new Map,g=(p,_)=>{const A=f.get(p);(A==null||A>_)&&f.set(p,_)};let m=r.refs[r.i++];const b=new Map,v=()=>{for(const p of a){const _=p.id.client,A=n.get(_);A?(A.i--,o.clients.set(_,A.refs.slice(A.i)),n.delete(_),A.i=0,A.refs=[]):o.clients.set(_,[p]),l=l.filter(x=>x!==_)}a.length=0};for(;;){if(m.constructor!==Ra){const _=hl(b,m.id.client,()=>mn(t,m.id.client))-m.id.clock;if(_<0)a.push(m),g(m.id.client,m.id.clock-1),v();else{const A=m.getMissing(e,t);if(A!==null){a.push(m);const x=n.get(A)||{refs:[],i:0};if(x.refs.length===x.i)g(A,mn(t,A)),v();else{m=x.refs[x.i++];continue}}else(_===0||_<m.length)&&(m.integrate(e,_),b.set(m.id.client,m.id.clock+m.length))}}if(a.length>0)m=a.pop();else if(r!==null&&r.i<r.refs.length)m=r.refs[r.i++];else{if(r=u(),r===null)break;m=r.refs[r.i++]}}if(o.clients.size>0){const p=new Qs;return Ry(p,o,new Map),gt(p.restEncoder,0),{missing:f,update:p.toUint8Array()}}return null},oz=(e,t)=>Ry(e,t.doc.store,t.beforeState),fz=(e,t,n,a=new Br(e))=>de(t,l=>{l.local=!1;let u=!1;const r=l.doc,o=r.store,f=rz(a,r),g=cz(l,o,f),m=o.pendingStructs;if(m){for(const[v,p]of m.missing)if(p<mn(o,v)){u=!0;break}if(g){for(const[v,p]of g.missing){const _=m.missing.get(v);(_==null||_>p)&&m.missing.set(v,p)}m.update=Rd([m.update,g.update])}}else o.pendingStructs=g;const b=Jv(a,l,o);if(o.pendingDs){const v=new Br(rs(o.pendingDs));Ct(v.restDecoder);const p=Jv(v,l,o);b&&p?o.pendingDs=Rd([b,p]):o.pendingDs=b||p}else o.pendingDs=b;if(u){const v=o.pendingStructs.update;o.pendingStructs=null,C_(l.doc,v)}},n,!1),C_=(e,t,n,a=Br)=>{const l=rs(t);fz(l,e,n,new a(l))},hz=(e,t,n)=>C_(e,t,n,b_),dz=(e,t,n=new Map)=>{Ry(e,t.store,n),ec(e,iz(t.store))},gz=(e,t=new Uint8Array([0]),n=new Qs)=>{const a=A_(t);dz(n,e,a);const l=[n.toUint8Array()];if(e.store.pendingDs&&l.push(e.store.pendingDs),e.store.pendingStructs&&l.push(Oz(e.store.pendingStructs.update,t)),l.length>1){if(n.constructor===uf)return Mz(l.map((u,r)=>r===0?u:Uz(u)));if(n.constructor===Qs)return Rd(l)}return l[0]},mz=(e,t)=>gz(e,t,new uf),pz=e=>{const t=new Map,n=Ct(e.restDecoder);for(let a=0;a<n;a++){const l=Ct(e.restDecoder),u=Ct(e.restDecoder);t.set(l,u)}return t},A_=e=>pz(new __(rs(e))),x_=(e,t)=>(gt(e.restEncoder,t.size),Kl(t.entries()).sort((n,a)=>a[0]-n[0]).forEach(([n,a])=>{gt(e.restEncoder,n),gt(e.restEncoder,a)}),e),yz=(e,t)=>x_(e,I0(t.store)),vz=(e,t=new T_)=>(e instanceof Map?x_(t,e):yz(t,e),t.toUint8Array()),Sz=e=>vz(e,new E_);class _z{constructor(){this.l=[]}}const Wv=()=>new _z,Pv=(e,t)=>e.l.push(t),Iv=(e,t)=>{const n=e.l,a=n.length;e.l=n.filter(l=>t!==l),a===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},D_=(e,t,n)=>xy(e.l,[t,n]);class vr{constructor(t,n){this.client=t,this.clock=n}}const Ch=(e,t)=>e===t||e!==null&&t!==null&&e.client===t.client&&e.clock===t.clock,jt=(e,t)=>new vr(e,t),bz=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw il()},Wu=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!v_(t.ds,e.id),$m=(e,t)=>{const n=hl(e.meta,$m,Fi),a=e.doc.store;n.has(t)||(t.sv.forEach((l,u)=>{l<mn(a,u)&&Pi(e,jt(u,l))}),y_(e,t.ds,l=>{}),n.add(t))};class M_{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const I0=e=>{const t=new Map;return e.clients.forEach((n,a)=>{const l=n[n.length-1];t.set(a,l.id.clock+l.length)}),t},mn=(e,t)=>{const n=e.clients.get(t);if(n===void 0)return 0;const a=n[n.length-1];return a.id.clock+a.length},N_=(e,t)=>{let n=e.clients.get(t.id.client);if(n===void 0)n=[],e.clients.set(t.id.client,n);else{const a=n[n.length-1];if(a.id.clock+a.length!==t.id.clock)throw il()}n.push(t)},sl=(e,t)=>{let n=0,a=e.length-1,l=e[a],u=l.id.clock;if(u===t)return a;let r=Ql(t/(u+l.length-1)*a);for(;n<=a;){if(l=e[r],u=l.id.clock,u<=t){if(t<u+l.length)return r;n=r+1}else a=r-1;r=Ql((n+a)/2)}throw il()},Ez=(e,t)=>{const n=e.clients.get(t.client);return n[sl(n,t.clock)]},w2=Ez,tp=(e,t,n)=>{const a=sl(t,n),l=t[a];return l.id.clock<n&&l instanceof en?(t.splice(a+1,0,Bd(e,l,n-l.id.clock)),a+1):a},Pi=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[tp(e,n,t.clock)]},$v=(e,t,n)=>{const a=t.clients.get(n.client),l=sl(a,n.clock),u=a[l];return n.clock!==u.id.clock+u.length-1&&u.constructor!==Oa&&a.splice(l+1,0,Bd(e,u,n.clock-u.id.clock+1)),u},Tz=(e,t,n)=>{const a=e.clients.get(t.id.client);a[sl(a,t.id.clock)]=n},O_=(e,t,n,a,l)=>{if(a===0)return;const u=n+a;let r=tp(e,t,n),o;do o=t[r++],u<o.id.clock+o.length&&tp(e,t,u),l(o);while(r<t.length&&t[r].id.clock<u)};class Cz{constructor(t,n,a){this.doc=t,this.deleteSet=new sf,this.beforeState=I0(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=a,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const t8=(e,t)=>t.deleteSet.clients.size===0&&!BR(t.afterState,(n,a)=>t.beforeState.get(a)!==n)?!1:(Ny(t.deleteSet),oz(e,t),ec(e,t.deleteSet),!0),e8=(e,t,n)=>{const a=t._item;(a===null||a.id.clock<(e.beforeState.get(a.id.client)||0)&&!a.deleted)&&hl(e.changed,t,Fi).add(n)},Qh=(e,t)=>{let n=e[t],a=e[t-1],l=t;for(;l>0;n=a,a=e[--l-1]){if(a.deleted===n.deleted&&a.constructor===n.constructor&&a.mergeWith(n)){n instanceof en&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,a);continue}break}const u=t-l;return u&&e.splice(t+1-u,u),u},Az=(e,t,n)=>{for(const[a,l]of e.clients.entries()){const u=t.clients.get(a);for(let r=l.length-1;r>=0;r--){const o=l[r],f=o.clock+o.len;for(let g=sl(u,o.clock),m=u[g];g<u.length&&m.id.clock<f;m=u[++g]){const b=u[g];if(o.clock+o.len<=b.id.clock)break;b instanceof en&&b.deleted&&!b.keep&&n(b)&&b.gc(t,!1)}}}},xz=(e,t)=>{e.clients.forEach((n,a)=>{const l=t.clients.get(a);for(let u=n.length-1;u>=0;u--){const r=n[u],o=Sy(l.length-1,1+sl(l,r.clock+r.len-1));for(let f=o,g=l[f];f>0&&g.id.clock>=r.clock;g=l[f])f-=1+Qh(l,f)}})},R_=(e,t)=>{if(t<e.length){const n=e[t],a=n.doc,l=a.store,u=n.deleteSet,r=n._mergeStructs;try{Ny(u),n.afterState=I0(n.doc.store),a.emit("beforeObserverCalls",[n,a]);const o=[];n.changed.forEach((f,g)=>o.push(()=>{(g._item===null||!g._item.deleted)&&g._callObserver(n,f)})),o.push(()=>{n.changedParentTypes.forEach((f,g)=>{g._dEH.l.length>0&&(g._item===null||!g._item.deleted)&&(f=f.filter(m=>m.target._item===null||!m.target._item.deleted),f.forEach(m=>{m.currentTarget=g,m._path=null}),f.sort((m,b)=>m.path.length-b.path.length),D_(g._dEH,f,n))})}),o.push(()=>a.emit("afterTransaction",[n,a])),xy(o,[]),n._needFormattingCleanup&&kz(n)}finally{a.gc&&Az(u,l,a.gcFilter),xz(u,l),n.afterState.forEach((m,b)=>{const v=n.beforeState.get(b)||0;if(v!==m){const p=l.clients.get(b),_=su(sl(p,v),1);for(let A=p.length-1;A>=_;)A-=1+Qh(p,A)}});for(let m=r.length-1;m>=0;m--){const{client:b,clock:v}=r[m].id,p=l.clients.get(b),_=sl(p,v);_+1<p.length&&Qh(p,_+1)>1||_>0&&Qh(p,_)}if(!n.local&&n.afterState.get(a.clientID)!==n.beforeState.get(a.clientID)&&($U(Dy,f_,"[yjs] ",h_,d_,"Changed the client-id because another client seems to be using it."),a.clientID=S_()),a.emit("afterTransactionCleanup",[n,a]),a._observers.has("update")){const m=new uf;t8(m,n)&&a.emit("update",[m.toUint8Array(),n.origin,a,n])}if(a._observers.has("updateV2")){const m=new Qs;t8(m,n)&&a.emit("updateV2",[m.toUint8Array(),n.origin,a,n])}const{subdocsAdded:o,subdocsLoaded:f,subdocsRemoved:g}=n;(o.size>0||g.size>0||f.size>0)&&(o.forEach(m=>{m.clientID=a.clientID,m.collectionid==null&&(m.collectionid=a.collectionid),a.subdocs.add(m)}),g.forEach(m=>a.subdocs.delete(m)),a.emit("subdocs",[{loaded:f,added:o,removed:g},a,n]),g.forEach(m=>m.destroy())),e.length<=t+1?(a._transactionCleanups=[],a.emit("afterAllTransactions",[a,e])):R_(e,t+1)}}},de=(e,t,n=null,a=!0)=>{const l=e._transactionCleanups;let u=!1,r=null;e._transaction===null&&(u=!0,e._transaction=new Cz(e,n,a),l.push(e._transaction),l.length===1&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{r=t(e._transaction)}finally{if(u){const o=e._transaction===l[0];e._transaction=null,o&&R_(l,0)}}return r};function*Dz(e){const t=Ct(e.restDecoder);for(let n=0;n<t;n++){const a=Ct(e.restDecoder),l=e.readClient();let u=Ct(e.restDecoder);for(let r=0;r<a;r++){const o=e.readInfo();if(o===10){const f=Ct(e.restDecoder);yield new Ra(jt(l,u),f),u+=f}else if(J0&o){const f=(o&(Yl|da))===0,g=new en(jt(l,u),null,(o&da)===da?e.readLeftID():null,null,(o&Yl)===Yl?e.readRightID():null,f?e.readParentInfo()?e.readString():e.readLeftID():null,f&&(o&Oo)===Oo?e.readString():null,J_(e,o));yield g,u+=g.length}else{const f=e.readLen();yield new Oa(jt(l,u),f),u+=f}}}}class Uy{constructor(t,n){this.gen=Dz(t),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Ra);return this.curr}}class zy{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const Mz=e=>Rd(e,b_,uf),Nz=(e,t)=>{if(e.constructor===Oa){const{client:n,clock:a}=e.id;return new Oa(jt(n,a+t),e.length-t)}else if(e.constructor===Ra){const{client:n,clock:a}=e.id;return new Ra(jt(n,a+t),e.length-t)}else{const n=e,{client:a,clock:l}=n.id;return new en(jt(a,l+t),null,jt(a,l+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},Rd=(e,t=Br,n=Qs)=>{if(e.length===1)return e[0];const a=e.map(m=>new t(rs(m)));let l=a.map(m=>new Uy(m,!0)),u=null;const r=new n,o=new zy(r);for(;l=l.filter(v=>v.curr!==null),l.sort((v,p)=>{if(v.curr.id.client===p.curr.id.client){const _=v.curr.id.clock-p.curr.id.clock;return _===0?v.curr.constructor===p.curr.constructor?0:v.curr.constructor===Ra?1:-1:_}else return p.curr.id.client-v.curr.id.client}),l.length!==0;){const m=l[0],b=m.curr.id.client;if(u!==null){let v=m.curr,p=!1;for(;v!==null&&v.id.clock+v.length<=u.struct.id.clock+u.struct.length&&v.id.client>=u.struct.id.client;)v=m.next(),p=!0;if(v===null||v.id.client!==b||p&&v.id.clock>u.struct.id.clock+u.struct.length)continue;if(b!==u.struct.id.client)Ni(o,u.struct,u.offset),u={struct:v,offset:0},m.next();else if(u.struct.id.clock+u.struct.length<v.id.clock)if(u.struct.constructor===Ra)u.struct.length=v.id.clock+v.length-u.struct.id.clock;else{Ni(o,u.struct,u.offset);const _=v.id.clock-u.struct.id.clock-u.struct.length;u={struct:new Ra(jt(b,u.struct.id.clock+u.struct.length),_),offset:0}}else{const _=u.struct.id.clock+u.struct.length-v.id.clock;_>0&&(u.struct.constructor===Ra?u.struct.length-=_:v=Nz(v,_)),u.struct.mergeWith(v)||(Ni(o,u.struct,u.offset),u={struct:v,offset:0},m.next())}}else u={struct:m.curr,offset:0},m.next();for(let v=m.curr;v!==null&&v.id.client===b&&v.id.clock===u.struct.id.clock+u.struct.length&&v.constructor!==Ra;v=m.next())Ni(o,u.struct,u.offset),u={struct:v,offset:0}}u!==null&&(Ni(o,u.struct,u.offset),u=null),wy(o);const f=a.map(m=>Oy(m)),g=az(f);return ec(r,g),r.toUint8Array()},Oz=(e,t,n=Br,a=Qs)=>{const l=A_(t),u=new a,r=new zy(u),o=new n(rs(e)),f=new Uy(o,!1);for(;f.curr;){const m=f.curr,b=m.id.client,v=l.get(b)||0;if(f.curr.constructor===Ra){f.next();continue}if(m.id.clock+m.length>v)for(Ni(r,m,su(v-m.id.clock,0)),f.next();f.curr&&f.curr.id.client===b;)Ni(r,f.curr,0),f.next();else for(;f.curr&&f.curr.id.client===b&&f.curr.id.clock+f.curr.length<=v;)f.next()}wy(r);const g=Oy(o);return ec(u,g),u.toUint8Array()},U_=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:xe(e.encoder.restEncoder)}),e.encoder.restEncoder=Nn(),e.written=0)},Ni=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&U_(e),e.written===0&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),gt(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},wy=e=>{U_(e);const t=e.encoder.restEncoder;gt(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const a=e.clientStructs[n];gt(t,a.written),W0(t,a.restEncoder)}},Rz=(e,t,n,a)=>{const l=new n(rs(e)),u=new Uy(l,!1),r=new a,o=new zy(r);for(let g=u.curr;g!==null;g=u.next())Ni(o,t(g),0);wy(o);const f=Oy(l);return ec(r,f),r.toUint8Array()},Uz=e=>Rz(e,NU,Br,uf),n8="You must not compute changes after the event-handler fired.";class $0{constructor(t,n){this.target=t,this.currentTarget=t,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=zz(this.currentTarget,this.target))}deletes(t){return v_(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ji(n8);const t=new Map,n=this.target;this.transaction.changed.get(n).forEach(l=>{if(l!==null){const u=n._map.get(l);let r,o;if(this.adds(u)){let f=u.left;for(;f!==null&&this.adds(f);)f=f.left;if(this.deletes(u))if(f!==null&&this.deletes(f))r="delete",o=M2(f.content.getContent());else return;else f!==null&&this.deletes(f)?(r="update",o=M2(f.content.getContent())):(r="add",o=void 0)}else if(this.deletes(u))r="delete",o=M2(u.content.getContent());else return;t.set(l,{action:r,oldValue:o})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ji(n8);const n=this.target,a=Fi(),l=Fi(),u=[];if(t={added:a,deleted:l,delta:u,keys:this.keys},this.transaction.changed.get(n).has(null)){let o=null;const f=()=>{o&&u.push(o)};for(let g=n._start;g!==null;g=g.right)g.deleted?this.deletes(g)&&!this.adds(g)&&((o===null||o.delete===void 0)&&(f(),o={delete:0}),o.delete+=g.length,l.add(g)):this.adds(g)?((o===null||o.insert===void 0)&&(f(),o={insert:[]}),o.insert=o.insert.concat(g.content.getContent()),a.add(g)):((o===null||o.retain===void 0)&&(f(),o={retain:0}),o.retain+=g.length);o!==null&&o.retain===void 0&&f()}this._changes=t}return t}}const zz=(e,t)=>{const n=[];for(;t._item!==null&&t!==e;){if(t._item.parentSub!==null)n.unshift(t._item.parentSub);else{let a=0,l=t._item.parent._start;for(;l!==t._item&&l!==null;)!l.deleted&&l.countable&&(a+=l.length),l=l.right;n.unshift(a)}t=t._item.parent}return n},Un=()=>{tz("Invalid access: Add Yjs type to a document before reading data.")},z_=80;let Gy=0;class wz{constructor(t,n){t.marker=!0,this.p=t,this.index=n,this.timestamp=Gy++}}const Gz=e=>{e.timestamp=Gy++},w_=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=Gy++},Hz=(e,t,n)=>{if(e.length>=z_){const a=e.reduce((l,u)=>l.timestamp<u.timestamp?l:u);return w_(a,t,n),a}else{const a=new wz(t,n);return e.push(a),a}},t1=(e,t)=>{if(e._start===null||t===0||e._searchMarker===null)return null;const n=e._searchMarker.length===0?null:e._searchMarker.reduce((u,r)=>Xh(t-u.index)<Xh(t-r.index)?u:r);let a=e._start,l=0;for(n!==null&&(a=n.p,l=n.index,Gz(n));a.right!==null&&l<t;){if(!a.deleted&&a.countable){if(t<l+a.length)break;l+=a.length}a=a.right}for(;a.left!==null&&l>t;)a=a.left,!a.deleted&&a.countable&&(l-=a.length);for(;a.left!==null&&a.left.id.client===a.id.client&&a.left.id.clock+a.left.length===a.id.clock;)a=a.left,!a.deleted&&a.countable&&(l-=a.length);return n!==null&&Xh(n.index-l)<a.parent.length/z_?(w_(n,a,l),n):Hz(e._searchMarker,a,l)},wo=(e,t,n)=>{for(let a=e.length-1;a>=0;a--){const l=e[a];if(n>0){let u=l.p;for(u.marker=!1;u&&(u.deleted||!u.countable);)u=u.left,u&&!u.deleted&&u.countable&&(l.index-=u.length);if(u===null||u.marker===!0){e.splice(a,1);continue}l.p=u,u.marker=!0}(t<l.index||n>0&&t===l.index)&&(l.index=su(t,l.index+n))}},e1=(e,t,n)=>{const a=e,l=t.changedParentTypes;for(;hl(l,e,()=>[]).push(n),e._item!==null;)e=e._item.parent;D_(a._eH,n,t)};class xn{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Wv(),this._dEH=Wv(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,n){this.doc=t,this._item=n}_copy(){throw ll()}clone(){throw ll()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,n){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){Pv(this._eH,t)}observeDeep(t){Pv(this._dEH,t)}unobserve(t){Iv(this._eH,t)}unobserveDeep(t){Iv(this._dEH,t)}toJSON(){}}const G_=(e,t,n)=>{e.doc??Un(),t<0&&(t=e._length+t),n<0&&(n=e._length+n);let a=n-t;const l=[];let u=e._start;for(;u!==null&&a>0;){if(u.countable&&!u.deleted){const r=u.content.getContent();if(r.length<=t)t-=r.length;else{for(let o=t;o<r.length&&a>0;o++)l.push(r[o]),a--;t=0}}u=u.right}return l},H_=e=>{e.doc??Un();const t=[];let n=e._start;for(;n!==null;){if(n.countable&&!n.deleted){const a=n.content.getContent();for(let l=0;l<a.length;l++)t.push(a[l])}n=n.right}return t},Go=(e,t)=>{let n=0,a=e._start;for(e.doc??Un();a!==null;){if(a.countable&&!a.deleted){const l=a.content.getContent();for(let u=0;u<l.length;u++)t(l[u],n++,e)}a=a.right}},B_=(e,t)=>{const n=[];return Go(e,(a,l)=>{n.push(t(a,l,e))}),n},Bz=e=>{let t=e._start,n=null,a=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};n=t.content.getContent(),a=0,t=t.right}const l=n[a++];return n.length<=a&&(n=null),{done:!1,value:l}}}},L_=(e,t)=>{e.doc??Un();const n=t1(e,t);let a=e._start;for(n!==null&&(a=n.p,t-=n.index);a!==null;a=a.right)if(!a.deleted&&a.countable){if(t<a.length)return a.content.getContent()[t];t-=a.length}},Ud=(e,t,n,a)=>{let l=n;const u=e.doc,r=u.clientID,o=u.store,f=n===null?t._start:n.right;let g=[];const m=()=>{g.length>0&&(l=new en(jt(r,mn(o,r)),l,l&&l.lastId,f,f&&f.id,t,null,new Zs(g)),l.integrate(e,0),g=[])};a.forEach(b=>{if(b===null)g.push(b);else switch(b.constructor){case Number:case Object:case Boolean:case Array:case String:g.push(b);break;default:switch(m(),b.constructor){case Uint8Array:case ArrayBuffer:l=new en(jt(r,mn(o,r)),l,l&&l.lastId,f,f&&f.id,t,null,new rf(new Uint8Array(b))),l.integrate(e,0);break;case nc:l=new en(jt(r,mn(o,r)),l,l&&l.lastId,f,f&&f.id,t,null,new cf(b)),l.integrate(e,0);break;default:if(b instanceof xn)l=new en(jt(r,mn(o,r)),l,l&&l.lastId,f,f&&f.id,t,null,new Il(b)),l.integrate(e,0);else throw new Error("Unexpected content type in insert operation")}}}),m()},Y_=()=>Ji("Length exceeded!"),V_=(e,t,n,a)=>{if(n>t._length)throw Y_();if(n===0)return t._searchMarker&&wo(t._searchMarker,n,a.length),Ud(e,t,null,a);const l=n,u=t1(t,n);let r=t._start;for(u!==null&&(r=u.p,n-=u.index,n===0&&(r=r.prev,n+=r&&r.countable&&!r.deleted?r.length:0));r!==null;r=r.right)if(!r.deleted&&r.countable){if(n<=r.length){n<r.length&&Pi(e,jt(r.id.client,r.id.clock+n));break}n-=r.length}return t._searchMarker&&wo(t._searchMarker,l,a.length),Ud(e,t,r,a)},Lz=(e,t,n)=>{let l=(t._searchMarker||[]).reduce((u,r)=>r.index>u.index?r:u,{index:0,p:t._start}).p;if(l)for(;l.right;)l=l.right;return Ud(e,t,l,n)},j_=(e,t,n,a)=>{if(a===0)return;const l=n,u=a,r=t1(t,n);let o=t._start;for(r!==null&&(o=r.p,n-=r.index);o!==null&&n>0;o=o.right)!o.deleted&&o.countable&&(n<o.length&&Pi(e,jt(o.id.client,o.id.clock+n)),n-=o.length);for(;a>0&&o!==null;)o.deleted||(a<o.length&&Pi(e,jt(o.id.client,o.id.clock+a)),o.delete(e),a-=o.length),o=o.right;if(a>0)throw Y_();t._searchMarker&&wo(t._searchMarker,l,-u+a)},zd=(e,t,n)=>{const a=t._map.get(n);a!==void 0&&a.delete(e)},Hy=(e,t,n,a)=>{const l=t._map.get(n)||null,u=e.doc,r=u.clientID;let o;if(a==null)o=new Zs([a]);else switch(a.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:o=new Zs([a]);break;case Uint8Array:o=new rf(a);break;case nc:o=new cf(a);break;default:if(a instanceof xn)o=new Il(a);else throw new Error("Unexpected content type")}new en(jt(r,mn(u.store,r)),l,l&&l.lastId,null,null,t,n,o).integrate(e,0)},By=(e,t)=>{e.doc??Un();const n=e._map.get(t);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},X_=e=>{const t={};return e.doc??Un(),e._map.forEach((n,a)=>{n.deleted||(t[a]=n.content.getContent()[n.length-1])}),t},q_=(e,t)=>{e.doc??Un();const n=e._map.get(t);return n!==void 0&&!n.deleted},Yz=(e,t)=>{const n={};return e._map.forEach((a,l)=>{let u=a;for(;u!==null&&(!t.sv.has(u.id.client)||u.id.clock>=(t.sv.get(u.id.client)||0));)u=u.left;u!==null&&Wu(u,t)&&(n[l]=u.content.getContent()[u.length-1])}),n},Ah=e=>(e.doc??Un(),ez(e._map.entries(),t=>!t[1].deleted));class Vz extends $0{}class Sr extends xn{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const n=new Sr;return n.push(t),n}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Sr}clone(){const t=new Sr;return t.insert(0,this.toArray().map(n=>n instanceof xn?n.clone():n)),t}get length(){return this.doc??Un(),this._length}_callObserver(t,n){super._callObserver(t,n),e1(this,t,new Vz(this,t))}insert(t,n){this.doc!==null?de(this.doc,a=>{V_(a,this,t,n)}):this._prelimContent.splice(t,0,...n)}push(t){this.doc!==null?de(this.doc,n=>{Lz(n,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,n=1){this.doc!==null?de(this.doc,a=>{j_(a,this,t,n)}):this._prelimContent.splice(t,n)}get(t){return L_(this,t)}toArray(){return H_(this)}slice(t=0,n=this.length){return G_(this,t,n)}toJSON(){return this.map(t=>t instanceof xn?t.toJSON():t)}map(t){return B_(this,t)}forEach(t){Go(this,t)}[Symbol.iterator](){return Bz(this)}_write(t){t.writeTypeRef(fw)}}const jz=e=>new Sr;class Xz extends $0{constructor(t,n,a){super(t,n),this.keysChanged=a}}class Lr extends xn{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,n){super._integrate(t,n),this._prelimContent.forEach((a,l)=>{this.set(l,a)}),this._prelimContent=null}_copy(){return new Lr}clone(){const t=new Lr;return this.forEach((n,a)=>{t.set(a,n instanceof xn?n.clone():n)}),t}_callObserver(t,n){e1(this,t,new Xz(this,t,n))}toJSON(){this.doc??Un();const t={};return this._map.forEach((n,a)=>{if(!n.deleted){const l=n.content.getContent()[n.length-1];t[a]=l instanceof xn?l.toJSON():l}}),t}get size(){return[...Ah(this)].length}keys(){return z2(Ah(this),t=>t[0])}values(){return z2(Ah(this),t=>t[1].content.getContent()[t[1].length-1])}entries(){return z2(Ah(this),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this.doc??Un(),this._map.forEach((n,a)=>{n.deleted||t(n.content.getContent()[n.length-1],a,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?de(this.doc,n=>{zd(n,this,t)}):this._prelimContent.delete(t)}set(t,n){return this.doc!==null?de(this.doc,a=>{Hy(a,this,t,n)}):this._prelimContent.set(t,n),n}get(t){return By(this,t)}has(t){return q_(this,t)}clear(){this.doc!==null?de(this.doc,t=>{this.forEach(function(n,a,l){zd(t,l,a)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(hw)}}const qz=e=>new Lr,wi=(e,t)=>e===t||typeof e=="object"&&typeof t=="object"&&e&&t&&DU(e,t);class ep{constructor(t,n,a,l){this.left=t,this.right=n,this.index=a,this.currentAttributes=l}forward(){switch(this.right===null&&il(),this.right.content.constructor){case an:this.right.deleted||ac(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const a8=(e,t,n)=>{for(;t.right!==null&&n>0;){switch(t.right.content.constructor){case an:t.right.deleted||ac(t.currentAttributes,t.right.content);break;default:t.right.deleted||(n<t.right.length&&Pi(e,jt(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},xh=(e,t,n,a)=>{const l=new Map,u=a?t1(t,n):null;if(u){const r=new ep(u.p.left,u.p,u.index,l);return a8(e,r,n-u.index)}else{const r=new ep(null,t._start,0,l);return a8(e,r,n)}},K_=(e,t,n,a)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===an&&wi(a.get(n.right.content.key),n.right.content.value));)n.right.deleted||a.delete(n.right.content.key),n.forward();const l=e.doc,u=l.clientID;a.forEach((r,o)=>{const f=n.left,g=n.right,m=new en(jt(u,mn(l.store,u)),f,f&&f.lastId,g,g&&g.id,t,null,new an(o,r));m.integrate(e,0),n.right=m,n.forward()})},ac=(e,t)=>{const{key:n,value:a}=t;a===null?e.delete(n):e.set(n,a)},Q_=(e,t)=>{for(;e.right!==null;){if(!(e.right.deleted||e.right.content.constructor===an&&wi(t[e.right.content.key]??null,e.right.content.value)))break;e.forward()}},k_=(e,t,n,a)=>{const l=e.doc,u=l.clientID,r=new Map;for(const o in a){const f=a[o],g=n.currentAttributes.get(o)??null;if(!wi(g,f)){r.set(o,g);const{left:m,right:b}=n;n.right=new en(jt(u,mn(l.store,u)),m,m&&m.lastId,b,b&&b.id,t,null,new an(o,f)),n.right.integrate(e,0),n.forward()}}return r},G2=(e,t,n,a,l)=>{n.currentAttributes.forEach((v,p)=>{l[p]===void 0&&(l[p]=null)});const u=e.doc,r=u.clientID;Q_(n,l);const o=k_(e,t,n,l),f=a.constructor===String?new ul(a):a instanceof xn?new Il(a):new uu(a);let{left:g,right:m,index:b}=n;t._searchMarker&&wo(t._searchMarker,n.index,f.getLength()),m=new en(jt(r,mn(u.store,r)),g,g&&g.lastId,m,m&&m.id,t,null,f),m.integrate(e,0),n.right=m,n.index=b,n.forward(),K_(e,t,n,o)},l8=(e,t,n,a,l)=>{const u=e.doc,r=u.clientID;Q_(n,l);const o=k_(e,t,n,l);t:for(;n.right!==null&&(a>0||o.size>0&&(n.right.deleted||n.right.content.constructor===an));){if(!n.right.deleted)switch(n.right.content.constructor){case an:{const{key:f,value:g}=n.right.content,m=l[f];if(m!==void 0){if(wi(m,g))o.delete(f);else{if(a===0)break t;o.set(f,g)}n.right.delete(e)}else n.currentAttributes.set(f,g);break}default:a<n.right.length&&Pi(e,jt(n.right.id.client,n.right.id.clock+a)),a-=n.right.length;break}n.forward()}if(a>0){let f="";for(;a>0;a--)f+=`
`;n.right=new en(jt(r,mn(u.store,r)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new ul(f)),n.right.integrate(e,0),n.forward()}K_(e,t,n,o)},Z_=(e,t,n,a,l)=>{let u=t;const r=Fn();for(;u&&(!u.countable||u.deleted);){if(!u.deleted&&u.content.constructor===an){const g=u.content;r.set(g.key,g)}u=u.right}let o=0,f=!1;for(;t!==u;){if(n===t&&(f=!0),!t.deleted){const g=t.content;switch(g.constructor){case an:{const{key:m,value:b}=g,v=a.get(m)??null;(r.get(m)!==g||v===b)&&(t.delete(e),o++,!f&&(l.get(m)??null)===b&&v!==b&&(v===null?l.delete(m):l.set(m,v))),!f&&!t.deleted&&ac(l,g);break}}}t=t.right}return o},Kz=(e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===an){const a=t.content.key;n.has(a)?t.delete(e):n.add(a)}t=t.left}},Qz=e=>{let t=0;return de(e.doc,n=>{let a=e._start,l=e._start,u=Fn();const r=Fm(u);for(;l;){if(l.deleted===!1)switch(l.content.constructor){case an:ac(r,l.content);break;default:t+=Z_(n,a,l,u,r),u=Fm(r),a=l;break}l=l.right}}),t},kz=e=>{const t=new Set,n=e.doc;for(const[a,l]of e.afterState.entries()){const u=e.beforeState.get(a)||0;l!==u&&O_(e,n.store.clients.get(a),u,l,r=>{!r.deleted&&r.content.constructor===an&&r.constructor!==Oa&&t.add(r.parent)})}de(n,a=>{y_(e,e.deleteSet,l=>{if(l instanceof Oa||!l.parent._hasFormatting||t.has(l.parent))return;const u=l.parent;l.content.constructor===an?t.add(u):Kz(a,l)});for(const l of t)Qz(l)})},i8=(e,t,n)=>{const a=n,l=Fm(t.currentAttributes),u=t.right;for(;n>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case Il:case uu:case ul:n<t.right.length&&Pi(e,jt(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e);break}t.forward()}u&&Z_(e,u,t.right,l,t.currentAttributes);const r=(t.left||t.right).parent;return r._searchMarker&&wo(r._searchMarker,t.index,-a+n),t};class Zz extends $0{constructor(t,n,a){super(t,n),this.childListChanged=!1,this.keysChanged=new Set,a.forEach(l=>{l===null?this.childListChanged=!0:this.keysChanged.add(l)})}get changes(){if(this._changes===null){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){const t=this.target.doc,n=[];de(t,a=>{const l=new Map,u=new Map;let r=this.target._start,o=null;const f={};let g="",m=0,b=0;const v=()=>{if(o!==null){let p=null;switch(o){case"delete":b>0&&(p={delete:b}),b=0;break;case"insert":(typeof g=="object"||g.length>0)&&(p={insert:g},l.size>0&&(p.attributes={},l.forEach((_,A)=>{_!==null&&(p.attributes[A]=_)}))),g="";break;case"retain":m>0&&(p={retain:m},AU(f)||(p.attributes=EU({},f))),m=0;break}p&&n.push(p),o=null}};for(;r!==null;){switch(r.content.constructor){case Il:case uu:this.adds(r)?this.deletes(r)||(v(),o="insert",g=r.content.getContent()[0],v()):this.deletes(r)?(o!=="delete"&&(v(),o="delete"),b+=1):r.deleted||(o!=="retain"&&(v(),o="retain"),m+=1);break;case ul:this.adds(r)?this.deletes(r)||(o!=="insert"&&(v(),o="insert"),g+=r.content.str):this.deletes(r)?(o!=="delete"&&(v(),o="delete"),b+=r.length):r.deleted||(o!=="retain"&&(v(),o="retain"),m+=r.length);break;case an:{const{key:p,value:_}=r.content;if(this.adds(r)){if(!this.deletes(r)){const A=l.get(p)??null;wi(A,_)?_!==null&&r.delete(a):(o==="retain"&&v(),wi(_,u.get(p)??null)?delete f[p]:f[p]=_)}}else if(this.deletes(r)){u.set(p,_);const A=l.get(p)??null;wi(A,_)||(o==="retain"&&v(),f[p]=A)}else if(!r.deleted){u.set(p,_);const A=f[p];A!==void 0&&(wi(A,_)?A!==null&&r.delete(a):(o==="retain"&&v(),_===null?delete f[p]:f[p]=_))}r.deleted||(o==="insert"&&v(),ac(l,r.content));break}}r=r.right}for(v();n.length>0;){const p=n[n.length-1];if(p.retain!==void 0&&p.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Yr extends xn{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Un(),this._length}_integrate(t,n){super._integrate(t,n);try{this._pending.forEach(a=>a())}catch(a){console.error(a)}this._pending=null}_copy(){return new Yr}clone(){const t=new Yr;return t.applyDelta(this.toDelta()),t}_callObserver(t,n){super._callObserver(t,n);const a=new Zz(this,t,n);e1(this,t,a),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){this.doc??Un();let t="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===ul&&(t+=n.content.str),n=n.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:n=!0}={}){this.doc!==null?de(this.doc,a=>{const l=new ep(null,this._start,0,new Map);for(let u=0;u<t.length;u++){const r=t[u];if(r.insert!==void 0){const o=!n&&typeof r.insert=="string"&&u===t.length-1&&l.right===null&&r.insert.slice(-1)===`
`?r.insert.slice(0,-1):r.insert;(typeof o!="string"||o.length>0)&&G2(a,this,l,o,r.attributes||{})}else r.retain!==void 0?l8(a,this,l,r.retain,r.attributes||{}):r.delete!==void 0&&i8(a,l,r.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,n,a){this.doc??Un();const l=[],u=new Map,r=this.doc;let o="",f=this._start;function g(){if(o.length>0){const b={};let v=!1;u.forEach((_,A)=>{v=!0,b[A]=_});const p={insert:o};v&&(p.attributes=b),l.push(p),o=""}}const m=()=>{for(;f!==null;){if(Wu(f,t)||n!==void 0&&Wu(f,n))switch(f.content.constructor){case ul:{const b=u.get("ychange");t!==void 0&&!Wu(f,t)?(b===void 0||b.user!==f.id.client||b.type!=="removed")&&(g(),u.set("ychange",a?a("removed",f.id):{type:"removed"})):n!==void 0&&!Wu(f,n)?(b===void 0||b.user!==f.id.client||b.type!=="added")&&(g(),u.set("ychange",a?a("added",f.id):{type:"added"})):b!==void 0&&(g(),u.delete("ychange")),o+=f.content.str;break}case Il:case uu:{g();const b={insert:f.content.getContent()[0]};if(u.size>0){const v={};b.attributes=v,u.forEach((p,_)=>{v[_]=p})}l.push(b);break}case an:Wu(f,t)&&(g(),ac(u,f.content));break}f=f.right}g()};return t||n?de(r,b=>{t&&$m(b,t),n&&$m(b,n),m()},"cleanup"):m(),l}insert(t,n,a){if(n.length<=0)return;const l=this.doc;l!==null?de(l,u=>{const r=xh(u,this,t,!a);a||(a={},r.currentAttributes.forEach((o,f)=>{a[f]=o})),G2(u,this,r,n,a)}):this._pending.push(()=>this.insert(t,n,a))}insertEmbed(t,n,a){const l=this.doc;l!==null?de(l,u=>{const r=xh(u,this,t,!a);G2(u,this,r,n,a||{})}):this._pending.push(()=>this.insertEmbed(t,n,a||{}))}delete(t,n){if(n===0)return;const a=this.doc;a!==null?de(a,l=>{i8(l,xh(l,this,t,!0),n)}):this._pending.push(()=>this.delete(t,n))}format(t,n,a){if(n===0)return;const l=this.doc;l!==null?de(l,u=>{const r=xh(u,this,t,!1);r.right!==null&&l8(u,this,r,n,a)}):this._pending.push(()=>this.format(t,n,a))}removeAttribute(t){this.doc!==null?de(this.doc,n=>{zd(n,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,n){this.doc!==null?de(this.doc,a=>{Hy(a,this,t,n)}):this._pending.push(()=>this.setAttribute(t,n))}getAttribute(t){return By(this,t)}getAttributes(){return X_(this)}_write(t){t.writeTypeRef(dw)}}const Fz=e=>new Yr;class H2{constructor(t,n=()=>!0){this._filter=n,this._root=t,this._currentNode=t._start,this._firstCall=!0,t.doc??Un()}[Symbol.iterator](){return this}next(){let t=this._currentNode,n=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(n)))do if(n=t.content.type,!t.deleted&&(n.constructor===Vr||n.constructor===ks)&&n._start!==null)t=n._start;else for(;t!==null;){const a=t.next;if(a!==null){t=a;break}else t.parent===this._root?t=null:t=t.parent._item}while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class ks extends xn{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ks}clone(){const t=new ks;return t.insert(0,this.toArray().map(n=>n instanceof xn?n.clone():n)),t}get length(){return this.doc??Un(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new H2(this,t)}querySelector(t){t=t.toUpperCase();const a=new H2(this,l=>l.nodeName&&l.nodeName.toUpperCase()===t).next();return a.done?null:a.value}querySelectorAll(t){return t=t.toUpperCase(),Kl(new H2(this,n=>n.nodeName&&n.nodeName.toUpperCase()===t))}_callObserver(t,n){e1(this,t,new Pz(this,n,t))}toString(){return B_(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,n={},a){const l=t.createDocumentFragment();return a!==void 0&&a._createAssociation(l,this),Go(this,u=>{l.insertBefore(u.toDOM(t,n,a),null)}),l}insert(t,n){this.doc!==null?de(this.doc,a=>{V_(a,this,t,n)}):this._prelimContent.splice(t,0,...n)}insertAfter(t,n){if(this.doc!==null)de(this.doc,a=>{const l=t&&t instanceof xn?t._item:t;Ud(a,this,l,n)});else{const a=this._prelimContent,l=t===null?0:a.findIndex(u=>u===t)+1;if(l===0&&t!==null)throw Ji("Reference item not found");a.splice(l,0,...n)}}delete(t,n=1){this.doc!==null?de(this.doc,a=>{j_(a,this,t,n)}):this._prelimContent.splice(t,n)}toArray(){return H_(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return L_(this,t)}slice(t=0,n=this.length){return G_(this,t,n)}forEach(t){Go(this,t)}_write(t){t.writeTypeRef(mw)}}const Jz=e=>new ks;class Vr extends ks{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,n){super._integrate(t,n),this._prelimAttrs.forEach((a,l)=>{this.setAttribute(l,a)}),this._prelimAttrs=null}_copy(){return new Vr(this.nodeName)}clone(){const t=new Vr(this.nodeName),n=this.getAttributes();return TU(n,(a,l)=>{typeof a=="string"&&t.setAttribute(l,a)}),t.insert(0,this.toArray().map(a=>a instanceof xn?a.clone():a)),t}toString(){const t=this.getAttributes(),n=[],a=[];for(const o in t)a.push(o);a.sort();const l=a.length;for(let o=0;o<l;o++){const f=a[o];n.push(f+'="'+t[f]+'"')}const u=this.nodeName.toLocaleLowerCase(),r=n.length>0?" "+n.join(" "):"";return`<${u}${r}>${super.toString()}</${u}>`}removeAttribute(t){this.doc!==null?de(this.doc,n=>{zd(n,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,n){this.doc!==null?de(this.doc,a=>{Hy(a,this,t,n)}):this._prelimAttrs.set(t,n)}getAttribute(t){return By(this,t)}hasAttribute(t){return q_(this,t)}getAttributes(t){return t?Yz(this,t):X_(this)}toDOM(t=document,n={},a){const l=t.createElement(this.nodeName),u=this.getAttributes();for(const r in u){const o=u[r];typeof o=="string"&&l.setAttribute(r,o)}return Go(this,r=>{l.appendChild(r.toDOM(t,n,a))}),a!==void 0&&a._createAssociation(l,this),l}_write(t){t.writeTypeRef(gw),t.writeKey(this.nodeName)}}const Wz=e=>new Vr(e.readKey());class Pz extends $0{constructor(t,n,a){super(t,a),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(l=>{l===null?this.childListChanged=!0:this.attributesChanged.add(l)})}}class wd extends Lr{constructor(t){super(),this.hookName=t}_copy(){return new wd(this.hookName)}clone(){const t=new wd(this.hookName);return this.forEach((n,a)=>{t.set(a,n)}),t}toDOM(t=document,n={},a){const l=n[this.hookName];let u;return l!==void 0?u=l.createDom(this):u=document.createElement(this.hookName),u.setAttribute("data-yjs-hook",this.hookName),a!==void 0&&a._createAssociation(u,this),u}_write(t){t.writeTypeRef(pw),t.writeKey(this.hookName)}}const Iz=e=>new wd(e.readKey());class Gd extends Yr{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new Gd}clone(){const t=new Gd;return t.applyDelta(this.toDelta()),t}toDOM(t=document,n,a){const l=t.createTextNode(this.toString());return a!==void 0&&a._createAssociation(l,this),l}toString(){return this.toDelta().map(t=>{const n=[];for(const l in t.attributes){const u=[];for(const r in t.attributes[l])u.push({key:r,value:t.attributes[l][r]});u.sort((r,o)=>r.key<o.key?-1:1),n.push({nodeName:l,attrs:u})}n.sort((l,u)=>l.nodeName<u.nodeName?-1:1);let a="";for(let l=0;l<n.length;l++){const u=n[l];a+=`<${u.nodeName}`;for(let r=0;r<u.attrs.length;r++){const o=u.attrs[r];a+=` ${o.key}="${o.value}"`}a+=">"}a+=t.insert;for(let l=n.length-1;l>=0;l--)a+=`</${n[l].nodeName}>`;return a}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(yw)}}const $z=e=>new Gd;class Ly{constructor(t,n){this.id=t,this.length=n}get deleted(){throw ll()}mergeWith(t){return!1}write(t,n,a){throw ll()}integrate(t,n){throw ll()}}const tw=0;class Oa extends Ly{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){n>0&&(this.id.clock+=n,this.length-=n),N_(t.doc.store,this)}write(t,n){t.writeInfo(tw),t.writeLen(this.length-n)}getMissing(t,n){return null}}class rf{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new rf(this.content)}splice(t){throw ll()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeBuf(this.content)}getRef(){return 3}}const ew=e=>new rf(e.readBuf());class Ho{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Ho(this.len)}splice(t){const n=new Ho(this.len-t);return this.len=t,n}mergeWith(t){return this.len+=t.len,!0}integrate(t,n){Od(t.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(t){}gc(t){}write(t,n){t.writeLen(this.len-n)}getRef(){return 1}}const nw=e=>new Ho(e.readLen()),F_=(e,t)=>new nc({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class cf{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const n={};this.opts=n,t.gc||(n.gc=!1),t.autoLoad&&(n.autoLoad=!0),t.meta!==null&&(n.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new cf(F_(this.doc.guid,this.opts))}splice(t){throw ll()}mergeWith(t){return!1}integrate(t,n){this.doc._item=n,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,n){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}const aw=e=>new cf(F_(e.readString(),e.readAny()));class uu{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new uu(this.embed)}splice(t){throw ll()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeJSON(this.embed)}getRef(){return 5}}const lw=e=>new uu(e.readJSON());class an{constructor(t,n){this.key=t,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new an(this.key,this.value)}splice(t){throw ll()}mergeWith(t){return!1}integrate(t,n){const a=n.parent;a._searchMarker=null,a._hasFormatting=!0}delete(t){}gc(t){}write(t,n){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}const iw=e=>new an(e.readKey(),e.readJSON());class Hd{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Hd(this.arr)}splice(t){const n=new Hd(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const a=this.arr.length;t.writeLen(a-n);for(let l=n;l<a;l++){const u=this.arr[l];t.writeString(u===void 0?"undefined":JSON.stringify(u))}}getRef(){return 2}}const sw=e=>{const t=e.readLen(),n=[];for(let a=0;a<t;a++){const l=e.readString();l==="undefined"?n.push(void 0):n.push(JSON.parse(l))}return new Hd(n)},uw=Nd("node_env")==="development";class Zs{constructor(t){this.arr=t,uw&&s_(t)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Zs(this.arr)}splice(t){const n=new Zs(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const a=this.arr.length;t.writeLen(a-n);for(let l=n;l<a;l++){const u=this.arr[l];t.writeAny(u)}}getRef(){return 8}}const rw=e=>{const t=e.readLen(),n=[];for(let a=0;a<t;a++)n.push(e.readAny());return new Zs(n)};class ul{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new ul(this.str)}splice(t){const n=new ul(this.str.slice(t));this.str=this.str.slice(0,t);const a=this.str.charCodeAt(t-1);return a>=55296&&a<=56319&&(this.str=this.str.slice(0,t-1)+"�",n.str="�"+n.str.slice(1)),n}mergeWith(t){return this.str+=t.str,!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const cw=e=>new ul(e.readString()),ow=[jz,qz,Fz,Wz,Jz,Iz,$z],fw=0,hw=1,dw=2,gw=3,mw=4,pw=5,yw=6;class Il{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Il(this.type._copy())}splice(t){throw ll()}mergeWith(t){return!1}integrate(t,n){this.type._integrate(t.doc,n)}delete(t){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(t.beforeState.get(n.id.client)||0)&&t._mergeStructs.push(n):n.delete(t),n=n.right;this.type._map.forEach(a=>{a.deleted?a.id.clock<(t.beforeState.get(a.id.client)||0)&&t._mergeStructs.push(a):a.delete(t)}),t.changed.delete(this.type)}gc(t){let n=this.type._start;for(;n!==null;)n.gc(t,!0),n=n.right;this.type._start=null,this.type._map.forEach(a=>{for(;a!==null;)a.gc(t,!0),a=a.left}),this.type._map=new Map}write(t,n){this.type._write(t)}getRef(){return 7}}const vw=e=>new Il(ow[e.readTypeRef()](e)),Bd=(e,t,n)=>{const{client:a,clock:l}=t.id,u=new en(jt(a,l+n),t,jt(a,l+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&u.markDeleted(),t.keep&&(u.keep=!0),t.redone!==null&&(u.redone=jt(t.redone.client,t.redone.clock+n)),t.right=u,u.right!==null&&(u.right.left=u),e._mergeStructs.push(u),u.parentSub!==null&&u.right===null&&u.parent._map.set(u.parentSub,u),t.length=n,u};class en extends Ly{constructor(t,n,a,l,u,r,o,f){super(t,f.getLength()),this.origin=a,this.left=n,this.right=l,this.rightOrigin=u,this.parent=r,this.parentSub=o,this.redone=null,this.content=f,this.info=this.content.isCountable()?Bv:0}set marker(t){(this.info&O2)>0!==t&&(this.info^=O2)}get marker(){return(this.info&O2)>0}get keep(){return(this.info&Hv)>0}set keep(t){this.keep!==t&&(this.info^=Hv)}get countable(){return(this.info&Bv)>0}get deleted(){return(this.info&N2)>0}set deleted(t){this.deleted!==t&&(this.info^=N2)}markDeleted(){this.info|=N2}getMissing(t,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=mn(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=mn(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===vr&&this.id.client!==this.parent.client&&this.parent.clock>=mn(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=$v(t,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Pi(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Oa||this.right&&this.right.constructor===Oa)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===en?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===en&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===vr){const a=w2(n,this.parent);a.constructor===Oa?this.parent=null:this.parent=a.content.type}return null}integrate(t,n){if(n>0&&(this.id.clock+=n,this.left=$v(t,t.doc.store,jt(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let a=this.left,l;if(a!==null)l=a.right;else if(this.parentSub!==null)for(l=this.parent._map.get(this.parentSub)||null;l!==null&&l.left!==null;)l=l.left;else l=this.parent._start;const u=new Set,r=new Set;for(;l!==null&&l!==this.right;){if(r.add(l),u.add(l),Ch(this.origin,l.origin)){if(l.id.client<this.id.client)a=l,u.clear();else if(Ch(this.rightOrigin,l.rightOrigin))break}else if(l.origin!==null&&r.has(w2(t.doc.store,l.origin)))u.has(w2(t.doc.store,l.origin))||(a=l,u.clear());else break;l=l.right}this.left=a}if(this.left!==null){const a=this.left.right;this.right=a,this.left.right=this}else{let a;if(this.parentSub!==null)for(a=this.parent._map.get(this.parentSub)||null;a!==null&&a.left!==null;)a=a.left;else a=this.parent._start,this.parent._start=this;this.right=a}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),N_(t.doc.store,this),this.content.integrate(t,this),e8(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new Oa(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:jt(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&Ch(t.origin,this.lastId)&&this.right===t&&Ch(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const n=this.parent._searchMarker;return n&&n.forEach(a=>{a.p===t&&(a.p=this,!this.deleted&&this.countable&&(a.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Od(t.deleteSet,this.id.client,this.id.clock,this.length),e8(t,n,this.parentSub),this.content.delete(t)}}gc(t,n){if(!this.deleted)throw il();this.content.gc(t),n?Tz(t,this,new Oa(this.id,this.length)):this.content=new Ho(this.length)}write(t,n){const a=n>0?jt(this.id.client,this.id.clock+n-1):this.origin,l=this.rightOrigin,u=this.parentSub,r=this.content.getRef()&J0|(a===null?0:da)|(l===null?0:Yl)|(u===null?0:Oo);if(t.writeInfo(r),a!==null&&t.writeLeftID(a),l!==null&&t.writeRightID(l),a===null&&l===null){const o=this.parent;if(o._item!==void 0){const f=o._item;if(f===null){const g=bz(o);t.writeParentInfo(!0),t.writeString(g)}else t.writeParentInfo(!1),t.writeLeftID(f.id)}else o.constructor===String?(t.writeParentInfo(!0),t.writeString(o)):o.constructor===vr?(t.writeParentInfo(!1),t.writeLeftID(o)):il();u!==null&&t.writeString(u)}this.content.write(t,n)}}const J_=(e,t)=>Sw[t&J0](e),Sw=[()=>{il()},nw,sw,ew,cw,lw,iw,vw,rw,aw,()=>{il()}],_w=10;class Ra extends Ly{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){il()}write(t,n){t.writeInfo(_w),gt(t.restEncoder,this.length-n)}getMissing(t,n){return null}}const W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},P_="__ $YJS$ __";W_[P_]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");W_[P_]=!0;const I_=new Map;class bw{constructor(t){this.room=t,this.onmessage=null,this._onChange=n=>n.key===t&&this.onmessage!==null&&this.onmessage({data:jU(n.newValue||"")}),_U(this._onChange)}postMessage(t){a_.setItem(this.room,VU(GU(t)))}close(){bU(this._onChange)}}const Ew=typeof BroadcastChannel>"u"?bw:BroadcastChannel,Yy=e=>hl(I_,e,()=>{const t=Fi(),n=new Ew(e);return n.onmessage=a=>t.forEach(l=>l(a.data,"broadcastchannel")),{bc:n,subs:t}}),Tw=(e,t)=>(Yy(e).subs.add(t),t),Cw=(e,t)=>{const n=Yy(e),a=n.subs.delete(t);return a&&n.subs.size===0&&(n.bc.close(),I_.delete(e)),a},Pu=(e,t,n=null)=>{const a=Yy(e);a.bc.postMessage(t),a.subs.forEach(l=>l(t,n))},$_=0,Vy=1,tb=2,np=(e,t)=>{gt(e,$_);const n=Sz(t);Be(e,n)},eb=(e,t,n)=>{gt(e,Vy),Be(e,mz(t,n))},Aw=(e,t,n)=>eb(t,n,Mn(e)),nb=(e,t,n)=>{try{hz(t,Mn(e),n)}catch(a){console.error("Caught error while handling a Yjs update",a)}},xw=(e,t)=>{gt(e,tb),Be(e,t)},Dw=nb,Mw=(e,t,n,a)=>{const l=Ct(e);switch(l){case $_:Aw(e,t,n);break;case Vy:nb(e,n,a);break;case tb:Dw(e,n,a);break;default:throw new Error("Unknown message type")}return l},Nw=0,Ow=(e,t,n)=>{switch(Ct(e)){case Nw:n(t,qi(e))}},B2=3e4;class Rw extends W7{constructor(t){super(),this.doc=t,this.clientID=t.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const n=Ks();this.getLocalState()!==null&&B2/2<=n-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const a=[];this.meta.forEach((l,u)=>{u!==this.clientID&&B2<=n-l.lastUpdated&&this.states.has(u)&&a.push(u)}),a.length>0&&jy(this,a,"timeout")},Ql(B2/10)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){const n=this.clientID,a=this.meta.get(n),l=a===void 0?0:a.clock+1,u=this.states.get(n);t===null?this.states.delete(n):this.states.set(n,t),this.meta.set(n,{clock:l,lastUpdated:Ks()});const r=[],o=[],f=[],g=[];t===null?g.push(n):u==null?t!=null&&r.push(n):(o.push(n),fo(u,t)||f.push(n)),(r.length>0||f.length>0||g.length>0)&&this.emit("change",[{added:r,updated:f,removed:g},"local"]),this.emit("update",[{added:r,updated:o,removed:g},"local"])}setLocalStateField(t,n){const a=this.getLocalState();a!==null&&this.setLocalState({...a,[t]:n})}getStates(){return this.states}}const jy=(e,t,n)=>{const a=[];for(let l=0;l<t.length;l++){const u=t[l];if(e.states.has(u)){if(e.states.delete(u),u===e.clientID){const r=e.meta.get(u);e.meta.set(u,{clock:r.clock+1,lastUpdated:Ks()})}a.push(u)}}a.length>0&&(e.emit("change",[{added:[],updated:[],removed:a},n]),e.emit("update",[{added:[],updated:[],removed:a},n]))},ho=(e,t,n=e.states)=>{const a=t.length,l=Nn();gt(l,a);for(let u=0;u<a;u++){const r=t[u],o=n.get(r)||null,f=e.meta.get(r).clock;gt(l,r),gt(l,f),Ys(l,JSON.stringify(o))}return xe(l)},Uw=(e,t,n)=>{const a=rs(t),l=Ks(),u=[],r=[],o=[],f=[],g=Ct(a);for(let m=0;m<g;m++){const b=Ct(a);let v=Ct(a);const p=JSON.parse(qi(a)),_=e.meta.get(b),A=e.states.get(b),x=_===void 0?0:_.clock;(x<v||x===v&&p===null&&e.states.has(b))&&(p===null?b===e.clientID&&e.getLocalState()!=null?v++:e.states.delete(b):e.states.set(b,p),e.meta.set(b,{clock:v,lastUpdated:l}),_===void 0&&p!==null?u.push(b):_!==void 0&&p===null?f.push(b):p!==null&&(fo(p,A)||o.push(b),r.push(b)))}(u.length>0||o.length>0||f.length>0)&&e.emit("change",[{added:u,updated:o,removed:f},n]),(u.length>0||r.length>0||f.length>0)&&e.emit("update",[{added:u,updated:r,removed:f},n])},zw=e=>CU(e,(t,n)=>`${encodeURIComponent(n)}=${encodeURIComponent(t)}`).join("&"),Os=0,ab=3,_r=1,ww=2,of=[];of[Os]=(e,t,n,a,l)=>{gt(e,Os);const u=Mw(t,e,n.doc,n);a&&u===Vy&&!n.synced&&(n.synced=!0)};of[ab]=(e,t,n,a,l)=>{gt(e,_r),Be(e,ho(n.awareness,Array.from(n.awareness.getStates().keys())))};of[_r]=(e,t,n,a,l)=>{Uw(n.awareness,Mn(t),n)};of[ww]=(e,t,n,a,l)=>{Ow(t,n.doc,(u,r)=>Gw(n,r))};const s8=3e4,Gw=(e,t)=>console.warn(`Permission denied to access ${e.url}.
${t}`),lb=(e,t,n)=>{const a=rs(t),l=Nn(),u=Ct(a),r=e.messageHandlers[u];return r?r(l,a,e,n,u):console.error("Unable to compute message"),l},ib=e=>{if(e.shouldConnect&&e.ws===null){const t=new e._WS(e.url);t.binaryType="arraybuffer",e.ws=t,e.wsconnecting=!0,e.wsconnected=!1,e.synced=!1,t.onmessage=n=>{e.wsLastMessageReceived=Ks();const a=lb(e,new Uint8Array(n.data),!0);_y(a)>1&&t.send(xe(a))},t.onerror=n=>{e.emit("connection-error",[n,e])},t.onclose=n=>{e.emit("connection-close",[n,e]),e.ws=null,e.wsconnecting=!1,e.wsconnected?(e.wsconnected=!1,e.synced=!1,jy(e.awareness,Array.from(e.awareness.getStates().keys()).filter(a=>a!==e.doc.clientID),e),e.emit("status",[{status:"disconnected"}])):e.wsUnsuccessfulReconnects++,setTimeout(ib,Sy(jR(2,e.wsUnsuccessfulReconnects)*100,e.maxBackoffTime),e)},t.onopen=()=>{e.wsLastMessageReceived=Ks(),e.wsconnecting=!1,e.wsconnected=!0,e.wsUnsuccessfulReconnects=0,e.emit("status",[{status:"connected"}]);const n=Nn();if(gt(n,Os),np(n,e.doc),t.send(xe(n)),e.awareness.getLocalState()!==null){const a=Nn();gt(a,_r),Be(a,ho(e.awareness,[e.doc.clientID])),t.send(xe(a))}},e.emit("status",[{status:"connecting"}])}},L2=(e,t)=>{const n=e.ws;e.wsconnected&&n&&n.readyState===n.OPEN&&n.send(t),e.bcconnected&&Pu(e.bcChannel,t,e)};class Hw extends W7{constructor(t,n,a,{connect:l=!0,awareness:u=new Rw(a),params:r={},WebSocketPolyfill:o=WebSocket,resyncInterval:f=-1,maxBackoffTime:g=2500,disableBc:m=!1}={}){for(super();t[t.length-1]==="/";)t=t.slice(0,t.length-1);const b=zw(r);this.maxBackoffTime=g,this.bcChannel=t+"/"+n,this.url=t+"/"+n+(b.length===0?"":"?"+b),this.roomname=n,this.doc=a,this._WS=o,this.awareness=u,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=m,this.wsUnsuccessfulReconnects=0,this.messageHandlers=of.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=l,this._resyncInterval=0,f>0&&(this._resyncInterval=setInterval(()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const v=Nn();gt(v,Os),np(v,a),this.ws.send(xe(v))}},f)),this._bcSubscriber=(v,p)=>{if(p!==this){const _=lb(this,new Uint8Array(v),!1);_y(_)>1&&Pu(this.bcChannel,xe(_),this)}},this._updateHandler=(v,p)=>{if(p!==this){const _=Nn();gt(_,Os),xw(_,v),L2(this,xe(_))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:v,updated:p,removed:_},A)=>{const x=v.concat(p).concat(_),C=Nn();gt(C,_r),Be(C,ho(u,x)),L2(this,xe(C))},this._exitHandler=()=>{jy(this.awareness,[a.clientID],"app closed")},Wi&&typeof process<"u"&&process.on("exit",this._exitHandler),u.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&s8<Ks()-this.wsLastMessageReceived&&this.ws.close()},s8/10),l&&this.connect()}get synced(){return this._synced}set synced(t){this._synced!==t&&(this._synced=t,this.emit("synced",[t]),this.emit("sync",[t]))}destroy(){this._resyncInterval!==0&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),Wi&&typeof process<"u"&&process.off("exit",this._exitHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;this.bcconnected||(Tw(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);const t=Nn();gt(t,Os),np(t,this.doc),Pu(this.bcChannel,xe(t),this);const n=Nn();gt(n,Os),eb(n,this.doc),Pu(this.bcChannel,xe(n),this);const a=Nn();gt(a,ab),Pu(this.bcChannel,xe(a),this);const l=Nn();gt(l,_r),Be(l,ho(this.awareness,[this.doc.clientID])),Pu(this.bcChannel,xe(l),this)}disconnectBc(){const t=Nn();gt(t,_r),Be(t,ho(this.awareness,[this.doc.clientID],new Map)),L2(this,xe(t)),this.bcconnected&&(Cw(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),this.ws!==null&&this.ws.close()}connect(){this.shouldConnect=!0,!this.wsconnected&&this.ws===null&&(ib(this),this.connectBc())}}class Bw{static clearCanvas(t,n,a){t.delete(0,t.length),n([]),a(null)}}class Tn{static getInitialState(){return{isErasing:!1,eraserPath:[]}}static handleMouseDown(t,n){const a=t.target.getStage().getPointerPosition();if(!a)return Tn.getInitialState();const l={x:a.x-n.x,y:a.y-n.y};return{isErasing:!0,eraserPath:[l.x,l.y]}}static handleMouseMove(t,n,a){if(!n.isErasing)return n;const l=t.target.getStage().getPointerPosition();if(!l)return n;const u={x:l.x-a.x,y:l.y-a.y};return{...n,eraserPath:[...n.eraserPath,u.x,u.y]}}static handleMouseUp(t){return{...t,isErasing:!1}}static isPointInRect(t,n,a,l,u,r){return t>=a&&t<=a+u&&n>=l&&n<=l+r}static isPointInCircle(t,n,a,l,u){const r=t-a,o=n-l;return r*r+o*o<=u*u}static isPointInEllipse(t,n,a,l,u,r){const o=t-a,f=n-l;return o*o/(u*u)+f*f/(r*r)<=1}static doesEraserIntersectLine(t,n,a=10){if(t.length<4||n.length<4)return!1;for(let l=0;l<t.length-2;l+=2){const u=t[l],r=t[l+1],o=t[l+2],f=t[l+3];for(let g=0;g<n.length-2;g+=2){const m=n[g],b=n[g+1],v=n[g+2],p=n[g+3];if(Tn.distanceToLineSegment(u,r,m,b,v,p)<a||Tn.distanceToLineSegment(o,f,m,b,v,p)<a)return!0}}return!1}static distanceToLineSegment(t,n,a,l,u,r){const o=u-a,f=r-l,g=Math.sqrt(o*o+f*f);if(g===0)return Math.sqrt((t-a)*(t-a)+(n-l)*(n-l));const m=Math.max(0,Math.min(1,((t-a)*o+(n-l)*f)/(g*g))),b={x:a+m*o,y:l+m*f};return Math.sqrt((t-b.x)*(t-b.x)+(n-b.y)*(n-b.y))}static checkCollisions(t,n){const a=[],l=[],u=[],r=[];return t.length<4?{linesToDelete:a,shapesToDelete:l,imagesToDelete:u,textsToDelete:r}:(n.lines.forEach(o=>{Tn.doesEraserIntersectLine(t,o.points)&&a.push(o.id)}),n.shapes.forEach(o=>{let f=!1;for(let g=0;g<t.length-1;g+=2){const m=t[g],b=t[g+1];switch(o.type){case"rectangle":Tn.isPointInRect(m,b,o.x,o.y,o.width||0,o.height||0)&&(f=!0);break;case"circle":Tn.isPointInCircle(m,b,o.x,o.y,o.radius||0)&&(f=!0);break;case"ellipse":Tn.isPointInEllipse(m,b,o.x,o.y,o.radiusX||0,o.radiusY||0)&&(f=!0);break;case"line":Tn.doesEraserIntersectLine(t,o.points||[])&&(f=!0);break}if(f)break}f&&l.push(o.id)}),n.images.forEach(o=>{for(let f=0;f<t.length-1;f+=2){const g=t[f],m=t[f+1];if(Tn.isPointInRect(g,m,o.x,o.y,o.width,o.height)){u.push(o.id);break}}}),n.texts.forEach(o=>{for(let f=0;f<t.length-1;f+=2){const g=t[f],m=t[f+1],b=o.text.length*o.fontSize*.6,v=o.fontSize;if(Tn.isPointInRect(g,m,o.x,o.y,b,v)){r.push(o.id);break}}}),{linesToDelete:a,shapesToDelete:l,imagesToDelete:u,textsToDelete:r})}}class Lw{constructor(t=50){Es(this,"history",[]);Es(this,"currentIndex",-1);Es(this,"maxHistorySize",50);this.maxHistorySize=t}saveState(t){this.history=this.history.slice(0,this.currentIndex+1),this.history.push({...t,timestamp:Date.now()}),this.history.length>this.maxHistorySize?this.history.shift():this.currentIndex++}undo(){return this.currentIndex>0?(this.currentIndex--,this.history[this.currentIndex]):null}redo(){return this.currentIndex<this.history.length-1?(this.currentIndex++,this.history[this.currentIndex]):null}canUndo(){return this.currentIndex>0}canRedo(){return this.currentIndex<this.history.length-1}clear(){this.history=[],this.currentIndex=-1}getCurrentState(){return this.currentIndex>=0&&this.currentIndex<this.history.length?this.history[this.currentIndex]:null}}class Yw{static generateUniqueId(){const t=Math.random().toString(36).substr(2,9),n=Date.now(),a=Math.floor(Math.random()*1e3);return`image-${t}-${n}-${a}`}static createFileInput(){const t=document.createElement("input");return t.type="file",t.accept="image/*",t.style.display="none",t}static async loadImage(t){return new Promise((n,a)=>{const l=new Image,u=URL.createObjectURL(t);l.onload=()=>{URL.revokeObjectURL(u),n(l)},l.onerror=()=>{URL.revokeObjectURL(u),a(new Error("Failed to load image"))},l.src=u})}static async convertToDataURL(t){return new Promise((n,a)=>{const l=new FileReader;l.onload=u=>{var r;n((r=u.target)==null?void 0:r.result)},l.onerror=()=>{a(new Error("Failed to read file"))},l.readAsDataURL(t)})}static async handleImageUpload(t,n){const a=this.createFileInput();a.onchange=async l=>{var r;const u=(r=l.target.files)==null?void 0:r[0];if(u)try{const o=await this.loadImage(u),f=await this.convertToDataURL(u),g=300,m=o.width/o.height;let b=o.width,v=o.height;(b>g||v>g)&&(b>v?(b=g,v=g/m):(v=g,b=g*m));const p={id:this.generateUniqueId(),x:100-t.x,y:100-t.y,width:b,height:v,src:f,name:u.name};n(p)}catch(o){console.error("Error loading image:",o),alert("Failed to load image. Please try again.")}},a.click()}}class u8{static handleDragEnd(t,n){const a=t.target.x(),l=t.target.y();n(a,l)}static getInitialState(){return{x:0,y:0}}}const Vw=e=>{if(e.length<6)return e;const t=[];t.push(e[0],e[1]);for(let n=2;n<e.length-2;n+=2){const a=e[n-2],l=e[n-1],u=e[n],r=e[n+1],o=e[n+2],f=e[n+3],g=(u+o)/2,m=(r+f)/2,b=4;for(let v=0;v<=b;v++){const p=v/b,_=p*p,A=1-p,x=A*A,C=x*a+2*A*p*g+_*u,T=x*l+2*A*p*m+_*r;t.push(C,T)}}return t.push(e[e.length-2],e[e.length-1]),t},r8=(e,t=.5)=>{if(e.length<6)return e;const n=[];n.push(e[0],e[1]);for(let a=2;a<e.length-2;a+=2){const l=e[a-2],u=e[a-1],r=e[a],o=e[a+1],f=e[a+2],g=e[a+3],m=e[a+4]||f,b=e[a+5]||g,v=3;for(let p=0;p<=v;p++){const _=p/v,A=_*_,x=A*_,C=.5*(2*r+(-l+f)*_+(2*l-5*r+4*f-m)*A+(-l+3*r-3*f+m)*x),T=.5*(2*o+(-u+g)*_+(2*u-5*o+4*g-b)*A+(-u+3*o-3*g+b)*x);n.push(C,T)}}return n.push(e[e.length-2],e[e.length-1]),n},Y2=(e,t=1.5)=>{if(e.length<4)return e;const n=[e[0],e[1]];for(let o=2;o<e.length;o+=2){const f=n[n.length-2],g=n[n.length-1],m=e[o],b=e[o+1];Math.sqrt(Math.pow(m-f,2)+Math.pow(b-g,2))>=t&&n.push(m,b)}const a=e[e.length-2],l=e[e.length-1],u=n[n.length-2],r=n[n.length-1];return(a!==u||l!==r)&&n.push(a,l),n},V2=(e,t=10)=>{if(e.length<4)return e;const n=[e[0],e[1]];for(let a=2;a<e.length;a+=2){const l=n[n.length-2],u=n[n.length-1],r=e[a],o=e[a+1],f=Math.sqrt(Math.pow(r-l,2)+Math.pow(o-u,2));if(f>t){const g=Math.ceil(f/t);for(let m=1;m<=g;m++){const b=m/g,v=l+(r-l)*b,p=u+(o-u)*b;n.push(v,p)}}else n.push(r,o)}return n};class br{static generateUniqueId(){const t=Math.random().toString(36).substr(2,9),n=Date.now(),a=Math.floor(Math.random()*1e3);return`line-${t}-${n}-${a}`}static handleMouseDown(t,n,a,l){const r=t.target.getStage().getPointerPosition();if(!r)return null;const o=r.x-n.x,f=r.y-n.y;return this.lastTimestamp=Date.now(),this.lastPosition={x:o,y:f},this.velocityHistory=[],{id:this.generateUniqueId(),tool:"pen",points:[o,f],color:a,strokeWidth:l}}static handleMouseMove(t,n,a){const u=t.target.getStage().getPointerPosition();if(!u)return n;const r=u.x-a.x,o=u.y-a.y,f=Date.now(),g=f-this.lastTimestamp;let m=0;this.lastPosition&&g>0&&(m=Math.sqrt(Math.pow(r-this.lastPosition.x,2)+Math.pow(o-this.lastPosition.y,2))/g,this.velocityHistory.push(m),this.velocityHistory.length>5&&this.velocityHistory.shift());const b=this.velocityHistory.length>0?this.velocityHistory.reduce((_,A)=>_+A,0)/this.velocityHistory.length:0;this.lastTimestamp=f,this.lastPosition={x:r,y:o};const v=[...n.points,r,o];let p=v;return b>.8?(p=V2(v,8),p=Y2(p,1),p=p.length>6?Vw(p):p):b>.3?(p=V2(v,10),p=Y2(p,1.5),p=p.length>6?r8(p,.4):p):(p=V2(v,12),p=Y2(p,2),p=p.length>6?r8(p,.2):p),{...n,points:p}}static shouldSyncLine(t){return t.points.length>=4}}Es(br,"lastTimestamp",0),Es(br,"lastPosition",null),Es(br,"velocityHistory",[]);class qu{static getInitialState(){return{selectedId:null,selectedType:null}}static handleSelection(t,n,a){var r,o,f;if(console.log("SelectionTool.handleSelection called with target:",(r=t==null?void 0:t.getType)==null?void 0:r.call(t),"name:",(o=t==null?void 0:t.name)==null?void 0:o.call(t),"id:",(f=t==null?void 0:t.id)==null?void 0:f.call(t)),!t){console.log("No target, deselecting"),a({selectedId:null,selectedType:null});return}const l=t.id(),u=t.name();console.log("Target ID:",l,"Target Name:",u),l&&(u==="image"||u==="shape"||u==="text")?(console.log("Selecting item:",l,u),a({selectedId:l,selectedType:u})):(console.log("Clicked on something else, deselecting"),a({selectedId:null,selectedType:null}))}static handleTransform(t,n,a){if(!t)return;const l=t.id();if(n==="image"){const u=t.scaleX(),r=t.scaleY(),o=t.width()*u,f=t.height()*r;t.width(o),t.height(f),t.scaleX(1),t.scaleY(1);const g={x:t.x(),y:t.y(),width:o,height:f,scaleX:1,scaleY:1,rotation:t.rotation()};a(l,g)}else if(n==="shape"){const u=t.getClassName(),r=t.scaleX(),o=t.scaleY(),f={x:t.x(),y:t.y(),scaleX:1,scaleY:1,rotation:t.rotation()};if(u==="Rect"){const g=t.width()*r,m=t.height()*o;t.width(g),t.height(m),t.scaleX(1),t.scaleY(1),f.width=g,f.height=m}else if(u==="Circle"){const g=t.radius()*Math.max(r,o);t.radius(g),t.scaleX(1),t.scaleY(1),f.radius=g}else if(u==="Ellipse"){const g=t.radiusX()*r,m=t.radiusY()*o;t.radiusX(g),t.radiusY(m),t.scaleX(1),t.scaleY(1),f.radiusX=g,f.radiusY=m}else if(u==="Line"){const g=t.points(),m=[];for(let b=0;b<g.length;b+=2)m.push(g[b]*r),m.push(g[b+1]*o);t.points(m),t.scaleX(1),t.scaleY(1),f.points=m}a(l,f)}else if(n==="text"){const u={x:t.x(),y:t.y(),scaleX:t.scaleX(),scaleY:t.scaleY(),rotation:t.rotation()};a(l,u)}}}class j2{static generateUniqueId(){const t=Math.random().toString(36).substr(2,9),n=Date.now(),a=Math.floor(Math.random()*1e3);return`shape-${t}-${n}-${a}`}static startDrawing(t,n,a,l,u){const o=n.target.getStage().getPointerPosition();if(!o)return null;const f=o.x-a.x,g=o.y-a.y,m={id:this.generateUniqueId(),type:t,x:f,y:g,color:l,strokeWidth:u};switch(t){case"rectangle":return{...m,width:0,height:0};case"circle":return{...m,radius:0};case"ellipse":return{...m,radiusX:0,radiusY:0};case"line":return{...m,x:0,y:0,points:[f,g,f,g]};default:return null}}static updateDrawing(t,n,a){const u=n.target.getStage().getPointerPosition();if(!u)return t;const r=u.x-a.x,o=u.y-a.y;switch(t.type){case"rectangle":return{...t,width:r-t.x,height:o-t.y};case"circle":const f=Math.sqrt(Math.pow(r-t.x,2)+Math.pow(o-t.y,2));return{...t,radius:f};case"ellipse":return{...t,radiusX:Math.abs(r-t.x),radiusY:Math.abs(o-t.y)};case"line":return t.points&&t.points.length>=4?{...t,points:[t.points[0],t.points[1],r,o]}:t;default:return t}}static shouldSyncShape(t){switch(t.type){case"rectangle":return Math.abs(t.width||0)>5&&Math.abs(t.height||0)>5;case"circle":return(t.radius||0)>5;case"ellipse":return(t.radiusX||0)>5&&(t.radiusY||0)>5;case"line":return!t.points||t.points.length<4?!1:Math.sqrt(Math.pow(t.points[2]-t.points[0],2)+Math.pow(t.points[3]-t.points[1],2))>5;default:return!1}}}const jw=["Arial","Helvetica","Times New Roman","Georgia","Verdana","Courier New","Comic Sans MS","Impact","Trebuchet MS","Palatino"],Xw=[8,10,12,14,16,18,20,24,28,32,36,42,48,56,64,72];class X2{static createText(t,n,a="",l="#000000",u=16,r="Arial",o="normal",f="normal"){return{id:Date.now().toString()+Math.random().toString(36).substr(2,9),x:t,y:n,text:a,fontSize:u,fontFamily:r,color:l,width:void 0,height:void 0,scaleX:1,scaleY:1,rotation:0,isEditing:!0,fontWeight:o,fontStyle:f}}static handleDoubleClick(t,n,a){const l=t.id(),u=n.map(r=>r.id===l?{...r,isEditing:!0}:{...r,isEditing:!1});a(u)}static finishEditing(t,n,a,l){const u=a.map(r=>r.id===t?{...r,text:n,isEditing:!1}:r);l(u)}static updateText(t,n,a,l){const u=a.map(r=>r.id===t?{...r,...n}:r);l(u)}}const lc=new nc,bn=lc.getArray("lines"),Ke=lc.getArray("images"),Qe=lc.getArray("shapes"),ee=lc.getArray("texts"),Ku=lc.getMap("viewState");new Hw("ws://192.168.31.158:3001","whiteboard",lc);const qw=(e,t)=>{let n,a,l;return function(...u){n?(clearTimeout(a),a=setTimeout(()=>{Date.now()-l>=t&&(e.apply(this,u),l=Date.now())},t-(Date.now()-l))):(e.apply(this,u),l=Date.now(),n=!0,setTimeout(()=>n=!1,t))}},Kw=(e,t,n)=>{if(e.points.length<2)return!1;const a=Math.min(...e.points.filter((o,f)=>f%2===0))+t.x,l=Math.max(...e.points.filter((o,f)=>f%2===0))+t.x,u=Math.min(...e.points.filter((o,f)=>f%2===1))+t.y,r=Math.max(...e.points.filter((o,f)=>f%2===1))+t.y;return!(l<0||a>n.width||r<0||u>n.height)},As=new Lw(50),Qw=()=>{const[e,t]=tt.useState("pen"),[n,a]=tt.useState("#000000"),[l,u]=tt.useState(2.5),[r,o]=tt.useState(16),[f,g]=tt.useState("Arial"),[m,b]=tt.useState([]),[v,p]=tt.useState([]),[_,A]=tt.useState([]),[x,C]=tt.useState([]),[T,S]=tt.useState(null),[E,M]=tt.useState(null),[O,w]=tt.useState(()=>qu.getInitialState()),[N,Y]=tt.useState(()=>Tn.getInitialState()),[z,j]=tt.useState(()=>u8.getInitialState()),[q,I]=tt.useState({width:window.innerWidth,height:window.innerHeight}),ut=tt.useRef(!1),at=tt.useRef(0),Q=tt.useRef(null),$=tt.useRef(!1),X=tt.useRef({});tt.useEffect(()=>{const nt=()=>{I({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",nt),()=>window.removeEventListener("resize",nt)},[]);const et=tt.useCallback(()=>{if($.current)return;const nt={lines:m,images:v,shapes:_,texts:x,timestamp:Date.now()};As.saveState(nt)},[m,v,_,x]);tt.useEffect(()=>{const nt=()=>{try{const J=bn.toArray().map(mt=>JSON.parse(mt)).filter(mt=>mt&&mt.id);b(J)}catch(J){console.error("Error syncing lines:",J)}},vt=()=>{try{const J=Ke.toArray().map(mt=>JSON.parse(mt)).filter(mt=>mt&&mt.id);p(J)}catch(J){console.error("Error syncing images:",J)}},ft=()=>{try{const J=Qe.toArray().map(mt=>JSON.parse(mt)).filter(mt=>mt&&mt.id);A(J)}catch(J){console.error("Error syncing shapes:",J)}},st=()=>{try{const J=ee.toArray().map(mt=>JSON.parse(mt)).filter(mt=>mt&&mt.id);C(J)}catch(J){console.error("Error syncing texts:",J)}},pt=()=>{j({x:Ku.get("x")||0,y:Ku.get("y")||0})};return X.current={syncLines:nt,syncImages:vt,syncShapes:ft,syncTexts:st,syncViewState:pt},bn.observe(nt),Ke.observe(vt),Qe.observe(ft),ee.observe(st),Ku.observe(pt),nt(),vt(),ft(),st(),pt(),setTimeout(()=>{if(!$.current){const J={lines:bn.toArray().map(mt=>JSON.parse(mt)).filter(mt=>mt&&mt.id),images:Ke.toArray().map(mt=>JSON.parse(mt)).filter(mt=>mt&&mt.id),shapes:Qe.toArray().map(mt=>JSON.parse(mt)).filter(mt=>mt&&mt.id),texts:ee.toArray().map(mt=>JSON.parse(mt)).filter(mt=>mt&&mt.id),timestamp:Date.now()};As.saveState(J)}},100),()=>{try{bn.unobserve(nt)}catch(J){console.warn("Could not unobserve syncLines during cleanup:",J)}try{Ke.unobserve(vt)}catch(J){console.warn("Could not unobserve syncImages during cleanup:",J)}try{Qe.unobserve(ft)}catch(J){console.warn("Could not unobserve syncShapes during cleanup:",J)}try{ee.unobserve(st)}catch(J){console.warn("Could not unobserve syncTexts during cleanup:",J)}try{Ku.unobserve(pt)}catch(J){console.warn("Could not unobserve syncViewState during cleanup:",J)}X.current={}}},[]);const rt=tt.useCallback(nt=>{var vt,ft;if(console.log("handleMouseDown called with tool:",e,"target:",nt.target.getType(),"target name:",(ft=(vt=nt.target).name)==null?void 0:ft.call(vt)),e==="select"){console.log("Selection tool - before:",O),qu.handleSelection(nt.target,O,st=>{console.log("Selection tool - after:",st),w(st)});return}if(e==="text"){const st=nt.target.getStage().getPointerPosition();if(st){const pt={x:st.x-z.x,y:st.y-z.y},J=X2.createText(pt.x,pt.y,"",n,r,f);Q.current=J.id,ee.push([JSON.stringify(J)]),et()}return}if(e==="eraser"){const st=Tn.handleMouseDown(nt,z);Y(st),ut.current=!0;return}if(!ut.current){if(ut.current=!0,e==="pen"){const st=br.handleMouseDown(nt,z,n,l);st&&S(st)}else if(["rectangle","circle","line","ellipse"].includes(e)){const st=j2.startDrawing(e,nt,z,n,l);st&&M(st)}}},[e,z,n,l,r,f,O,et]),ot=tt.useCallback(qw(nt=>{if(!ut.current)return;const vt=Date.now();if(!(vt-at.current<4)){if(at.current=vt,e==="pen"&&T){const ft=br.handleMouseMove(nt,T,z);S(ft)}else if(["rectangle","circle","line","ellipse"].includes(e)&&E){const ft=j2.updateDrawing(E,nt,z);M(ft)}else if(e==="eraser"&&N.isErasing){const ft=Tn.handleMouseMove(nt,N,z);Y(ft)}}},4),[e,T,E,z,N]),Et=tt.useCallback(nt=>{if(ut.current){if(ut.current=!1,e==="pen"&&T)br.shouldSyncLine(T)&&(bn.push([JSON.stringify(T)]),et()),S(null);else if(["rectangle","circle","line","ellipse"].includes(e)&&E)j2.shouldSyncShape(E)&&(Qe.push([JSON.stringify(E)]),et()),M(null);else if(e==="eraser"&&N.isErasing){const vt=Tn.handleMouseUp(N);Y(vt);const ft=Tn.checkCollisions(N.eraserPath,{lines:m,shapes:_,images:v,texts:x});let st=!1;ft.linesToDelete.forEach(pt=>{const J=m.findIndex(mt=>mt.id===pt);J!==-1&&(bn.delete(J,1),st=!0)}),ft.shapesToDelete.forEach(pt=>{const J=_.findIndex(mt=>mt.id===pt);J!==-1&&(Qe.delete(J,1),st=!0)}),ft.imagesToDelete.forEach(pt=>{const J=v.findIndex(mt=>mt.id===pt);J!==-1&&(Ke.delete(J,1),st=!0)}),ft.textsToDelete.forEach(pt=>{const J=x.findIndex(mt=>mt.id===pt);J!==-1&&(ee.delete(J,1),st=!0)}),st&&et(),Y(Tn.getInitialState())}}},[e,T,E,et,N,m,v,_,x]),Ot=tt.useCallback(nt=>{e==="pan"&&!ut.current&&u8.handleDragEnd(nt,(vt,ft)=>{Ku.set("x",vt),Ku.set("y",ft)})},[e]),me=tt.useCallback(()=>{Yw.handleImageUpload(z,nt=>{Ke.push([JSON.stringify(nt)]),et()})},[z,et]),Qt=tt.useCallback((nt,vt)=>{const ft=v.findIndex(st=>st.id===nt);if(ft!==-1){const st={...v[ft],...vt};Ke.delete(ft,1),Ke.insert(ft,[JSON.stringify(st)]),et()}},[v,et]),re=tt.useCallback((nt,vt)=>{const ft=_.findIndex(st=>st.id===nt);if(ft!==-1){const st={..._[ft],...vt};Qe.delete(ft,1),Qe.insert(ft,[JSON.stringify(st)]),et()}},[_,et]),G=tt.useCallback((nt,vt)=>{const ft=x.findIndex(st=>st.id===nt);if(ft!==-1){const st={...x[ft],...vt};ee.delete(ft,1),ee.insert(ft,[JSON.stringify(st)]),et()}},[x,et]),Z=tt.useCallback(nt=>{O.selectedType==="image"?qu.handleTransform(nt,"image",Qt):O.selectedType==="shape"?qu.handleTransform(nt,"shape",re):O.selectedType==="text"&&qu.handleTransform(nt,"text",G)},[O,Qt,re,G]),ht=tt.useCallback(nt=>{X2.handleDoubleClick({id:()=>nt},x,vt=>{ee.delete(0,ee.length),vt.forEach(ft=>{ee.push([JSON.stringify(ft)])})})},[x]),Yt=tt.useCallback((nt,vt)=>{if(nt==="new"){const ft=Q.current;if(ft&&vt.trim()){const st=x.findIndex(pt=>pt.id===ft);if(st!==-1){const pt={...x[st],text:vt,isEditing:!1};ee.delete(st,1),ee.insert(st,[JSON.stringify(pt)]),et()}}else if(ft&&!vt.trim()){const st=x.findIndex(pt=>pt.id===ft);st!==-1&&ee.delete(st,1)}Q.current=null}else X2.finishEditing(nt,vt,x,ft=>{ee.delete(0,ee.length),ft.forEach(st=>{ee.push([JSON.stringify(st)])}),et()})},[x,et]),Rt=tt.useCallback(()=>{$.current=!0;const nt=As.undo();if(nt){const{syncLines:vt,syncImages:ft,syncShapes:st,syncTexts:pt}=X.current;try{vt&&bn.unobserve(vt)}catch(J){console.warn("Could not unobserve syncLines:",J)}try{ft&&Ke.unobserve(ft)}catch(J){console.warn("Could not unobserve syncImages:",J)}try{st&&Qe.unobserve(st)}catch(J){console.warn("Could not unobserve syncShapes:",J)}try{pt&&ee.unobserve(pt)}catch(J){console.warn("Could not unobserve syncTexts:",J)}bn.delete(0,bn.length),Ke.delete(0,Ke.length),Qe.delete(0,Qe.length),ee.delete(0,ee.length),nt.lines.forEach(J=>bn.push([JSON.stringify(J)])),nt.images.forEach(J=>Ke.push([JSON.stringify(J)])),nt.shapes.forEach(J=>Qe.push([JSON.stringify(J)])),nt.texts.forEach(J=>ee.push([JSON.stringify(J)])),b(nt.lines),p(nt.images),A(nt.shapes),C(nt.texts);try{vt&&bn.observe(vt)}catch(J){console.warn("Could not re-observe syncLines:",J)}try{ft&&Ke.observe(ft)}catch(J){console.warn("Could not re-observe syncImages:",J)}try{st&&Qe.observe(st)}catch(J){console.warn("Could not re-observe syncShapes:",J)}try{pt&&ee.observe(pt)}catch(J){console.warn("Could not re-observe syncTexts:",J)}}$.current=!1},[m,v,_,x]),It=tt.useCallback(()=>{$.current=!0;const nt=As.redo();if(nt){const{syncLines:vt,syncImages:ft,syncShapes:st,syncTexts:pt}=X.current;try{vt&&bn.unobserve(vt)}catch(J){console.warn("Could not unobserve syncLines:",J)}try{ft&&Ke.unobserve(ft)}catch(J){console.warn("Could not unobserve syncImages:",J)}try{st&&Qe.unobserve(st)}catch(J){console.warn("Could not unobserve syncShapes:",J)}try{pt&&ee.unobserve(pt)}catch(J){console.warn("Could not unobserve syncTexts:",J)}bn.delete(0,bn.length),Ke.delete(0,Ke.length),Qe.delete(0,Qe.length),ee.delete(0,ee.length),nt.lines.forEach(J=>bn.push([JSON.stringify(J)])),nt.images.forEach(J=>Ke.push([JSON.stringify(J)])),nt.shapes.forEach(J=>Qe.push([JSON.stringify(J)])),nt.texts.forEach(J=>ee.push([JSON.stringify(J)])),b(nt.lines),p(nt.images),A(nt.shapes),C(nt.texts);try{vt&&bn.observe(vt)}catch(J){console.warn("Could not re-observe syncLines:",J)}try{ft&&Ke.observe(ft)}catch(J){console.warn("Could not re-observe syncImages:",J)}try{st&&Qe.observe(st)}catch(J){console.warn("Could not re-observe syncShapes:",J)}try{pt&&ee.observe(pt)}catch(J){console.warn("Could not re-observe syncTexts:",J)}}$.current=!1},[]),Ee=tt.useCallback(()=>{Bw.clearCanvas(bn,b,S),Ke.delete(0,Ke.length),Qe.delete(0,Qe.length),ee.delete(0,ee.length),p([]),A([]),C([]),M(null),w(qu.getInitialState()),As.clear()},[]),Ve=(T?[...m,T]:m).filter(nt=>Kw(nt,z,q)).filter((nt,vt,ft)=>ft.findIndex(st=>st.id===nt.id)===vt),yn=E?[..._,E]:_;return{lines:Ve,images:v,shapes:yn,texts:x,tool:e,setTool:t,color:n,setColor:a,strokeWidth:l,setStrokeWidth:u,fontSize:r,setFontSize:o,fontFamily:f,setFontFamily:g,selection:O,eraserState:N,stagePos:z,handleMouseDown:rt,handleMouseMove:ot,handleMouseUp:Et,handleDragEnd:Ot,handleImageUpload:me,handleTransform:Z,handleTextDoubleClick:ht,handleTextEdit:Yt,undo:Rt,redo:It,canUndo:As.canUndo(),canRedo:As.canRedo(),clearCanvas:Ee,lastCreatedTextId:Q}},kw=["#000000","#333333","#666666","#999999","#CCCCCC","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FF6600","#FF9900","#FFCC00","#FFA500","#FF4500","#DC143C","#0066FF","#3399FF","#66CCFF","#0099CC","#006699","#004080","#6600FF","#9900FF","#CC00FF","#FF69B4","#FF1493","#C71585","#32CD32","#00FF7F","#00FA9A","#90EE90","#228B22","#006400","#8B4513","#A0522D","#D2691E","#CD853F","#DEB887","#F4A460","#800080","#4B0082","#2F4F4F","#708090","#B0C4DE","#F0E68C"],Zw=({selectedColor:e,onColorChange:t})=>{const[n,a]=tt.useState(!1),l=tt.useRef(null);tt.useEffect(()=>{const r=o=>{l.current&&!l.current.contains(o.target)&&a(!1)};return n&&(document.addEventListener("mousedown",r),document.addEventListener("touchstart",r)),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[n]);const u=r=>{t(r),a(!1)};return k.jsxs("div",{className:"color-selector",ref:l,children:[k.jsx("button",{className:"color-button",onClick:()=>a(!n),title:"Color",children:k.jsx("div",{className:"color-dot",style:{width:"16px",height:"16px",backgroundColor:e,borderRadius:"50%",border:"1px solid rgba(0, 0, 0, 0.2)"}})}),n&&k.jsx("div",{className:"color-grid",children:kw.map((r,o)=>k.jsx("button",{className:`color-option ${e===r?"selected":""}`,style:{backgroundColor:r},onClick:()=>u(r),title:`Color ${o+1}`},r))})]})},c8=[{tool:"rectangle",title:"Rectangle",icon:k.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:k.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})})},{tool:"circle",title:"Circle",icon:k.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:k.jsx("circle",{cx:"12",cy:"12",r:"10"})})},{tool:"line",title:"Line",icon:k.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:k.jsx("line",{x1:"7",y1:"17",x2:"17",y2:"7"})})},{tool:"ellipse",title:"Ellipse",icon:k.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:k.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"6"})})}],Fw=({activeTool:e,onToolChange:t})=>{const[n,a]=tt.useState(!1),l=tt.useRef(null);tt.useEffect(()=>{const f=g=>{l.current&&!l.current.contains(g.target)&&a(!1)};return n&&(document.addEventListener("mousedown",f),document.addEventListener("touchstart",f)),()=>{document.removeEventListener("mousedown",f),document.removeEventListener("touchstart",f)}},[n]);const u=f=>{t(f),a(!1)},r=()=>{const f=c8.find(g=>g.tool===e);return f?f.icon:k.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:k.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})})},o=["rectangle","circle","line","ellipse"].includes(e);return k.jsxs("div",{className:"shape-selector",ref:l,children:[k.jsx("button",{className:`shape-button ${o?"active":""}`,onClick:()=>a(!n),title:"Shape Tools",children:r()}),n&&k.jsx("div",{className:"shape-grid",children:c8.map(f=>k.jsx("button",{className:`shape-option ${e===f.tool?"selected":""}`,onClick:()=>u(f.tool),title:f.title,children:f.icon},f.tool))})]})},Jw=Array.from({length:48},(e,t)=>({width:t+1,label:`${t+1}px`})),Ww=({selectedStroke:e,onStrokeChange:t})=>{const[n,a]=tt.useState(!1),l=tt.useRef(null);tt.useEffect(()=>{const r=o=>{l.current&&!l.current.contains(o.target)&&a(!1)};return n&&(document.addEventListener("mousedown",r),document.addEventListener("touchstart",r)),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[n]);const u=r=>{t(r),a(!1)};return k.jsxs("div",{className:"stroke-selector",ref:l,children:[k.jsx("button",{className:"stroke-button",onClick:()=>a(!n),title:`Stroke Width: ${e}px`,children:k.jsx("span",{className:"stroke-button-number",children:e})}),n&&k.jsx("div",{className:"stroke-grid",children:Jw.map(r=>k.jsx("button",{className:`stroke-option ${e===r.width?"selected":""}`,onClick:()=>u(r.width),title:r.label,children:k.jsx("span",{className:"stroke-number",children:r.width})},r.width))})]})},Pw=({activeTool:e,onToolChange:t,selectedFont:n,selectedSize:a,onFontChange:l,onSizeChange:u})=>{const[r,o]=tt.useState(!1),f=tt.useRef(null),[g,m]=tt.useState(!1),b=tt.useRef(null);tt.useEffect(()=>{if(!r)return;const p=A=>{const x=A.target;f.current&&!f.current.contains(x)&&o(!1)},_=A=>{const x=A.target;A.touches.length===1&&!g&&f.current&&!f.current.contains(x)&&setTimeout(()=>{!g&&f.current&&!f.current.contains(x)&&o(!1)},150)};return document.addEventListener("mousedown",p),document.addEventListener("touchstart",_,{passive:!0}),()=>{document.removeEventListener("mousedown",p),document.removeEventListener("touchstart",_),b.current&&clearTimeout(b.current)}},[r]);const v=()=>{e==="text"?o(!r):t("text")};return k.jsxs("div",{className:"text-selector",ref:f,children:[k.jsx("button",{className:`text-button ${e==="text"?"active":""}`,onClick:v,onTouchEnd:p=>{p.preventDefault(),v()},title:"Text Tool",children:k.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[k.jsx("polyline",{points:"4,7 4,4 20,4 20,7"}),k.jsx("line",{x1:"9",y1:"20",x2:"15",y2:"20"}),k.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20"})]})}),r&&k.jsxs("div",{className:"text-grid",style:{touchAction:"manipulation"},onTouchStart:p=>{p.stopPropagation()},onTouchMove:p=>{p.stopPropagation()},onTouchEnd:p=>{p.stopPropagation()},children:[k.jsx("div",{style:{padding:"8px",borderBottom:"1px solid #eee",fontSize:"12px",fontWeight:"bold",textAlign:"center",color:"black"},children:"Font & Size"}),k.jsxs("div",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:[k.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",marginBottom:"6px",color:"black"},children:"Font Family"}),k.jsx("div",{style:{maxHeight:"180px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"2px",WebkitOverflowScrolling:"touch"},onTouchStart:p=>{p.stopPropagation(),m(!0),b.current&&clearTimeout(b.current)},onTouchMove:p=>{p.stopPropagation(),m(!0),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{m(!1)},300)},onTouchEnd:()=>{b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{m(!1)},200)},children:jw.map(p=>k.jsx("div",{onClick:()=>{l(p),o(!1)},onTouchEnd:_=>{_.preventDefault(),_.stopPropagation(),g||(l(p),o(!1))},onTouchStart:_=>{_.stopPropagation()},style:{padding:"8px 12px",cursor:"pointer",fontFamily:p,fontSize:"12px",color:"black",backgroundColor:p===n?"#e3f2fd":"transparent",borderRadius:"4px",border:p===n?"1px solid #2196f3":"1px solid transparent",transition:"all 0.2s ease",minHeight:"32px",display:"flex",alignItems:"center",touchAction:"manipulation",WebkitTapHighlightColor:"rgba(0, 0, 0, 0.1)"},onMouseEnter:_=>{p!==n&&(_.currentTarget.style.backgroundColor="#f5f5f5")},onMouseLeave:_=>{p!==n&&(_.currentTarget.style.backgroundColor="transparent")},children:p},p))})]}),k.jsxs("div",{style:{padding:"8px"},children:[k.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",marginBottom:"6px",color:"black"},children:"Font Size"}),k.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"4px",maxHeight:"120px",overflowY:"auto"},onTouchStart:p=>{p.stopPropagation(),m(!0),b.current&&clearTimeout(b.current)},onTouchMove:p=>{p.stopPropagation(),m(!0),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{m(!1)},300)},onTouchEnd:()=>{b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{m(!1)},200)},children:Xw.map(p=>k.jsx("div",{onClick:()=>{u(p),o(!1)},onTouchEnd:_=>{_.preventDefault(),_.stopPropagation(),g||(u(p),o(!1))},onTouchStart:_=>{_.stopPropagation()},style:{padding:"8px 6px",cursor:"pointer",fontSize:"11px",color:"black",textAlign:"center",backgroundColor:p===a?"#e3f2fd":"transparent",borderRadius:"4px",border:p===a?"1px solid #2196f3":"1px solid transparent",transition:"all 0.2s ease",minHeight:"32px",display:"flex",alignItems:"center",justifyContent:"center",touchAction:"manipulation",WebkitTapHighlightColor:"rgba(0, 0, 0, 0.1)"},onMouseEnter:_=>{p!==a&&(_.currentTarget.style.backgroundColor="#f5f5f5")},onMouseLeave:_=>{p!==a&&(_.currentTarget.style.backgroundColor="transparent")},children:p},p))})]})]})]})},Iw=({activeTool:e,onToolChange:t,onClear:n,onImageUpload:a,selectedColor:l,onColorChange:u,selectedStroke:r,onStrokeChange:o,selectedFont:f,onFontChange:g,selectedFontSize:m,onFontSizeChange:b,onUndo:v,onRedo:p,canUndo:_,canRedo:A})=>{const x=S=>{console.log("Tool change requested:",S),t(S)},C=()=>{console.log("Clear requested"),n()},T=()=>{console.log("Image upload requested"),a()};return k.jsxs("div",{className:"toolbar",children:[k.jsx("button",{className:e==="pen"?"active":"",onClick:()=>x("pen"),onTouchEnd:S=>{S.preventDefault(),x("pen")},title:"Pen Tool",children:k.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:k.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})}),k.jsx("button",{className:e==="pan"?"active":"",onClick:()=>x("pan"),onTouchEnd:S=>{S.preventDefault(),x("pan")},title:"Pan Tool",children:k.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[k.jsx("path",{d:"M18 11v-1a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1"}),k.jsx("path",{d:"M14 10V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1h4z"}),k.jsx("path",{d:"M10 10.5V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1.5"}),k.jsx("path",{d:"M6 12V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v3c0 6 4 9 8 9s8-3 8-9v-2"})]})}),k.jsx("button",{className:e==="select"?"active":"",onClick:()=>x("select"),onTouchEnd:S=>{S.preventDefault(),x("select")},title:"Select Tool",children:k.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[k.jsx("path",{d:"M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"}),k.jsx("path",{d:"M13 13l6 6"})]})}),k.jsx("button",{className:e==="eraser"?"active":"",onClick:()=>x("eraser"),onTouchEnd:S=>{S.preventDefault(),x("eraser")},title:"Eraser Tool",children:k.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[k.jsx("path",{d:"M20 20H7l-4-4 9.5-9.5a2.828 2.828 0 1 1 4 4L7 20"}),k.jsx("path",{d:"M15 5l4 4"})]})}),k.jsx(Pw,{activeTool:e,onToolChange:x,selectedFont:f,selectedSize:m,onFontChange:g,onSizeChange:b}),k.jsx("div",{className:"toolbar-separator"}),k.jsx(Fw,{activeTool:e,onToolChange:x}),k.jsx("div",{className:"toolbar-separator"}),k.jsx("button",{onClick:T,onTouchEnd:S=>{S.preventDefault(),T()},title:"Upload Image",className:"image-button",children:k.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[k.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),k.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),k.jsx("path",{d:"M21 15l-5-5L5 21"})]})}),k.jsx("div",{className:"toolbar-separator"}),k.jsx(Zw,{selectedColor:l,onColorChange:u}),k.jsx(Ww,{selectedStroke:r,onStrokeChange:o}),k.jsx("div",{className:"toolbar-separator"}),k.jsx("button",{onClick:v,onTouchEnd:S=>{S.preventDefault(),v()},title:"Undo",className:_?"":"disabled",disabled:!_,children:k.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[k.jsx("path",{d:"M3 7v6h6"}),k.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]})}),k.jsx("button",{onClick:p,onTouchEnd:S=>{S.preventDefault(),p()},title:"Redo",className:A?"":"disabled",disabled:!A,children:k.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[k.jsx("path",{d:"M21 7v6h-6"}),k.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3L21 13"})]})}),k.jsx("div",{className:"toolbar-separator"}),k.jsx("button",{onClick:C,onTouchEnd:S=>{S.preventDefault(),C()},title:"Clear Canvas",className:"clear-button",children:k.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[k.jsx("path",{d:"M3 6h18"}),k.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),k.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c0-1 1-2 2-2v2"}),k.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),k.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})},$w=()=>{const{lines:e,images:t,shapes:n,texts:a,tool:l,setTool:u,color:r,setColor:o,strokeWidth:f,setStrokeWidth:g,fontSize:m,setFontSize:b,fontFamily:v,setFontFamily:p,selection:_,eraserState:A,stagePos:x,handleMouseDown:C,handleMouseMove:T,handleMouseUp:S,handleDragEnd:E,handleImageUpload:M,handleTransform:O,handleTextDoubleClick:w,handleTextEdit:N,undo:Y,redo:z,canUndo:j,canRedo:q,clearCanvas:I,lastCreatedTextId:ut}=Qw(),at=tt.useRef(null),Q=tt.useRef(null),$=tt.useRef(null),X=tt.useRef(null);tt.useRef(null);const[et,rt]=tt.useState(!1),[ot,Et]=tt.useState({x:0,y:0}),[Ot,me]=tt.useState(new Map),[Qt,re]=tt.useState(null),[G,Z]=tt.useState(""),[ht,Yt]=tt.useState({x:0,y:0});tt.useEffect(()=>{t.forEach(U=>{if(!Ot.has(U.id)){const lt=new Image;lt.onload=()=>{me(Te=>new Map(Te).set(U.id,lt))},lt.src=U.src}})},[t,Ot]),tt.useEffect(()=>{if(console.log("Transformer useEffect - selection changed:",_),$.current)if(_.selectedId){const lt=Q.current.findOne("#"+_.selectedId);console.log("Looking for node with ID:",_.selectedId,"Found:",lt),lt?(console.log("Setting transformer nodes to:",lt),$.current.nodes([lt]),$.current.getLayer().batchDraw()):(console.log("Selected node not found, clearing transformer"),$.current.nodes([]),$.current.getLayer().batchDraw())}else console.log("No selection, clearing transformer"),$.current.nodes([]),$.current.getLayer().batchDraw();else console.log("Transformer ref is null")},[_.selectedId]),tt.useEffect(()=>{if(Qt&&X.current){const U=()=>{X.current&&(X.current.focus(),X.current.select())};U(),setTimeout(U,50),setTimeout(U,150)}},[Qt]),tt.useEffect(()=>{console.log("Current tool changed to:",l),console.log("Stage draggable:",l==="pan")},[l]),tt.useEffect(()=>{const U=at.current;if(!U)return;const lt=fe=>{const Vn=fe.target,ma=Vn.closest(".toolbar"),ff=Vn.tagName==="INPUT"&&Vn.type==="text";!ma&&!ff&&fe.touches.length>0&&(l==="select"?fe.preventDefault():(fe.preventDefault(),fe.stopPropagation()))},Te=fe=>{!fe.target.closest(".toolbar")&&fe.ctrlKey&&fe.preventDefault()},Ga=fe=>{fe.target.closest(".toolbar")||fe.preventDefault()};return U.addEventListener("touchstart",lt,{passive:!1}),U.addEventListener("touchmove",lt,{passive:!1}),U.addEventListener("touchend",lt,{passive:!1}),l==="select"&&(U.style.touchAction="none"),U.addEventListener("wheel",Te,{passive:!1}),U.addEventListener("contextmenu",Ga),()=>{U.removeEventListener("touchstart",lt),U.removeEventListener("touchmove",lt),U.removeEventListener("touchend",lt),U.removeEventListener("wheel",Te),U.removeEventListener("contextmenu",Ga),U.style.touchAction="auto"}},[l]);const Rt=U=>{const lt=Q.current;if(!lt)return null;if(U.evt&&U.evt.touches&&U.evt.touches.length>0){const Te=U.evt.touches[0];return{x:Te.clientX,y:Te.clientY}}else if(U.evt)return{x:U.evt.clientX,y:U.evt.clientY};return lt.getPointerPosition()},It=U=>{if(console.log("Stage mouse down - tool:",l,"target:",U.target.getType()),!(Qt&&U.evt&&U.evt.target&&U.evt.target.tagName==="INPUT")){if(Qt&&U.target===U.target.getStage()){J();return}if(l==="select"&&U.target===U.target.getStage()){U.evt&&(U.evt.preventDefault(),U.evt.stopPropagation()),C(U);return}if(l!=="select"){if(l==="text"){const lt=U.target.getStage().getPointerPosition();lt&&(lt.x-x.x,lt.y-x.y,Yt({x:lt.x,y:lt.y}),Z(""),re("new"),C(U),setTimeout(()=>{X.current&&(X.current.focus(),X.current.select())},100));return}if(["pen","rectangle","circle","line","ellipse"].includes(l))U.cancelBubble=!0,U.evt&&(U.evt.preventDefault(),U.evt.stopPropagation()),C(U);else if(l==="eraser")U.cancelBubble=!0,U.evt&&(U.evt.preventDefault(),U.evt.stopPropagation()),C(U);else if(l==="pan"){console.log("Pan tool - starting pan");const lt=Rt(U);lt&&(rt(!0),Et(lt),console.log("Pan started at:",lt))}}}},Ee=U=>{if(["pen","rectangle","circle","line","ellipse"].includes(l))U.cancelBubble=!0,U.evt&&(U.evt.preventDefault(),U.evt.stopPropagation()),T(U);else if(l==="eraser")U.cancelBubble=!0,U.evt&&(U.evt.preventDefault(),U.evt.stopPropagation()),T(U);else if(l==="pan"&&et){const lt=Rt(U);if(lt){const Te=lt.x-ot.x,Ga=lt.y-ot.y;console.log("Pan move - delta:",Te,Ga);const fe=Q.current;if(fe){const Vn=fe.x()+Te,ma=fe.y()+Ga;fe.x(Vn),fe.y(ma),console.log("New stage position:",Vn,ma)}Et(lt)}}},Yn=U=>{if(console.log("Stage mouse up - tool:",l),["pen","rectangle","circle","line","ellipse"].includes(l))U.cancelBubble=!0,U.evt&&(U.evt.preventDefault(),U.evt.stopPropagation()),S(U);else if(l==="eraser")U.cancelBubble=!0,U.evt&&(U.evt.preventDefault(),U.evt.stopPropagation()),S(U);else if(l==="pan"&&et){console.log("Pan tool - ending pan"),rt(!1);const lt=Q.current;if(lt){const Te={target:{x:()=>lt.x(),y:()=>lt.y()},evt:U.evt};E(Te)}}},zt=U=>{console.log("Stage drag end - tool:",l),U.evt&&(U.evt.preventDefault(),U.evt.stopPropagation()),E(U)},Ve=U=>{console.log("Stage drag start - tool:",l)},yn=U=>{console.log("Stage drag move - tool:",l,"position:",U.target.x(),U.target.y())},nt=U=>{O(U.target)},vt=U=>{console.log("onShapeClick called with tool:",l,"target:",U.target.id(),"name:",U.target.name()),l==="select"&&(U.cancelBubble=!0,U.evt&&(U.evt.preventDefault(),U.evt.stopPropagation()),U.evt&&U.evt.type&&U.evt.type.includes("touch")?setTimeout(()=>{C(U)},10):C(U))},ft=U=>{console.log("onImageClick called with tool:",l,"target:",U.target.id(),"name:",U.target.name()),l==="select"&&(U.cancelBubble=!0,U.evt&&(U.evt.preventDefault(),U.evt.stopPropagation()),U.evt&&U.evt.type&&U.evt.type.includes("touch")?setTimeout(()=>{C(U)},10):C(U))},st=U=>{l==="select"&&(U.cancelBubble=!0,U.evt&&(U.evt.preventDefault(),U.evt.stopPropagation()),U.evt&&U.evt.type&&U.evt.type.includes("touch")?setTimeout(()=>{C(U)},10):C(U))},pt=U=>{console.log("Text double click detected:",U.target.id()),U.cancelBubble=!0,U.evt&&U.evt.stopPropagation();const lt=U.target.id(),Te=a.find(Ga=>Ga.id===lt);if(console.log("Found text item:",Te),Te){const fe=Q.current.findOne("#"+lt);if(fe){const Vn=fe.getAbsolutePosition(),ma={x:Vn.x+x.x,y:Vn.y+x.y};console.log("Setting text input position:",ma),Yt(ma)}re(lt),Z(Te.text),w(lt),setTimeout(()=>{X.current?(console.log("Focusing text input"),X.current.focus(),X.current.select()):console.log("textInputRef.current is null")},100)}},J=()=>{if(Qt){const U=G.trim();Qt==="new"?U?ut.current&&N("new",U):ut.current&&N("new",""):N(Qt,U),re(null),Z("")}},mt=U=>{U.key==="Enter"&&!U.shiftKey?(U.preventDefault(),J()):U.key==="Escape"&&(Qt==="new"&&ut.current&&N("new",""),re(null),Z(""))},ic=U=>{setTimeout(()=>{X.current&&document.activeElement!==X.current&&J()},100)};return console.log("Rendering whiteboard with tool:",l,"draggable:",l==="pan"),console.log("Shapes:",n.length,"Images:",t.length,"Texts:",a.length,"Lines:",e.length),console.log("Current selection:",_),k.jsxs("div",{ref:at,style:{width:"100vw",height:"100vh",overflow:"hidden",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",position:"relative"},children:[k.jsx("img",{src:"/nlcc/logo.png",alt:"Logo",style:{position:"fixed",top:"20px",right:"20px",height:"50px",width:"auto",zIndex:1e3,pointerEvents:"none"}}),k.jsx(Iw,{activeTool:l,onToolChange:u,onClear:I,onImageUpload:M,selectedColor:r,onColorChange:o,selectedStroke:f,onStrokeChange:g,selectedFont:v,onFontChange:p,selectedFontSize:m,onFontSizeChange:b,onUndo:Y,onRedo:z,canUndo:j,canRedo:q}),Qt&&k.jsx("input",{ref:X,type:"text",value:G,onChange:U=>Z(U.target.value),onKeyDown:mt,onBlur:ic,onMouseDown:U=>{U.stopPropagation()},onFocus:U=>{U.target.select()},style:{position:"absolute",left:Math.max(0,ht.x),top:Math.max(0,ht.y),fontSize:`${m}px`,fontFamily:v,color:r,backgroundColor:"white",border:"2px solid #007bff",borderRadius:"4px",outline:"none",minWidth:"120px",padding:"6px 10px",zIndex:1e4,boxShadow:"0 4px 12px rgba(0,0,0,0.3)",caretColor:r,pointerEvents:"auto",userSelect:"text",WebkitUserSelect:"text"},placeholder:"Type text...",autoFocus:!0}),k.jsx(GR,{ref:Q,width:window.innerWidth,height:window.innerHeight,onMouseDown:It,onMouseMove:Ee,onMouseUp:Yn,onTouchStart:U=>{l==="select"?setTimeout(()=>{It(U)},10):It(U)},onTouchMove:Ee,onTouchEnd:Yn,draggable:!1,onDragStart:Ve,onDragMove:yn,onDragEnd:zt,x:x.x,y:x.y,style:{touchAction:l==="pan"||l==="select"?"none":"auto"},scaleX:1,scaleY:1,listening:!0,perfectDrawEnabled:!1,children:k.jsxs(MR,{listening:!0,perfectDrawEnabled:!1,imageSmoothingEnabled:!0,hitGraphEnabled:!0,children:[e.map((U,lt)=>k.jsx(D2,{points:U.points,stroke:U.color||"#000000",strokeWidth:U.strokeWidth||2.5,tension:.1,lineCap:"round",lineJoin:"round",globalCompositeOperation:"source-over",perfectDrawEnabled:!1,listening:!1,shadowForStrokeEnabled:!1,hitStrokeWidth:0,bezier:!1,closed:!1,fillEnabled:!1},U.id||`line-${lt}`)),t.map(U=>{const lt=Ot.get(U.id);return lt?k.jsx(UR,{id:U.id,name:"image",x:U.x,y:U.y,width:U.width,height:U.height,image:lt,draggable:l==="select"&&_.selectedId===U.id,onDragEnd:nt,onClick:ft,onTap:ft,onTouchStart:ft,scaleX:U.scaleX||1,scaleY:U.scaleY||1,rotation:U.rotation||0,listening:l==="select",perfectDrawEnabled:!1,hitStrokeWidth:l==="select"?10:0},U.id):null}),n.map(U=>{console.log("Rendering shape:",U.id,"listening:",l==="select","draggable:",l==="select"&&_.selectedId===U.id);const lt={id:U.id,name:"shape",x:U.x,y:U.y,stroke:U.color,strokeWidth:U.strokeWidth,fill:l==="select"?"rgba(0,0,0,0.01)":"transparent",draggable:l==="select"&&_.selectedId===U.id,onDragEnd:nt,onClick:vt,onTap:vt,onTouchStart:vt,scaleX:U.scaleX||1,scaleY:U.scaleY||1,rotation:U.rotation||0,listening:l==="select",perfectDrawEnabled:!1,hitStrokeWidth:l==="select"?Math.max(U.strokeWidth,10):U.strokeWidth};switch(U.type){case"rectangle":return k.jsx(NR,{...lt,width:U.width||0,height:U.height||0},U.id);case"circle":return k.jsx(OR,{...lt,radius:U.radius||0},U.id);case"ellipse":return k.jsx(RR,{...lt,radiusX:U.radiusX||0,radiusY:U.radiusY||0},U.id);case"line":return k.jsx(D2,{...lt,points:U.points||[],lineCap:"round",x:0,y:0},U.id);default:return null}}),a.map(U=>Qt==="new"&&U.text===""?null:k.jsx(zR,{id:U.id,name:"text",x:U.x,y:U.y,text:U.text,fontSize:U.fontSize,fontFamily:U.fontFamily,fill:U.color,scaleX:U.scaleX||1,scaleY:U.scaleY||1,rotation:U.rotation||0,draggable:l==="select"&&_.selectedId===U.id,onDragEnd:nt,onClick:st,onTap:st,onTouchStart:st,onDblClick:lt=>{console.log("Double click on text:",U.id),pt(lt)},onDblTap:pt,onMouseDown:lt=>{lt.cancelBubble=!0,lt.evt&&lt.evt.stopPropagation()},listening:!0,perfectDrawEnabled:!1,visible:Qt!==U.id},U.id)),l==="eraser"&&A.isErasing&&A.eraserPath.length>2&&k.jsx(D2,{points:A.eraserPath,stroke:"#ff0000",strokeWidth:3,lineCap:"round",lineJoin:"round",dash:[5,5],opacity:.7,listening:!1,perfectDrawEnabled:!1}),l==="select"&&k.jsx(wR,{ref:$,onTransformEnd:nt,onTransform:U=>{},onDragEnd:nt,boundBoxFunc:(U,lt)=>lt.width<5||lt.height<5?U:lt,enabledAnchors:["top-left","top-right","bottom-left","bottom-right","middle-left","middle-right","top-center","bottom-center"],borderEnabled:!0,anchorSize:24,anchorStroke:"#007bff",anchorFill:"#ffffff",anchorStrokeWidth:3,anchorCornerRadius:6,borderStroke:"#007bff",borderStrokeWidth:2,borderDash:[5,5],keepRatio:!1,centeredScaling:!1,ignoreStroke:!0,useSingleNodeRotation:!1,shouldOverdrawWholeArea:!1,flipEnabled:!1,resizeEnabled:!0,rotateEnabled:!0,anchorDragBoundFunc:(U,lt)=>lt})]})})]})};function tG(){return k.jsx("div",{children:k.jsx($w,{})})}ox.createRoot(document.getElementById("root")).render(k.jsx(tt.StrictMode,{children:k.jsx(tG,{})}));
